
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="The Agent2Agent protocol is an open standard that allows different AI agents to securely communicate, collaborate, and solve complex problems together.">
      
      
        <meta name="author" content="The Linux Foundation">
      
      
        <link rel="canonical" href="https://a2a-protocol.org/v0.2.3/specification/">
      
      
        <link rel="prev" href="../tutorials/python/8-next-steps/">
      
      
        <link rel="next" href="../sdk/">
      
      
      <link rel="icon" href="../assets/a2a-logo-black.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Specification - A2A Protocol</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M64%2032C28.7%2032%200%2060.7%200%2096v320c0%2035.3%2028.7%2064%2064%2064h224V368c0-26.5%2021.5-48%2048-48h112V96c0-35.3-28.7-64-64-64zm384%20320H336c-8.8%200-16%207.2-16%2016v112l32-32%2064-64z%22/%3E%3C/svg%3E');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M96%200C43%200%200%2043%200%2096v320c0%2053%2043%2096%2096%2096h320c17.7%200%2032-14.3%2032-32s-14.3-32-32-32v-64c17.7%200%2032-14.3%2032-32V32c0-17.7-14.3-32-32-32H96m0%20384h256v64H96c-17.7%200-32-14.3-32-32s14.3-32%2032-32m32-240c0-8.8%207.2-16%2016-16h192c8.8%200%2016%207.2%2016%2016s-7.2%2016-16%2016H144c-8.8%200-16-7.2-16-16m16%2048h192c8.8%200%2016%207.2%2016%2016s-7.2%2016-16%2016H144c-8.8%200-16-7.2-16-16s7.2-16%2016-16%22/%3E%3C/svg%3E');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M256%20512a256%20256%200%201%200%200-512%20256%20256%200%201%200%200%20512m-40-176h24v-64h-24c-13.3%200-24-10.7-24-24s10.7-24%2024-24h48c13.3%200%2024%2010.7%2024%2024v88h8c13.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024h-80c-13.3%200-24-10.7-24-24s10.7-24%2024-24m40-208a32%2032%200%201%201%200%2064%2032%2032%200%201%201%200-64%22/%3E%3C/svg%3E');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M480%2032c0-12.9-7.8-24.6-19.8-29.6S434.5.2%20425.3%209.3L381.7%2053c-48%2048-113.1%2075-181%2075H64c-35.3%200-64%2028.7-64%2064v96c0%2035.3%2028.7%2064%2064%2064v128c0%2017.7%2014.3%2032%2032%2032h64c17.7%200%2032-14.3%2032-32V352h8.7c67.9%200%20133%2027%20181%2075l43.6%2043.6c9.2%209.2%2022.9%2011.9%2034.9%206.9s19.8-16.6%2019.8-29.6V300.3c18.6-8.8%2032-32.5%2032-60.4s-13.4-51.6-32-60.4zm-64%2076.7v262.6C357.2%20317.8%20280.5%20288%20200.7%20288H192v-96h8.7c79.8%200%20156.5-29.8%20215.3-83.3%22/%3E%3C/svg%3E');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M438.6%20105.4c12.5%2012.5%2012.5%2032.8%200%2045.3l-256%20256c-12.5%2012.5-32.8%2012.5-45.3%200l-128-128c-12.5-12.5-12.5-32.8%200-45.3s32.8-12.5%2045.3%200L160%20338.7l233.4-233.3c12.5-12.5%2032.8-12.5%2045.3%200z%22/%3E%3C/svg%3E');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M256%20512a256%20256%200%201%200%200-512%20256%20256%200%201%200%200%20512m-86.2-346.7c7.9-22.3%2029.1-37.3%2052.8-37.3h58.3c34.9%200%2063.1%2028.3%2063.1%2063.1%200%2022.6-12.1%2043.5-31.7%2054.8L280%20264.4c-.2%2013-10.9%2023.6-24%2023.6-13.3%200-24-10.7-24-24v-13.5c0-8.6%204.6-16.5%2012.1-20.8l44.3-25.4c4.7-2.7%207.6-7.7%207.6-13.1%200-8.4-6.8-15.1-15.1-15.1h-58.3c-3.4%200-6.4%202.1-7.5%205.3l-.4%201.2c-4.4%2012.5-18.2%2019-30.6%2014.6s-19-18.2-14.6-30.6l.4-1.2zM224%20352a32%2032%200%201%201%2064%200%2032%2032%200%201%201-64%200%22/%3E%3C/svg%3E');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M256%2032c14.2%200%2027.3%207.5%2034.5%2019.8l216%20368c7.3%2012.4%207.3%2027.7.2%2040.1S486.3%20480%20472%20480H40c-14.3%200-27.6-7.7-34.7-20.1s-7-27.8.2-40.1l216-368C228.7%2039.5%20241.8%2032%20256%2032m0%20128c-13.3%200-24%2010.7-24%2024v112c0%2013.3%2010.7%2024%2024%2024s24-10.7%2024-24V184c0-13.3-10.7-24-24-24m32%20224a32%2032%200%201%200-64%200%2032%2032%200%201%200%2064%200%22/%3E%3C/svg%3E');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M459.1%2052.4%20442.6%206.5c-1.9-3.9-6.1-6.5-10.5-6.5s-8.5%202.6-10.4%206.5l-16.5%2045.9-46%2016.8c-4.3%201.6-7.3%205.9-7.2%2010.4%200%204.5%203%208.7%207.2%2010.2l45.7%2016.8%2016.8%2045.8c1.5%204.4%205.8%207.5%2010.4%207.5s8.9-3.1%2010.4-7.5l16.5-45.8%2045.7-16.8c4.2-1.5%207.2-5.7%207.2-10.2%200-4.6-3-8.9-7.2-10.4zm-132.4%2053c-12.5-12.5-32.8-12.5-45.3%200l-2.9%202.9c-22-8-45.8-12.3-70.5-12.3C93.1%2096%200%20189.1%200%20304s93.1%20208%20208%20208%20208-93.1%20208-208c0-24.7-4.3-48.5-12.2-70.5l2.9-2.9c12.5-12.5%2012.5-32.8%200-45.3l-80-80zM200%20192c-57.4%200-104%2046.6-104%20104v8c0%208.8-7.2%2016-16%2016s-16-7.2-16-16v-8c0-75.1%2060.9-136%20136-136h8c8.8%200%2016%207.2%2016%2016s-7.2%2016-16%2016z%22/%3E%3C/svg%3E');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M416%20398.9c58.5-41.1%2096-104.1%2096-174.9C512%20100.3%20397.4%200%20256%200S0%20100.3%200%20224c0%2070.7%2037.5%20133.8%2096%20174.9V464c0%2026.5%2021.5%2048%2048%2048h48v-48c0-8.8%207.2-16%2016-16s16%207.2%2016%2016v48h64v-48c0-8.8%207.2-16%2016-16s16%207.2%2016%2016v48h48c26.5%200%2048-21.5%2048-48v-65.1M96%20256a64%2064%200%201%201%20128%200%2064%2064%200%201%201-128%200m256-64a64%2064%200%201%201%200%20128%2064%2064%200%201%201%200-128%22/%3E%3C/svg%3E');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20640%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M320%200c17.7%200%2032%2014.3%2032%2032v64h120c39.8%200%2072%2032.2%2072%2072v272c0%2039.8-32.2%2072-72%2072H168c-39.8%200-72-32.2-72-72V168c0-39.8%2032.2-72%2072-72h120V32c0-17.7%2014.3-32%2032-32M208%20384c-8.8%200-16%207.2-16%2016s7.2%2016%2016%2016h32c8.8%200%2016-7.2%2016-16s-7.2-16-16-16zm96%200c-8.8%200-16%207.2-16%2016s7.2%2016%2016%2016h32c8.8%200%2016-7.2%2016-16s-7.2-16-16-16zm96%200c-8.8%200-16%207.2-16%2016s7.2%2016%2016%2016h32c8.8%200%2016-7.2%2016-16s-7.2-16-16-16zM264%20256a40%2040%200%201%200-80%200%2040%2040%200%201%200%2080%200m152%2040a40%2040%200%201%200%200-80%2040%2040%200%201%200%200%2080M48%20224h16v192H48c-26.5%200-48-21.5-48-48v-96c0-26.5%2021.5-48%2048-48m544%200c26.5%200%2048%2021.5%2048%2048v96c0%2026.5-21.5%2048-48%2048h-16V224z%22/%3E%3C/svg%3E');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M288%200H128c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032v132.8c0%2011.8-3.3%2023.5-9.5%2033.5L10.3%20406.2C3.6%20417.2%200%20429.7%200%20442.6%200%20480.9%2031.1%20512%2069.4%20512h309.2c38.3%200%2069.4-31.1%2069.4-69.4%200-12.8-3.6-25.4-10.3-36.4L329.5%20230.4c-6.2-10.1-9.5-21.7-9.5-33.5V64c17.7%200%2032-14.3%2032-32S337.7%200%20320%200zm-96%20196.8V64h64v132.8c0%2023.7%206.6%2046.9%2019%2067.1l34.5%2056.1h-171l34.5-56.1c12.4-20.2%2019-43.4%2019-67.1%22/%3E%3C/svg%3E');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M0%20216C0%20149.7%2053.7%2096%20120%2096h8c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032h-8c-30.9%200-56%2025.1-56%2056v8h64c35.3%200%2064%2028.7%2064%2064v64c0%2035.3-28.7%2064-64%2064H64c-35.3%200-64-28.7-64-64V216m256%200c0-66.3%2053.7-120%20120-120h8c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032h-8c-30.9%200-56%2025.1-56%2056v8h64c35.3%200%2064%2028.7%2064%2064v64c0%2035.3-28.7%2064-64%2064h-64c-35.3%200-64-28.7-64-64V216%22/%3E%3C/svg%3E');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Google+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Google Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-RB39M83WHB"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-RB39M83WHB",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-RB39M83WHB",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="white">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#agent2agent-a2a-protocol-official-specification" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="A2A Protocol" class="md-header__button md-logo" aria-label="A2A Protocol" data-md-component="logo">
      
  <img src="../assets/a2a-logo-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            A2A Protocol
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Specification
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="white"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/a2aproject/A2A" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    a2aproject/A2A
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="A2A Protocol" class="md-nav__button md-logo" aria-label="A2A Protocol" data-md-component="logo">
      
  <img src="../assets/a2a-logo-white.svg" alt="logo">

    </a>
    A2A Protocol
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/a2aproject/A2A" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    a2aproject/A2A
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Documentation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../topics/what-is-a2a/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    What is A2A?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../topics/key-concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core Concepts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../topics/agent-discovery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent Discovery
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../topics/enterprise-ready/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Enterprise Features
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../topics/life-of-a-task/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Life of a Task
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../topics/extensions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extensions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../topics/streaming-and-async/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Streaming & Asynchronous Operations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../topics/a2a-and-mcp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    A2A and MCP
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../tutorials/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Tutorials and Samples
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Tutorials and Samples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Quickstart (Python)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Quickstart (Python)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/python/1-introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/python/2-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/python/3-agent-skills-and-card/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent Skills & Agent Card
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/python/4-agent-executor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent Executor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/python/5-start-server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Start Server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/python/6-interact-with-server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Interact with Server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/python/7-streaming-and-multiturn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Streaming & Multiturn
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/python/8-next-steps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Next Steps
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Specification
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Specification
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      1. Introduction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-key-goals-of-a2a" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. Key Goals of A2A
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-guiding-principles" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. Guiding Principles
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-core-concepts-summary" class="md-nav__link">
    <span class="md-ellipsis">
      2. Core Concepts Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-transport-and-format" class="md-nav__link">
    <span class="md-ellipsis">
      3. Transport and Format
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Transport and Format">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-transport-layer-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Transport Layer Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-supported-transport-protocols" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Supported Transport Protocols
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2. Supported Transport Protocols">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321-json-rpc-20-transport" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.1. JSON-RPC 2.0 Transport
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#322-grpc-transport" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.2. gRPC Transport
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#323-httpjsonrest-transport" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.3. HTTP+JSON/REST Transport
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#324-transport-extensions" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.4. Transport Extensions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-streaming-transport-server-sent-events" class="md-nav__link">
    <span class="md-ellipsis">
      3.3. Streaming Transport (Server-Sent Events)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3. Streaming Transport (Server-Sent Events)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331-json-rpc-20-streaming" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.1. JSON-RPC 2.0 Streaming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332-grpc-streaming" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.2. gRPC Streaming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#333-httpjsonrest-streaming" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.3. HTTP+JSON/REST Streaming
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-transport-compliance-and-interoperability" class="md-nav__link">
    <span class="md-ellipsis">
      3.4. Transport Compliance and Interoperability
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4. Transport Compliance and Interoperability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341-functional-equivalence-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.1. Functional Equivalence Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#342-transport-selection-and-negotiation" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.2. Transport Selection and Negotiation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#343-transport-specific-extensions" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.3. Transport-Specific Extensions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-method-mapping-and-naming-conventions" class="md-nav__link">
    <span class="md-ellipsis">
      3.5. Method Mapping and Naming Conventions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.5. Method Mapping and Naming Conventions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#351-json-rpc-method-naming" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.1. JSON-RPC Method Naming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#352-grpc-method-naming" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.2. gRPC Method Naming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#353-httpjsonrest-method-naming" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.3. HTTP+JSON/REST Method Naming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#354-method-mapping-compliance" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.4. Method Mapping Compliance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#355-extension-method-naming" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.5. Extension Method Naming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#356-method-mapping-reference-table" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.6. Method Mapping Reference Table
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-authentication-and-authorization" class="md-nav__link">
    <span class="md-ellipsis">
      4. Authentication and Authorization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Authentication and Authorization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-transport-security" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Transport Security
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-server-identity-verification" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. Server Identity Verification
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-clientuser-identity-authentication-process" class="md-nav__link">
    <span class="md-ellipsis">
      4.3. Client/User Identity &amp; Authentication Process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-server-responsibilities-for-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      4.4. Server Responsibilities for Authentication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-in-task-authentication-secondary-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      4.5. In-Task Authentication (Secondary Credentials)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#46-authorization" class="md-nav__link">
    <span class="md-ellipsis">
      4.6. Authorization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-agent-discovery-the-agent-card" class="md-nav__link">
    <span class="md-ellipsis">
      5. Agent Discovery: The Agent Card
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Agent Discovery: The Agent Card">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-purpose" class="md-nav__link">
    <span class="md-ellipsis">
      5.1. Purpose
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-discovery-mechanisms" class="md-nav__link">
    <span class="md-ellipsis">
      5.2. Discovery Mechanisms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-recommended-location" class="md-nav__link">
    <span class="md-ellipsis">
      5.3. Recommended Location
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-security-of-agent-cards" class="md-nav__link">
    <span class="md-ellipsis">
      5.4. Security of Agent Cards
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55-agentcard-object-structure" class="md-nav__link">
    <span class="md-ellipsis">
      5.5. AgentCard Object Structure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.5. AgentCard Object Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#551-agentprovider-object" class="md-nav__link">
    <span class="md-ellipsis">
      5.5.1. AgentProvider Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#552-agentcapabilities-object" class="md-nav__link">
    <span class="md-ellipsis">
      5.5.2. AgentCapabilities Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5521-agentextension-object" class="md-nav__link">
    <span class="md-ellipsis">
      5.5.2.1. AgentExtension Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#553-securityscheme-object" class="md-nav__link">
    <span class="md-ellipsis">
      5.5.3. SecurityScheme Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#554-agentskill-object" class="md-nav__link">
    <span class="md-ellipsis">
      5.5.4. AgentSkill Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#555-agentinterface-object" class="md-nav__link">
    <span class="md-ellipsis">
      5.5.5. AgentInterface Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#556-agentcardsignature-object" class="md-nav__link">
    <span class="md-ellipsis">
      5.5.6. AgentCardSignature Object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#56-transport-declaration-and-url-relationships" class="md-nav__link">
    <span class="md-ellipsis">
      5.6. Transport Declaration and URL Relationships
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.6. Transport Declaration and URL Relationships">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#561-main-url-and-preferred-transport" class="md-nav__link">
    <span class="md-ellipsis">
      5.6.1. Main URL and Preferred Transport
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#562-additional-interfaces" class="md-nav__link">
    <span class="md-ellipsis">
      5.6.2. Additional Interfaces
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#563-client-transport-selection-rules" class="md-nav__link">
    <span class="md-ellipsis">
      5.6.3. Client Transport Selection Rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#564-validation-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      5.6.4. Validation Requirements
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#57-sample-agent-card" class="md-nav__link">
    <span class="md-ellipsis">
      5.7. Sample Agent Card
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-protocol-data-objects" class="md-nav__link">
    <span class="md-ellipsis">
      6. Protocol Data Objects
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Protocol Data Objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-task-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.1. Task Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-taskstatus-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.2. TaskStatus Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-taskstate-enum" class="md-nav__link">
    <span class="md-ellipsis">
      6.3. TaskState Enum
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-message-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.4. Message Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#65-part-union-type" class="md-nav__link">
    <span class="md-ellipsis">
      6.5. Part Union Type
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.5. Part Union Type">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#651-textpart-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.5.1. TextPart Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#652-filepart-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.5.2. FilePart Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#653-datapart-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.5.3. DataPart Object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#66-filebase-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.6 FileBase Object
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.6 FileBase Object">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#661-filewithbytes-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.6.1 FileWithBytes Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#662-filewithuri-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.6.2 FileWithUri Object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#67-artifact-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.7. Artifact Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#68-pushnotificationconfig-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.8. PushNotificationConfig Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#69-pushnotificationauthenticationinfo-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.9. PushNotificationAuthenticationInfo Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#610-taskpushnotificationconfig-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.10. TaskPushNotificationConfig Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#611-json-rpc-structures" class="md-nav__link">
    <span class="md-ellipsis">
      6.11. JSON-RPC Structures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.11. JSON-RPC Structures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#6111-jsonrpcrequest-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.11.1. JSONRPCRequest Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6112-jsonrpcresponse-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.11.2. JSONRPCResponse Object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#612-jsonrpcerror-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.12. JSONRPCError Object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-protocol-rpc-methods" class="md-nav__link">
    <span class="md-ellipsis">
      7. Protocol RPC Methods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Protocol RPC Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-messagesend" class="md-nav__link">
    <span class="md-ellipsis">
      7.1. message/send
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.1. message/send">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#711-messagesendparams-object" class="md-nav__link">
    <span class="md-ellipsis">
      7.1.1. MessageSendParams Object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-messagestream" class="md-nav__link">
    <span class="md-ellipsis">
      7.2. message/stream
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.2. message/stream">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#721-sendstreamingmessageresponse-object" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.1. SendStreamingMessageResponse Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#722-taskstatusupdateevent-object" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.2. TaskStatusUpdateEvent Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#723-taskartifactupdateevent-object" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.3. TaskArtifactUpdateEvent Object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-tasksget" class="md-nav__link">
    <span class="md-ellipsis">
      7.3. tasks/get
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.3. tasks/get">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#731-taskqueryparams-object" class="md-nav__link">
    <span class="md-ellipsis">
      7.3.1. TaskQueryParams Object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#74-taskscancel" class="md-nav__link">
    <span class="md-ellipsis">
      7.4. tasks/cancel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.4. tasks/cancel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#741-taskidparams-object-for-taskscancel-and-taskspushnotificationconfigget" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.1. TaskIdParams Object (for tasks/cancel and tasks/pushNotificationConfig/get)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#75-taskspushnotificationconfigset" class="md-nav__link">
    <span class="md-ellipsis">
      7.5. tasks/pushNotificationConfig/set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#76-taskspushnotificationconfigget" class="md-nav__link">
    <span class="md-ellipsis">
      7.6. tasks/pushNotificationConfig/get
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.6. tasks/pushNotificationConfig/get">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#761-gettaskpushnotificationconfigparams-object-taskspushnotificationconfigget" class="md-nav__link">
    <span class="md-ellipsis">
      7.6.1. GetTaskPushNotificationConfigParams Object (tasks/pushNotificationConfig/get)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#77-taskspushnotificationconfiglist" class="md-nav__link">
    <span class="md-ellipsis">
      7.7. tasks/pushNotificationConfig/list
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.7. tasks/pushNotificationConfig/list">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#771-listtaskpushnotificationconfigparams-object-taskspushnotificationconfiglist" class="md-nav__link">
    <span class="md-ellipsis">
      7.7.1. ListTaskPushNotificationConfigParams Object (tasks/pushNotificationConfig/list)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#78-taskspushnotificationconfigdelete" class="md-nav__link">
    <span class="md-ellipsis">
      7.8. tasks/pushNotificationConfig/delete
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.8. tasks/pushNotificationConfig/delete">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#781-deletetaskpushnotificationconfigparams-object-taskspushnotificationconfigdelete" class="md-nav__link">
    <span class="md-ellipsis">
      7.8.1. DeleteTaskPushNotificationConfigParams Object (tasks/pushNotificationConfig/delete)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#79-tasksresubscribe" class="md-nav__link">
    <span class="md-ellipsis">
      7.9. tasks/resubscribe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#710-agentgetauthenticatedextendedcard" class="md-nav__link">
    <span class="md-ellipsis">
      7.10. agent/getAuthenticatedExtendedCard
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      8. Error Handling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Error Handling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-standard-json-rpc-errors" class="md-nav__link">
    <span class="md-ellipsis">
      8.1. Standard JSON-RPC Errors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-a2a-specific-errors" class="md-nav__link">
    <span class="md-ellipsis">
      8.2. A2A-Specific Errors
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-common-workflows-examples" class="md-nav__link">
    <span class="md-ellipsis">
      9. Common Workflows &amp; Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Common Workflows &amp; Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-fetching-authenticated-extended-agent-card" class="md-nav__link">
    <span class="md-ellipsis">
      9.1. Fetching Authenticated Extended Agent Card
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-basic-execution-synchronous-polling-style" class="md-nav__link">
    <span class="md-ellipsis">
      9.2. Basic Execution (Synchronous / Polling Style)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93-streaming-task-execution-sse" class="md-nav__link">
    <span class="md-ellipsis">
      9.3. Streaming Task Execution (SSE)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#94-multi-turn-interaction-input-required" class="md-nav__link">
    <span class="md-ellipsis">
      9.4. Multi-Turn Interaction (Input Required)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#95-push-notification-setup-and-usage" class="md-nav__link">
    <span class="md-ellipsis">
      9.5. Push Notification Setup and Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#96-file-exchange-upload-and-download" class="md-nav__link">
    <span class="md-ellipsis">
      9.6. File Exchange (Upload and Download)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#97-structured-data-exchange-requesting-and-providing-json" class="md-nav__link">
    <span class="md-ellipsis">
      9.7. Structured Data Exchange (Requesting and Providing JSON)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-appendices" class="md-nav__link">
    <span class="md-ellipsis">
      10. Appendices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10. Appendices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#101-relationship-to-mcp-model-context-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      10.1. Relationship to MCP (Model Context Protocol)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#102-security-considerations-summary" class="md-nav__link">
    <span class="md-ellipsis">
      10.2. Security Considerations Summary
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-a2a-compliance-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      11. A2A Compliance Requirements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="11. A2A Compliance Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#111-agent-compliance" class="md-nav__link">
    <span class="md-ellipsis">
      11.1. Agent Compliance
    </span>
  </a>
  
    <nav class="md-nav" aria-label="11.1. Agent Compliance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1111-transport-support-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      11.1.1. Transport Support Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1112-core-method-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      11.1.2. Core Method Implementation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1113-optional-method-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      11.1.3. Optional Method Implementation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1114-multi-transport-compliance" class="md-nav__link">
    <span class="md-ellipsis">
      11.1.4. Multi-Transport Compliance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1115-data-format-compliance" class="md-nav__link">
    <span class="md-ellipsis">
      11.1.5. Data Format Compliance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112-client-compliance" class="md-nav__link">
    <span class="md-ellipsis">
      11.2. Client Compliance
    </span>
  </a>
  
    <nav class="md-nav" aria-label="11.2. Client Compliance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1121-transport-support" class="md-nav__link">
    <span class="md-ellipsis">
      11.2.1. Transport Support
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1122-protocol-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      11.2.2. Protocol Implementation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1123-optional-client-features" class="md-nav__link">
    <span class="md-ellipsis">
      11.2.3. Optional Client Features
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#113-compliance-testing" class="md-nav__link">
    <span class="md-ellipsis">
      11.3. Compliance Testing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../sdk/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    SDK Reference
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            SDK Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sdk/python/api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../community/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Community
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../partners/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Partners
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../roadmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Roadmap
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      1. Introduction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-key-goals-of-a2a" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. Key Goals of A2A
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-guiding-principles" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. Guiding Principles
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-core-concepts-summary" class="md-nav__link">
    <span class="md-ellipsis">
      2. Core Concepts Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-transport-and-format" class="md-nav__link">
    <span class="md-ellipsis">
      3. Transport and Format
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Transport and Format">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-transport-layer-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Transport Layer Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-supported-transport-protocols" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Supported Transport Protocols
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2. Supported Transport Protocols">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321-json-rpc-20-transport" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.1. JSON-RPC 2.0 Transport
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#322-grpc-transport" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.2. gRPC Transport
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#323-httpjsonrest-transport" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.3. HTTP+JSON/REST Transport
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#324-transport-extensions" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.4. Transport Extensions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-streaming-transport-server-sent-events" class="md-nav__link">
    <span class="md-ellipsis">
      3.3. Streaming Transport (Server-Sent Events)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3. Streaming Transport (Server-Sent Events)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331-json-rpc-20-streaming" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.1. JSON-RPC 2.0 Streaming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332-grpc-streaming" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.2. gRPC Streaming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#333-httpjsonrest-streaming" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.3. HTTP+JSON/REST Streaming
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-transport-compliance-and-interoperability" class="md-nav__link">
    <span class="md-ellipsis">
      3.4. Transport Compliance and Interoperability
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4. Transport Compliance and Interoperability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341-functional-equivalence-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.1. Functional Equivalence Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#342-transport-selection-and-negotiation" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.2. Transport Selection and Negotiation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#343-transport-specific-extensions" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.3. Transport-Specific Extensions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-method-mapping-and-naming-conventions" class="md-nav__link">
    <span class="md-ellipsis">
      3.5. Method Mapping and Naming Conventions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.5. Method Mapping and Naming Conventions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#351-json-rpc-method-naming" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.1. JSON-RPC Method Naming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#352-grpc-method-naming" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.2. gRPC Method Naming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#353-httpjsonrest-method-naming" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.3. HTTP+JSON/REST Method Naming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#354-method-mapping-compliance" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.4. Method Mapping Compliance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#355-extension-method-naming" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.5. Extension Method Naming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#356-method-mapping-reference-table" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.6. Method Mapping Reference Table
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-authentication-and-authorization" class="md-nav__link">
    <span class="md-ellipsis">
      4. Authentication and Authorization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Authentication and Authorization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-transport-security" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Transport Security
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-server-identity-verification" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. Server Identity Verification
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-clientuser-identity-authentication-process" class="md-nav__link">
    <span class="md-ellipsis">
      4.3. Client/User Identity &amp; Authentication Process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-server-responsibilities-for-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      4.4. Server Responsibilities for Authentication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-in-task-authentication-secondary-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      4.5. In-Task Authentication (Secondary Credentials)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#46-authorization" class="md-nav__link">
    <span class="md-ellipsis">
      4.6. Authorization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-agent-discovery-the-agent-card" class="md-nav__link">
    <span class="md-ellipsis">
      5. Agent Discovery: The Agent Card
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Agent Discovery: The Agent Card">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-purpose" class="md-nav__link">
    <span class="md-ellipsis">
      5.1. Purpose
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-discovery-mechanisms" class="md-nav__link">
    <span class="md-ellipsis">
      5.2. Discovery Mechanisms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-recommended-location" class="md-nav__link">
    <span class="md-ellipsis">
      5.3. Recommended Location
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-security-of-agent-cards" class="md-nav__link">
    <span class="md-ellipsis">
      5.4. Security of Agent Cards
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55-agentcard-object-structure" class="md-nav__link">
    <span class="md-ellipsis">
      5.5. AgentCard Object Structure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.5. AgentCard Object Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#551-agentprovider-object" class="md-nav__link">
    <span class="md-ellipsis">
      5.5.1. AgentProvider Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#552-agentcapabilities-object" class="md-nav__link">
    <span class="md-ellipsis">
      5.5.2. AgentCapabilities Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5521-agentextension-object" class="md-nav__link">
    <span class="md-ellipsis">
      5.5.2.1. AgentExtension Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#553-securityscheme-object" class="md-nav__link">
    <span class="md-ellipsis">
      5.5.3. SecurityScheme Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#554-agentskill-object" class="md-nav__link">
    <span class="md-ellipsis">
      5.5.4. AgentSkill Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#555-agentinterface-object" class="md-nav__link">
    <span class="md-ellipsis">
      5.5.5. AgentInterface Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#556-agentcardsignature-object" class="md-nav__link">
    <span class="md-ellipsis">
      5.5.6. AgentCardSignature Object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#56-transport-declaration-and-url-relationships" class="md-nav__link">
    <span class="md-ellipsis">
      5.6. Transport Declaration and URL Relationships
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.6. Transport Declaration and URL Relationships">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#561-main-url-and-preferred-transport" class="md-nav__link">
    <span class="md-ellipsis">
      5.6.1. Main URL and Preferred Transport
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#562-additional-interfaces" class="md-nav__link">
    <span class="md-ellipsis">
      5.6.2. Additional Interfaces
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#563-client-transport-selection-rules" class="md-nav__link">
    <span class="md-ellipsis">
      5.6.3. Client Transport Selection Rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#564-validation-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      5.6.4. Validation Requirements
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#57-sample-agent-card" class="md-nav__link">
    <span class="md-ellipsis">
      5.7. Sample Agent Card
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-protocol-data-objects" class="md-nav__link">
    <span class="md-ellipsis">
      6. Protocol Data Objects
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Protocol Data Objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-task-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.1. Task Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-taskstatus-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.2. TaskStatus Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-taskstate-enum" class="md-nav__link">
    <span class="md-ellipsis">
      6.3. TaskState Enum
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-message-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.4. Message Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#65-part-union-type" class="md-nav__link">
    <span class="md-ellipsis">
      6.5. Part Union Type
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.5. Part Union Type">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#651-textpart-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.5.1. TextPart Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#652-filepart-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.5.2. FilePart Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#653-datapart-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.5.3. DataPart Object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#66-filebase-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.6 FileBase Object
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.6 FileBase Object">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#661-filewithbytes-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.6.1 FileWithBytes Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#662-filewithuri-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.6.2 FileWithUri Object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#67-artifact-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.7. Artifact Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#68-pushnotificationconfig-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.8. PushNotificationConfig Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#69-pushnotificationauthenticationinfo-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.9. PushNotificationAuthenticationInfo Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#610-taskpushnotificationconfig-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.10. TaskPushNotificationConfig Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#611-json-rpc-structures" class="md-nav__link">
    <span class="md-ellipsis">
      6.11. JSON-RPC Structures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.11. JSON-RPC Structures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#6111-jsonrpcrequest-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.11.1. JSONRPCRequest Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6112-jsonrpcresponse-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.11.2. JSONRPCResponse Object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#612-jsonrpcerror-object" class="md-nav__link">
    <span class="md-ellipsis">
      6.12. JSONRPCError Object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-protocol-rpc-methods" class="md-nav__link">
    <span class="md-ellipsis">
      7. Protocol RPC Methods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Protocol RPC Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-messagesend" class="md-nav__link">
    <span class="md-ellipsis">
      7.1. message/send
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.1. message/send">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#711-messagesendparams-object" class="md-nav__link">
    <span class="md-ellipsis">
      7.1.1. MessageSendParams Object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-messagestream" class="md-nav__link">
    <span class="md-ellipsis">
      7.2. message/stream
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.2. message/stream">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#721-sendstreamingmessageresponse-object" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.1. SendStreamingMessageResponse Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#722-taskstatusupdateevent-object" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.2. TaskStatusUpdateEvent Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#723-taskartifactupdateevent-object" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.3. TaskArtifactUpdateEvent Object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-tasksget" class="md-nav__link">
    <span class="md-ellipsis">
      7.3. tasks/get
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.3. tasks/get">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#731-taskqueryparams-object" class="md-nav__link">
    <span class="md-ellipsis">
      7.3.1. TaskQueryParams Object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#74-taskscancel" class="md-nav__link">
    <span class="md-ellipsis">
      7.4. tasks/cancel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.4. tasks/cancel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#741-taskidparams-object-for-taskscancel-and-taskspushnotificationconfigget" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.1. TaskIdParams Object (for tasks/cancel and tasks/pushNotificationConfig/get)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#75-taskspushnotificationconfigset" class="md-nav__link">
    <span class="md-ellipsis">
      7.5. tasks/pushNotificationConfig/set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#76-taskspushnotificationconfigget" class="md-nav__link">
    <span class="md-ellipsis">
      7.6. tasks/pushNotificationConfig/get
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.6. tasks/pushNotificationConfig/get">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#761-gettaskpushnotificationconfigparams-object-taskspushnotificationconfigget" class="md-nav__link">
    <span class="md-ellipsis">
      7.6.1. GetTaskPushNotificationConfigParams Object (tasks/pushNotificationConfig/get)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#77-taskspushnotificationconfiglist" class="md-nav__link">
    <span class="md-ellipsis">
      7.7. tasks/pushNotificationConfig/list
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.7. tasks/pushNotificationConfig/list">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#771-listtaskpushnotificationconfigparams-object-taskspushnotificationconfiglist" class="md-nav__link">
    <span class="md-ellipsis">
      7.7.1. ListTaskPushNotificationConfigParams Object (tasks/pushNotificationConfig/list)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#78-taskspushnotificationconfigdelete" class="md-nav__link">
    <span class="md-ellipsis">
      7.8. tasks/pushNotificationConfig/delete
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.8. tasks/pushNotificationConfig/delete">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#781-deletetaskpushnotificationconfigparams-object-taskspushnotificationconfigdelete" class="md-nav__link">
    <span class="md-ellipsis">
      7.8.1. DeleteTaskPushNotificationConfigParams Object (tasks/pushNotificationConfig/delete)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#79-tasksresubscribe" class="md-nav__link">
    <span class="md-ellipsis">
      7.9. tasks/resubscribe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#710-agentgetauthenticatedextendedcard" class="md-nav__link">
    <span class="md-ellipsis">
      7.10. agent/getAuthenticatedExtendedCard
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      8. Error Handling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Error Handling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-standard-json-rpc-errors" class="md-nav__link">
    <span class="md-ellipsis">
      8.1. Standard JSON-RPC Errors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-a2a-specific-errors" class="md-nav__link">
    <span class="md-ellipsis">
      8.2. A2A-Specific Errors
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-common-workflows-examples" class="md-nav__link">
    <span class="md-ellipsis">
      9. Common Workflows &amp; Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Common Workflows &amp; Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-fetching-authenticated-extended-agent-card" class="md-nav__link">
    <span class="md-ellipsis">
      9.1. Fetching Authenticated Extended Agent Card
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-basic-execution-synchronous-polling-style" class="md-nav__link">
    <span class="md-ellipsis">
      9.2. Basic Execution (Synchronous / Polling Style)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93-streaming-task-execution-sse" class="md-nav__link">
    <span class="md-ellipsis">
      9.3. Streaming Task Execution (SSE)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#94-multi-turn-interaction-input-required" class="md-nav__link">
    <span class="md-ellipsis">
      9.4. Multi-Turn Interaction (Input Required)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#95-push-notification-setup-and-usage" class="md-nav__link">
    <span class="md-ellipsis">
      9.5. Push Notification Setup and Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#96-file-exchange-upload-and-download" class="md-nav__link">
    <span class="md-ellipsis">
      9.6. File Exchange (Upload and Download)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#97-structured-data-exchange-requesting-and-providing-json" class="md-nav__link">
    <span class="md-ellipsis">
      9.7. Structured Data Exchange (Requesting and Providing JSON)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-appendices" class="md-nav__link">
    <span class="md-ellipsis">
      10. Appendices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10. Appendices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#101-relationship-to-mcp-model-context-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      10.1. Relationship to MCP (Model Context Protocol)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#102-security-considerations-summary" class="md-nav__link">
    <span class="md-ellipsis">
      10.2. Security Considerations Summary
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-a2a-compliance-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      11. A2A Compliance Requirements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="11. A2A Compliance Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#111-agent-compliance" class="md-nav__link">
    <span class="md-ellipsis">
      11.1. Agent Compliance
    </span>
  </a>
  
    <nav class="md-nav" aria-label="11.1. Agent Compliance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1111-transport-support-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      11.1.1. Transport Support Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1112-core-method-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      11.1.2. Core Method Implementation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1113-optional-method-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      11.1.3. Optional Method Implementation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1114-multi-transport-compliance" class="md-nav__link">
    <span class="md-ellipsis">
      11.1.4. Multi-Transport Compliance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1115-data-format-compliance" class="md-nav__link">
    <span class="md-ellipsis">
      11.1.5. Data Format Compliance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112-client-compliance" class="md-nav__link">
    <span class="md-ellipsis">
      11.2. Client Compliance
    </span>
  </a>
  
    <nav class="md-nav" aria-label="11.2. Client Compliance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1121-transport-support" class="md-nav__link">
    <span class="md-ellipsis">
      11.2.1. Transport Support
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1122-protocol-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      11.2.2. Protocol Implementation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1123-optional-client-features" class="md-nav__link">
    <span class="md-ellipsis">
      11.2.3. Optional Client Features
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#113-compliance-testing" class="md-nav__link">
    <span class="md-ellipsis">
      11.3. Compliance Testing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="agent2agent-a2a-protocol-official-specification">Agent2Agent (A2A) Protocol Official Specification<a class="headerlink" href="#agent2agent-a2a-protocol-official-specification" title="Permanent link">&para;</a></h1>
<details class="note">
<summary><strong>Latest Version</strong> <a href="https://a2a-protocol.org/v0.3.0/specification"><code>0.3.0</code></a></summary>
<p><strong>Previous Versions</strong></p>
<ul>
<li><a href="https://a2a-protocol.org/v0.2.6/specification"><code>0.2.6</code></a></li>
<li><a href="https://a2a-protocol.org/v0.2.5/specification"><code>0.2.5</code></a></li>
<li><a href="https://a2a-protocol.org/v0.2.4/specification"><code>0.2.4</code></a></li>
<li><a href="../0.2.3/specification.md"><code>0.2.3</code></a></li>
<li><a href="../0.2.2/specification.md"><code>0.2.2</code></a></li>
<li><a href="../0.2.1/specification.md"><code>0.2.1</code></a></li>
<li><a href="../0.2.0/specification.md"><code>0.2.0</code></a></li>
<li><a href="../0.1.0/specification.md"><code>0.1.0</code></a></li>
</ul>
</details>
<p>See <a href="https://github.com/a2aproject/A2A/releases">Release Notes</a> for changes made between versions.</p>
<h2 id="1-introduction">1. Introduction<a class="headerlink" href="#1-introduction" title="Permanent link">&para;</a></h2>
<p>The Agent2Agent (A2A) Protocol is an open standard designed to facilitate communication and interoperability between independent, potentially opaque AI agent systems. In an ecosystem where agents might be built using different frameworks, languages, or by different vendors, A2A provides a common language and interaction model.</p>
<p>This document provides the detailed technical specification for the A2A protocol. Its primary goal is to enable agents to:</p>
<ul>
<li>Discover each other's capabilities.</li>
<li>Negotiate interaction modalities (text, files, structured data).</li>
<li>Manage collaborative tasks.</li>
<li>Securely exchange information to achieve user goals <strong>without needing access to each other's internal state, memory, or tools.</strong></li>
</ul>
<h3 id="11-key-goals-of-a2a">1.1. Key Goals of A2A<a class="headerlink" href="#11-key-goals-of-a2a" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Interoperability:</strong> Bridge the communication gap between disparate agentic systems.</li>
<li><strong>Collaboration:</strong> Enable agents to delegate tasks, exchange context, and work together on complex user requests.</li>
<li><strong>Discovery:</strong> Allow agents to dynamically find and understand the capabilities of other agents.</li>
<li><strong>Flexibility:</strong> Support various interaction modes including synchronous request/response, streaming for real-time updates, and asynchronous push notifications for long-running tasks.</li>
<li><strong>Security:</strong> Facilitate secure communication patterns suitable for enterprise environments, relying on standard web security practices.</li>
<li><strong>Asynchronicity:</strong> Natively support long-running tasks and interactions that may involve human-in-the-loop scenarios.</li>
</ul>
<h3 id="12-guiding-principles">1.2. Guiding Principles<a class="headerlink" href="#12-guiding-principles" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Simple:</strong> Reuse existing, well-understood standards (HTTP, JSON-RPC 2.0, Server-Sent Events).</li>
<li><strong>Enterprise Ready:</strong> Address authentication, authorization, security, privacy, tracing, and monitoring by aligning with established enterprise practices.</li>
<li><strong>Async First:</strong> Designed for (potentially very) long-running tasks and human-in-the-loop interactions.</li>
<li><strong>Modality Agnostic:</strong> Support exchange of diverse content types including text, audio/video (via file references), structured data/forms, and potentially embedded UI components (e.g., iframes referenced in parts).</li>
<li><strong>Opaque Execution:</strong> Agents collaborate based on declared capabilities and exchanged information, without needing to share their internal thoughts, plans, or tool implementations.</li>
</ul>
<p>For a broader understanding of A2A's purpose and benefits, see <a href="../topics/what-is-a2a/">What is A2A?</a>.</p>
<h2 id="2-core-concepts-summary">2. Core Concepts Summary<a class="headerlink" href="#2-core-concepts-summary" title="Permanent link">&para;</a></h2>
<p>A2A revolves around several key concepts. For detailed explanations, please refer to the <a href="../topics/key-concepts/">Key Concepts guide</a>.</p>
<ul>
<li><strong>A2A Client:</strong> An application or agent that initiates requests to an A2A Server on behalf of a user or another system.</li>
<li><strong>A2A Server (Remote Agent):</strong> An agent or agentic system that exposes an A2A-compliant HTTP endpoint, processing tasks and providing responses.</li>
<li><strong>Agent Card:</strong> A JSON metadata document published by an A2A Server, describing its identity, capabilities, skills, service endpoint, and authentication requirements.</li>
<li><strong>Message:</strong> A communication turn between a client and a remote agent, having a <code>role</code> ("user" or "agent") and containing one or more <code>Parts</code>.</li>
<li><strong>Task:</strong> The fundamental unit of work managed by A2A, identified by a unique ID. Tasks are stateful and progress through a defined lifecycle.</li>
<li><strong>Part:</strong> The smallest unit of content within a Message or Artifact (e.g., <code>TextPart</code>, <code>FilePart</code>, <code>DataPart</code>).</li>
<li><strong>Artifact:</strong> An output (e.g., a document, image, structured data) generated by the agent as a result of a task, composed of <code>Parts</code>.</li>
<li><strong>Streaming (SSE):</strong> Real-time, incremental updates for tasks (status changes, artifact chunks) delivered via Server-Sent Events.</li>
<li><strong>Push Notifications:</strong> Asynchronous task updates delivered via server-initiated HTTP POST requests to a client-provided webhook URL, for long-running or disconnected scenarios.</li>
<li><strong>Context:</strong> An optional, server-generated identifier to logically group related tasks.</li>
<li><strong>Extension:</strong> A mechanism for agents to provide additional functionality or data beyond the core A2A specification.</li>
</ul>
<h2 id="3-transport-and-format">3. Transport and Format<a class="headerlink" href="#3-transport-and-format" title="Permanent link">&para;</a></h2>
<h3 id="31-transport-layer-requirements">3.1. Transport Layer Requirements<a class="headerlink" href="#31-transport-layer-requirements" title="Permanent link">&para;</a></h3>
<p>A2A supports multiple transport protocols, all operating over <strong>HTTP(S)</strong>. Agents have flexibility in choosing which transport protocols to implement based on their specific requirements and use cases:</p>
<ul>
<li>A2A communication <strong>MUST</strong> occur over <strong>HTTP(S)</strong>.</li>
<li>The A2A Server exposes its service at one or more URLs defined in its <code>AgentCard</code>.</li>
<li>Agents <strong>MUST</strong> implement at least one of the three core transport protocols defined in this specification.</li>
<li>All supported transport protocols are considered equal in status and capability.</li>
</ul>
<h3 id="32-supported-transport-protocols">3.2. Supported Transport Protocols<a class="headerlink" href="#32-supported-transport-protocols" title="Permanent link">&para;</a></h3>
<p>A2A defines three core transport protocols. <strong>A2A-compliant agents SHOULD implement at least one of these transport protocols. They MAY be compliant implementing a transport extension as defined in <a href="#324-transport-extensions">3.2.4</a></strong> All three protocols are considered equal in status, and agents may choose to implement any combination of them based on their requirements.</p>
<h4 id="321-json-rpc-20-transport">3.2.1. JSON-RPC 2.0 Transport<a class="headerlink" href="#321-json-rpc-20-transport" title="Permanent link">&para;</a></h4>
<p>Agents <strong>MAY</strong> support JSON-RPC 2.0 transport. If implemented, it <strong>MUST</strong> conform to these requirements:</p>
<ul>
<li>The primary data format is <strong><a href="https://www.jsonrpc.org/specification">JSON-RPC 2.0</a></strong> for all requests and responses (excluding SSE stream wrapper).</li>
<li>Client requests and server responses <strong>MUST</strong> adhere to the JSON-RPC 2.0 specification.</li>
<li>The <code>Content-Type</code> header for HTTP requests and responses containing JSON-RPC payloads <strong>MUST</strong> be <code>application/json</code>.</li>
<li>Method names follow the pattern <code>{category}/{action}</code> (e.g., <code>"message/send"</code>, <code>"tasks/get"</code>).</li>
</ul>
<h4 id="322-grpc-transport">3.2.2. gRPC Transport<a class="headerlink" href="#322-grpc-transport" title="Permanent link">&para;</a></h4>
<p>Agents <strong>MAY</strong> support gRPC transport. If implemented, it <strong>MUST</strong> conform to these requirements:</p>
<ul>
<li><strong>Protocol Definition</strong>: <strong>MUST</strong> use the normative Protocol Buffers definition in <a href="https://github.com/a2aproject/A2A/blob/main/specification/grpc/a2a.proto"><code>specification/grpc/a2a.proto</code></a>.</li>
<li><strong>Message Serialization</strong>: <strong>MUST</strong> use Protocol Buffers version 3 for message serialization.</li>
<li><strong>Service Definition</strong>: <strong>MUST</strong> implement the <code>A2AService</code> gRPC service as defined in the proto file.</li>
<li><strong>Method Coverage</strong>: <strong>MUST</strong> provide all methods with functionally equivalent behavior to other supported transports.</li>
<li><strong>Field Mapping</strong>: <strong>MUST</strong> use the <code>json_name</code> annotations for HTTP/JSON transcoding compatibility.</li>
<li><strong>Error Handling</strong>: <strong>MUST</strong> map A2A error codes to appropriate gRPC status codes as defined in the proto annotations.</li>
<li><strong>Transport Security</strong>: <strong>MUST</strong> support TLS encryption (gRPC over HTTP/2 with TLS).</li>
</ul>
<h4 id="323-httpjsonrest-transport">3.2.3. HTTP+JSON/REST Transport<a class="headerlink" href="#323-httpjsonrest-transport" title="Permanent link">&para;</a></h4>
<p>Agents <strong>MAY</strong> support REST-style HTTP+JSON transport. If implemented, it <strong>MUST</strong> conform to these requirements:</p>
<ul>
<li><strong>HTTP Methods</strong>: <strong>MUST</strong> use appropriate HTTP verbs (GET for queries, POST for actions, PUT for updates, DELETE for removal).</li>
<li><strong>URL Patterns</strong>: <strong>MUST</strong> follow the URL patterns documented in each method section (e.g., <code>/v1/message:send</code>, <code>/v1/tasks/{id}</code>).</li>
<li><strong>Content-Type</strong>: <strong>MUST</strong> use <code>application/json</code> for request and response bodies.</li>
<li><strong>HTTP Status Codes</strong>: <strong>MUST</strong> use appropriate HTTP status codes (200, 400, 401, 403, 404, 500, etc.) that correspond to A2A error types.</li>
<li><strong>Request/Response Format</strong>: <strong>MUST</strong> use JSON objects that are structurally equivalent to the core A2A data structures.</li>
<li><strong>Method Coverage</strong>: <strong>MUST</strong> provide all methods with functionally equivalent behavior to other supported transports.</li>
<li><strong>Error Format</strong>: <strong>MUST</strong> return error responses in a consistent JSON format that maps to A2A error types.</li>
</ul>
<h4 id="324-transport-extensions">3.2.4. Transport Extensions<a class="headerlink" href="#324-transport-extensions" title="Permanent link">&para;</a></h4>
<p>Additional transport protocols <strong>MAY</strong> be defined as extensions to the core A2A specification. Such extensions:</p>
<ul>
<li><strong>MUST</strong> maintain functional equivalence with the core transports</li>
<li><strong>MUST</strong> use clear namespace identifiers to avoid conflicts</li>
<li><strong>MUST</strong> be clearly documented and specified</li>
<li><strong>SHOULD</strong> provide migration paths from core transports</li>
</ul>
<h3 id="33-streaming-transport-server-sent-events">3.3. Streaming Transport (Server-Sent Events)<a class="headerlink" href="#33-streaming-transport-server-sent-events" title="Permanent link">&para;</a></h3>
<p>Streaming capabilities are <strong>transport-specific</strong>:</p>
<h4 id="331-json-rpc-20-streaming">3.3.1. JSON-RPC 2.0 Streaming<a class="headerlink" href="#331-json-rpc-20-streaming" title="Permanent link">&para;</a></h4>
<p>When streaming is used for methods like <code>message/stream</code> or <code>tasks/resubscribe</code>:</p>
<ul>
<li>The server responds with an HTTP <code>200 OK</code> status and a <code>Content-Type</code> header of <code>text/event-stream</code>.</li>
<li>The body of this HTTP response contains a stream of <strong><a href="https://html.spec.whatwg.org/multipage/server-sent-events.html#server-sent-events">Server-Sent Events (SSE)</a></strong> as defined by the W3C.</li>
<li>Each SSE <code>data</code> field contains a complete JSON-RPC 2.0 Response object (specifically, a <a href="#721-sendstreamingmessageresponse-object"><code>SendStreamingMessageResponse</code></a>).</li>
</ul>
<h4 id="332-grpc-streaming">3.3.2. gRPC Streaming<a class="headerlink" href="#332-grpc-streaming" title="Permanent link">&para;</a></h4>
<p>gRPC transport uses <strong>server streaming RPCs</strong> for streaming operations as defined in the Protocol Buffers specification.</p>
<h4 id="333-httpjsonrest-streaming">3.3.3. HTTP+JSON/REST Streaming<a class="headerlink" href="#333-httpjsonrest-streaming" title="Permanent link">&para;</a></h4>
<p>If REST transport is supported it <strong>MUST</strong> implement streaming using Server-Sent Events similar to JSON-RPC.</p>
<h3 id="34-transport-compliance-and-interoperability">3.4. Transport Compliance and Interoperability<a class="headerlink" href="#34-transport-compliance-and-interoperability" title="Permanent link">&para;</a></h3>
<h4 id="341-functional-equivalence-requirements">3.4.1. Functional Equivalence Requirements<a class="headerlink" href="#341-functional-equivalence-requirements" title="Permanent link">&para;</a></h4>
<p>When an agent supports multiple transports, all supported transports <strong>MUST</strong>:</p>
<ul>
<li><strong>Identical Functionality</strong>: Provide the same set of operations and capabilities.</li>
<li><strong>Consistent Behavior</strong>: Return semantically equivalent results for the same requests.</li>
<li><strong>Same Error Handling</strong>: Map errors consistently across transports using the error codes defined in <a href="#8-error-handling">Section 8</a>.</li>
<li><strong>Equivalent Authentication</strong>: Support the same authentication schemes declared in the <code>AgentCard</code>.</li>
</ul>
<h4 id="342-transport-selection-and-negotiation">3.4.2. Transport Selection and Negotiation<a class="headerlink" href="#342-transport-selection-and-negotiation" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Agent Declaration</strong>: Agents <strong>MUST</strong> declare all supported transports in their <code>AgentCard</code> using the <code>preferredTransport</code> and <code>additionalInterfaces</code> fields.</li>
<li><strong>Client Choice</strong>: Clients <strong>MAY</strong> choose any transport declared by the agent.</li>
<li><strong>No Transport Negotiation</strong>: A2A does not define a dynamic transport negotiation protocol. Clients select a transport based on the static <code>AgentCard</code> information.</li>
<li><strong>Fallback Behavior</strong>: Clients <strong>SHOULD</strong> implement fallback logic to try alternative transports if their preferred transport fails. The specific fallback strategy is implementation-dependent.</li>
</ul>
<h4 id="343-transport-specific-extensions">3.4.3. Transport-Specific Extensions<a class="headerlink" href="#343-transport-specific-extensions" title="Permanent link">&para;</a></h4>
<p>Transports <strong>MAY</strong> provide transport-specific optimizations or extensions that do not compromise functional equivalence:</p>
<ul>
<li><strong>gRPC</strong>: May leverage gRPC-specific features like bidirectional streaming, metadata, or custom status codes.</li>
<li><strong>REST</strong>: May provide additional HTTP caching headers or support HTTP conditional requests.</li>
<li><strong>JSON-RPC</strong>: May include additional fields in the JSON-RPC request/response objects that do not conflict with the core specification.</li>
</ul>
<p>Such extensions <strong>MUST</strong> be backward-compatible and <strong>MUST NOT</strong> break interoperability with clients that do not support the extensions.</p>
<h3 id="35-method-mapping-and-naming-conventions">3.5. Method Mapping and Naming Conventions<a class="headerlink" href="#35-method-mapping-and-naming-conventions" title="Permanent link">&para;</a></h3>
<p>To ensure consistency and predictability across different transports, A2A defines normative method mapping rules.</p>
<h4 id="351-json-rpc-method-naming">3.5.1. JSON-RPC Method Naming<a class="headerlink" href="#351-json-rpc-method-naming" title="Permanent link">&para;</a></h4>
<p>JSON-RPC methods <strong>MUST</strong> follow the pattern: <code>{category}/{action}</code> where:</p>
<ul>
<li><code>category</code> represents the resource type (e.g., "message", "tasks", "agent")</li>
<li><code>action</code> represents the operation (e.g., "send", "get", "cancel")</li>
<li>Nested actions use forward slashes (e.g., "tasks/pushNotificationConfig/set")</li>
</ul>
<h4 id="352-grpc-method-naming">3.5.2. gRPC Method Naming<a class="headerlink" href="#352-grpc-method-naming" title="Permanent link">&para;</a></h4>
<p>gRPC methods <strong>MUST</strong> follow Protocol Buffers service conventions using PascalCase:</p>
<ul>
<li>Convert JSON-RPC category/action to PascalCase compound words</li>
<li>Use standard gRPC method prefixes (Get, Set, List, Create, Delete, Cancel)</li>
</ul>
<h4 id="353-httpjsonrest-method-naming">3.5.3. HTTP+JSON/REST Method Naming<a class="headerlink" href="#353-httpjsonrest-method-naming" title="Permanent link">&para;</a></h4>
<p>REST endpoints <strong>MUST</strong> follow RESTful URL patterns with appropriate HTTP verbs:</p>
<ul>
<li>Use resource-based URLs: <code>/v1/{resource}[/{id}][:{action}]</code></li>
<li>Use standard HTTP methods aligned with REST semantics</li>
<li>Use colon notation for non-CRUD actions</li>
</ul>
<h4 id="354-method-mapping-compliance">3.5.4. Method Mapping Compliance<a class="headerlink" href="#354-method-mapping-compliance" title="Permanent link">&para;</a></h4>
<p>When implementing multiple transports, agents <strong>MUST</strong>:</p>
<ul>
<li><strong>Use standard mappings</strong>: Follow the method mappings defined in sections 3.5.2 and 3.5.3.</li>
<li><strong>Maintain functional equivalence</strong>: Each transport-specific method <strong>MUST</strong> provide identical functionality across all supported transports.</li>
<li><strong>Consistent parameters</strong>: Use equivalent parameter structures across transports (accounting for transport-specific serialization differences).</li>
<li><strong>Equivalent responses</strong>: Return semantically equivalent responses across all transports for the same operation.</li>
</ul>
<h4 id="355-extension-method-naming">3.5.5. Extension Method Naming<a class="headerlink" href="#355-extension-method-naming" title="Permanent link">&para;</a></h4>
<p>For custom or extension methods not defined in the core A2A specification:</p>
<ul>
<li><strong>JSON-RPC</strong>: Follow the <code>{category}/{action}</code> pattern with a clear namespace (e.g., <code>myorg.extension/action</code>)</li>
<li><strong>gRPC</strong>: Use appropriate service and method names following Protocol Buffers conventions</li>
<li><strong>REST</strong>: Use clear resource-based URLs with appropriate HTTP methods</li>
</ul>
<p>Extension methods <strong>MUST</strong> be clearly documented and <strong>MUST NOT</strong> conflict with core A2A method names or semantics.</p>
<h4 id="356-method-mapping-reference-table">3.5.6. Method Mapping Reference Table<a class="headerlink" href="#356-method-mapping-reference-table" title="Permanent link">&para;</a></h4>
<p>For quick reference, the following table summarizes the method mappings across all transports:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">JSON-RPC Method</th>
<th style="text-align: left;">gRPC Method</th>
<th style="text-align: left;">REST Endpoint</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>message/send</code></td>
<td style="text-align: left;"><code>SendMessage</code></td>
<td style="text-align: left;"><code>POST /v1/message:send</code></td>
<td style="text-align: left;">Send message to agent</td>
</tr>
<tr>
<td style="text-align: left;"><code>message/stream</code></td>
<td style="text-align: left;"><code>SendStreamingMessage</code></td>
<td style="text-align: left;"><code>POST /v1/message:stream</code></td>
<td style="text-align: left;">Send message with streaming</td>
</tr>
<tr>
<td style="text-align: left;"><code>tasks/get</code></td>
<td style="text-align: left;"><code>GetTask</code></td>
<td style="text-align: left;"><code>GET /v1/tasks/{id}</code></td>
<td style="text-align: left;">Get task status</td>
</tr>
<tr>
<td style="text-align: left;"><code>tasks/list</code></td>
<td style="text-align: left;"><code>ListTask</code></td>
<td style="text-align: left;"><code>GET /v1/tasks</code></td>
<td style="text-align: left;">List tasks (gRPC/REST only)</td>
</tr>
<tr>
<td style="text-align: left;"><code>tasks/cancel</code></td>
<td style="text-align: left;"><code>CancelTask</code></td>
<td style="text-align: left;"><code>POST /v1/tasks/{id}:cancel</code></td>
<td style="text-align: left;">Cancel task</td>
</tr>
<tr>
<td style="text-align: left;"><code>tasks/resubscribe</code></td>
<td style="text-align: left;"><code>TaskSubscription</code></td>
<td style="text-align: left;"><code>POST /v1/tasks/{id}:subscribe</code></td>
<td style="text-align: left;">Resume task streaming</td>
</tr>
<tr>
<td style="text-align: left;"><code>tasks/pushNotificationConfig/set</code></td>
<td style="text-align: left;"><code>CreateTaskPushNotification</code></td>
<td style="text-align: left;"><code>POST /v1/tasks/{id}/pushNotificationConfigs</code></td>
<td style="text-align: left;">Set push notification config</td>
</tr>
<tr>
<td style="text-align: left;"><code>tasks/pushNotificationConfig/get</code></td>
<td style="text-align: left;"><code>GetTaskPushNotification</code></td>
<td style="text-align: left;"><code>GET /v1/tasks/{id}/pushNotificationConfigs/{configId}</code></td>
<td style="text-align: left;">Get push notification config</td>
</tr>
<tr>
<td style="text-align: left;"><code>tasks/pushNotificationConfig/list</code></td>
<td style="text-align: left;"><code>ListTaskPushNotification</code></td>
<td style="text-align: left;"><code>GET /v1/tasks/{id}/pushNotificationConfigs</code></td>
<td style="text-align: left;">List push notification configs</td>
</tr>
<tr>
<td style="text-align: left;"><code>tasks/pushNotificationConfig/delete</code></td>
<td style="text-align: left;"><code>DeleteTaskPushNotification</code></td>
<td style="text-align: left;"><code>DELETE /v1/tasks/{id}/pushNotificationConfigs/{configId}</code></td>
<td style="text-align: left;">Delete push notification config</td>
</tr>
<tr>
<td style="text-align: left;"><code>agent/getAuthenticatedExtendedCard</code></td>
<td style="text-align: left;"><code>GetAgentCard</code></td>
<td style="text-align: left;"><code>GET /v1/card</code></td>
<td style="text-align: left;">Get authenticated agent card</td>
</tr>
</tbody>
</table>
<h2 id="4-authentication-and-authorization">4. Authentication and Authorization<a class="headerlink" href="#4-authentication-and-authorization" title="Permanent link">&para;</a></h2>
<p>A2A treats agents as standard enterprise applications, relying on established web security practices. Identity information is <strong>not</strong> transmitted within A2A JSON-RPC payloads; it is handled at the HTTP transport layer.</p>
<p>For a comprehensive guide on enterprise security aspects, see <a href="../topics/enterprise-ready/">Enterprise-Ready Features</a>.</p>
<h3 id="41-transport-security">4.1. Transport Security<a class="headerlink" href="#41-transport-security" title="Permanent link">&para;</a></h3>
<p>As stated in section 3.1, production deployments <strong>MUST</strong> use HTTPS. Implementations <strong>SHOULD</strong> use modern <a href="https://datatracker.ietf.org/doc/html/rfc8446">TLS</a> configurations (TLS 1.3+ recommended) with strong cipher suites.</p>
<h3 id="42-server-identity-verification">4.2. Server Identity Verification<a class="headerlink" href="#42-server-identity-verification" title="Permanent link">&para;</a></h3>
<p>A2A Clients <strong>SHOULD</strong> verify the A2A Server's identity by validating its TLS certificate against trusted certificate authorities (CAs) during the TLS handshake.</p>
<h3 id="43-clientuser-identity-authentication-process">4.3. Client/User Identity &amp; Authentication Process<a class="headerlink" href="#43-clientuser-identity-authentication-process" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Discovery of Requirements:</strong> The client discovers the server's required authentication schemes via the <code>authentication</code> field in the <a href="#55-agentcard-object-structure"><code>AgentCard</code></a>. Scheme names often align with <a href="https://swagger.io/docs/specification/authentication/">OpenAPI Authentication methods</a> (e.g., "Bearer" for OAuth 2.0 tokens, "Basic" for Basic Auth, "ApiKey" for API keys).</li>
<li><strong>Credential Acquisition (Out-of-Band):</strong> The client obtains the necessary credentials (e.g., API keys, OAuth tokens, JWTs) through an <strong>out-of-band process</strong> specific to the required authentication scheme and the identity provider. This process is outside the scope of the A2A protocol itself.</li>
<li><strong>Credential Transmission:</strong> The client includes these credentials in the appropriate <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers">HTTP headers</a> (e.g., <code>Authorization: Bearer &lt;token&gt;</code>, <code>X-API-Key: &lt;value&gt;</code>) of every A2A request sent to the server.</li>
</ol>
<h3 id="44-server-responsibilities-for-authentication">4.4. Server Responsibilities for Authentication<a class="headerlink" href="#44-server-responsibilities-for-authentication" title="Permanent link">&para;</a></h3>
<p>The A2A Server:</p>
<ul>
<li><strong>MUST</strong> authenticate every incoming request based on the provided HTTP credentials and its declared authentication requirements from its Agent Card.</li>
<li><strong>SHOULD</strong> use standard HTTP status codes like <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401"><code>401 Unauthorized</code></a> or <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403"><code>403 Forbidden</code></a> for authentication challenges or rejections.</li>
<li><strong>SHOULD</strong> include relevant HTTP headers (e.g., <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/WWW-Authenticate"><code>WWW-Authenticate</code></a>) with <code>401 Unauthorized</code> responses to indicate the required authentication scheme(s), guiding the client.</li>
<li><strong>SHOULD</strong> verify the Client's webhook server identity by validating its TLS certificate against trusted certificate authorities (CAs) during the TLS handshake.</li>
</ul>
<h3 id="45-in-task-authentication-secondary-credentials">4.5. In-Task Authentication (Secondary Credentials)<a class="headerlink" href="#45-in-task-authentication-secondary-credentials" title="Permanent link">&para;</a></h3>
<p>If an agent, during the execution of a task, requires <em>additional</em> credentials for a <em>different</em> system or resource (e.g., to access a specific tool on behalf of the user that requires its own auth):</p>
<ol>
<li>It <strong>SHOULD</strong> transition the A2A task to the <code>auth-required</code> state (see <a href="#63-taskstate-enum"><code>TaskState</code></a>).</li>
<li>The accompanying <code>TaskStatus.message</code> (often a <a href="#653-datapart-object"><code>DataPart</code></a>) <strong>SHOULD</strong> provide details about the required secondary authentication, potentially using an <a href="#69-pushnotificationauthenticationinfo-object"><code>PushNotificationAuthenticationInfo</code></a>-like structure to describe the need.</li>
<li>The A2A Client then obtains these new credentials out-of-band and provides them in a subsequent <a href="#71-messagesend"><code>message/send</code></a> or <a href="#72-messagestream"><code>message/stream</code></a> request. How these credentials are used (e.g., passed as data within the A2A message if the agent is proxying, or used by the client to interact directly with the secondary system) depends on the specific scenario.</li>
</ol>
<h3 id="46-authorization">4.6. Authorization<a class="headerlink" href="#46-authorization" title="Permanent link">&para;</a></h3>
<p>Once a client is authenticated, the A2A Server is responsible for authorizing the request based on the authenticated client/user identity and its own policies. Authorization logic is implementation-specific and MAY be enforced based on:</p>
<ul>
<li>The specific skills requested (e.g., as identified by <code>AgentSkill.id</code> from the Agent Card).</li>
<li>The actions attempted within the task.</li>
<li>Data access policies relevant to the resources the agent manages.</li>
<li>OAuth scopes associated with the presented token, if applicable.</li>
</ul>
<p>Servers should implement the principle of least privilege.</p>
<h2 id="5-agent-discovery-the-agent-card">5. Agent Discovery: The Agent Card<a class="headerlink" href="#5-agent-discovery-the-agent-card" title="Permanent link">&para;</a></h2>
<h3 id="51-purpose">5.1. Purpose<a class="headerlink" href="#51-purpose" title="Permanent link">&para;</a></h3>
<p>A2A Servers <strong>MUST</strong> make an Agent Card available. The Agent Card is a JSON document that describes the server's identity, capabilities, skills, service endpoint URL, and how clients should authenticate and interact with it. Clients use this information for discovering suitable agents and for configuring their interactions.</p>
<p>For more on discovery strategies, see the <a href="../topics/agent-discovery/">Agent Discovery guide</a>.</p>
<h3 id="52-discovery-mechanisms">5.2. Discovery Mechanisms<a class="headerlink" href="#52-discovery-mechanisms" title="Permanent link">&para;</a></h3>
<p>Clients can find Agent Cards through various methods, including but not limited to:</p>
<ul>
<li><strong>Well-Known URI:</strong> Accessing a predefined path on the agent's domain (see <a href="#53-recommended-location">Section 5.3</a>).</li>
<li><strong>Registries/Catalogs:</strong> Querying curated catalogs or registries of agents (which might be enterprise-specific, public, or domain-specific).</li>
<li><strong>Direct Configuration:</strong> Clients may be pre-configured with the Agent Card URL or the card content itself.</li>
</ul>
<h3 id="53-recommended-location">5.3. Recommended Location<a class="headerlink" href="#53-recommended-location" title="Permanent link">&para;</a></h3>
<p>If using the well-known URI strategy, the recommended location for an agent's Agent Card is:
<code>https://{server_domain}/.well-known/agent-card.json</code>
This follows the principles of <a href="https://datatracker.ietf.org/doc/html/rfc8615">RFC 8615</a> for well-known URIs.</p>
<h3 id="54-security-of-agent-cards">5.4. Security of Agent Cards<a class="headerlink" href="#54-security-of-agent-cards" title="Permanent link">&para;</a></h3>
<p>Agent Cards themselves might contain information that is considered sensitive.</p>
<ul>
<li>If an Agent Card contains sensitive information, the endpoint serving the card <strong>MUST</strong> be protected by appropriate access controls (e.g., mTLS, network restrictions, authentication required to fetch the card).</li>
<li>It is generally <strong>NOT RECOMMENDED</strong> to include plaintext secrets (like static API keys) directly in an Agent Card. Prefer authentication schemes where clients obtain dynamic credentials out-of-band.</li>
</ul>
<h3 id="55-agentcard-object-structure">5.5. <code>AgentCard</code> Object Structure<a class="headerlink" href="#55-agentcard-object-structure" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="json-rpc" name="__tabbed_1" type="radio" /><input id="grpc" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="json-rpc">JSON-RPC</label><label for="grpc">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="cm">/**</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="cm"> * The AgentCard is a self-describing manifest for an agent. It provides essential</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="cm"> * metadata including the agent&#39;s identity, capabilities, skills, supported</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="cm"> * communication methods, and security requirements.</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="cm"> */</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">AgentCard</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="cm">   * The version of the A2A protocol this agent supports.</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="cm">   * @default &quot;0.3.0&quot;</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="cm">   */</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">  </span><span class="nx">protocolVersion</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="cm">   * A human-readable name for the agent.</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="cm">   *</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="cm">   * @TJS-examples [&quot;Recipe Agent&quot;]</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="cm">   */</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="cm">   * A human-readable description of the agent, assisting users and other agents</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="cm">   * in understanding its purpose.</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="cm">   *</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="cm">   * @TJS-examples [&quot;Agent that helps users with recipes and cooking.&quot;]</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="cm">   */</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="w">  </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="cm">   * The preferred endpoint URL for interacting with the agent.</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a><span class="cm">   * This URL MUST support the transport specified by &#39;preferredTransport&#39;.</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a><span class="cm">   *</span>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a><span class="cm">   * @TJS-examples [&quot;https://api.example.com/a2a/v1&quot;]</span>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a><span class="cm">   */</span>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a><span class="w">  </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a><span class="cm">   * The transport protocol for the preferred endpoint (the main &#39;url&#39; field).</span>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a><span class="cm">   * If not specified, defaults to &#39;JSONRPC&#39;.</span>
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a><span class="cm">   *</span>
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a><span class="cm">   * IMPORTANT: The transport specified here MUST be available at the main &#39;url&#39;.</span>
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a><span class="cm">   * This creates a binding between the main URL and its supported transport protocol.</span>
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a><span class="cm">   * Clients should prefer this transport and URL combination when both are supported.</span>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a><span class="cm">   *</span>
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a><span class="cm">   * @default &quot;JSONRPC&quot;</span>
</span><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a><span class="cm">   * @TJS-examples [&quot;JSONRPC&quot;, &quot;GRPC&quot;, &quot;HTTP+JSON&quot;]</span>
</span><span id="__span-0-42"><a id="__codelineno-0-42" name="__codelineno-0-42" href="#__codelineno-0-42"></a><span class="cm">   */</span>
</span><span id="__span-0-43"><a id="__codelineno-0-43" name="__codelineno-0-43" href="#__codelineno-0-43"></a><span class="w">  </span><span class="nx">preferredTransport?</span><span class="o">:</span><span class="w"> </span><span class="kt">TransportProtocol</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-0-44"><a id="__codelineno-0-44" name="__codelineno-0-44" href="#__codelineno-0-44"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45" href="#__codelineno-0-45"></a><span class="cm">   * A list of additional supported interfaces (transport and URL combinations).</span>
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46" href="#__codelineno-0-46"></a><span class="cm">   * This allows agents to expose multiple transports, potentially at different URLs.</span>
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47" href="#__codelineno-0-47"></a><span class="cm">   *</span>
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48" href="#__codelineno-0-48"></a><span class="cm">   * Best practices:</span>
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49" href="#__codelineno-0-49"></a><span class="cm">   * - SHOULD include all supported transports for completeness</span>
</span><span id="__span-0-50"><a id="__codelineno-0-50" name="__codelineno-0-50" href="#__codelineno-0-50"></a><span class="cm">   * - SHOULD include an entry matching the main &#39;url&#39; and &#39;preferredTransport&#39;</span>
</span><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51" href="#__codelineno-0-51"></a><span class="cm">   * - MAY reuse URLs if multiple transports are available at the same endpoint</span>
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52" href="#__codelineno-0-52"></a><span class="cm">   * - MUST accurately declare the transport available at each URL</span>
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53" href="#__codelineno-0-53"></a><span class="cm">   *</span>
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54" href="#__codelineno-0-54"></a><span class="cm">   * Clients can select any interface from this list based on their transport capabilities</span>
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55" href="#__codelineno-0-55"></a><span class="cm">   * and preferences. This enables transport negotiation and fallback scenarios.</span>
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56" href="#__codelineno-0-56"></a><span class="cm">   */</span>
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57" href="#__codelineno-0-57"></a><span class="w">  </span><span class="nx">additionalInterfaces?</span><span class="o">:</span><span class="w"> </span><span class="kt">AgentInterface</span><span class="p">[];</span>
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58" href="#__codelineno-0-58"></a><span class="w">  </span><span class="cm">/** An optional URL to an icon for the agent. */</span>
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59" href="#__codelineno-0-59"></a><span class="w">  </span><span class="nx">iconUrl?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60" href="#__codelineno-0-60"></a><span class="w">  </span><span class="cm">/** Information about the agent&#39;s service provider. */</span>
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61" href="#__codelineno-0-61"></a><span class="w">  </span><span class="nx">provider?</span><span class="o">:</span><span class="w"> </span><span class="kt">AgentProvider</span><span class="p">;</span>
</span><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62" href="#__codelineno-0-62"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63" href="#__codelineno-0-63"></a><span class="cm">   * The agent&#39;s own version number. The format is defined by the provider.</span>
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64" href="#__codelineno-0-64"></a><span class="cm">   *</span>
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65" href="#__codelineno-0-65"></a><span class="cm">   * @TJS-examples [&quot;1.0.0&quot;]</span>
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66" href="#__codelineno-0-66"></a><span class="cm">   */</span>
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67" href="#__codelineno-0-67"></a><span class="w">  </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68" href="#__codelineno-0-68"></a><span class="w">  </span><span class="cm">/** An optional URL to the agent&#39;s documentation. */</span>
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69" href="#__codelineno-0-69"></a><span class="w">  </span><span class="nx">documentationUrl?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70" href="#__codelineno-0-70"></a><span class="w">  </span><span class="cm">/** A declaration of optional capabilities supported by the agent. */</span>
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71" href="#__codelineno-0-71"></a><span class="w">  </span><span class="nx">capabilities</span><span class="o">:</span><span class="w"> </span><span class="kt">AgentCapabilities</span><span class="p">;</span>
</span><span id="__span-0-72"><a id="__codelineno-0-72" name="__codelineno-0-72" href="#__codelineno-0-72"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-0-73"><a id="__codelineno-0-73" name="__codelineno-0-73" href="#__codelineno-0-73"></a><span class="cm">   * A declaration of the security schemes available to authorize requests. The key is the</span>
</span><span id="__span-0-74"><a id="__codelineno-0-74" name="__codelineno-0-74" href="#__codelineno-0-74"></a><span class="cm">   * scheme name. Follows the OpenAPI 3.0 Security Scheme Object.</span>
</span><span id="__span-0-75"><a id="__codelineno-0-75" name="__codelineno-0-75" href="#__codelineno-0-75"></a><span class="cm">   */</span>
</span><span id="__span-0-76"><a id="__codelineno-0-76" name="__codelineno-0-76" href="#__codelineno-0-76"></a><span class="w">  </span><span class="nx">securitySchemes</span><span class="o">?:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="nx">scheme</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">SecurityScheme</span><span class="w"> </span><span class="p">};</span>
</span><span id="__span-0-77"><a id="__codelineno-0-77" name="__codelineno-0-77" href="#__codelineno-0-77"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-0-78"><a id="__codelineno-0-78" name="__codelineno-0-78" href="#__codelineno-0-78"></a><span class="cm">   * A list of security requirement objects that apply to all agent interactions. Each object</span>
</span><span id="__span-0-79"><a id="__codelineno-0-79" name="__codelineno-0-79" href="#__codelineno-0-79"></a><span class="cm">   * lists security schemes that can be used. Follows the OpenAPI 3.0 Security Requirement Object.</span>
</span><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80" href="#__codelineno-0-80"></a><span class="cm">   * This list can be seen as an OR of ANDs. Each object in the list describes one possible</span>
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81" href="#__codelineno-0-81"></a><span class="cm">   * set of security requirements that must be present on a request. This allows specifying,</span>
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82" href="#__codelineno-0-82"></a><span class="cm">   * for example, &quot;callers must either use OAuth OR an API Key AND mTLS.&quot;</span>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83" href="#__codelineno-0-83"></a><span class="cm">   *</span>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84" href="#__codelineno-0-84"></a><span class="cm">   * @TJS-examples [[{&quot;oauth&quot;: [&quot;read&quot;]}, {&quot;api-key&quot;: [], &quot;mtls&quot;: []}]]</span>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85" href="#__codelineno-0-85"></a><span class="cm">   */</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86" href="#__codelineno-0-86"></a><span class="w">  </span><span class="nx">security</span><span class="o">?:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="nx">scheme</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">[]</span><span class="w"> </span><span class="p">}[];</span>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87" href="#__codelineno-0-87"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88" href="#__codelineno-0-88"></a><span class="cm">   * Default set of supported input MIME types for all skills, which can be</span>
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89" href="#__codelineno-0-89"></a><span class="cm">   * overridden on a per-skill basis.</span>
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90" href="#__codelineno-0-90"></a><span class="cm">   */</span>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91" href="#__codelineno-0-91"></a><span class="w">  </span><span class="nx">defaultInputModes</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">[];</span>
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92" href="#__codelineno-0-92"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93" href="#__codelineno-0-93"></a><span class="cm">   * Default set of supported output MIME types for all skills, which can be</span>
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94" href="#__codelineno-0-94"></a><span class="cm">   * overridden on a per-skill basis.</span>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95" href="#__codelineno-0-95"></a><span class="cm">   */</span>
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96" href="#__codelineno-0-96"></a><span class="w">  </span><span class="nx">defaultOutputModes</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">[];</span>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97" href="#__codelineno-0-97"></a><span class="w">  </span><span class="cm">/** The set of skills, or distinct capabilities, that the agent can perform. */</span>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98" href="#__codelineno-0-98"></a><span class="w">  </span><span class="nx">skills</span><span class="o">:</span><span class="w"> </span><span class="kt">AgentSkill</span><span class="p">[];</span>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99" href="#__codelineno-0-99"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100" href="#__codelineno-0-100"></a><span class="cm">   * If true, the agent can provide an extended agent card with additional details</span>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101" href="#__codelineno-0-101"></a><span class="cm">   * to authenticated users. Defaults to false.</span>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102" href="#__codelineno-0-102"></a><span class="cm">   */</span>
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103" href="#__codelineno-0-103"></a><span class="w">  </span><span class="nx">supportsAuthenticatedExtendedCard?</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104" href="#__codelineno-0-104"></a><span class="w">  </span><span class="cm">/** JSON Web Signatures computed for this AgentCard. */</span>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105" href="#__codelineno-0-105"></a><span class="w">  </span><span class="nx">signatures?</span><span class="o">:</span><span class="w"> </span><span class="kt">AgentCardSignature</span><span class="p">[];</span>
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106" href="#__codelineno-0-106"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1">// AgentCard conveys key information:</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="c1">// - Overall details (version, name, description, uses)</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="c1">// - Skills; a set of actions/solutions the agent can perform</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1">// - Default modalities/content types supported by the agent.</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="c1">// - Authentication requirements</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="c1">// Next ID: 19</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="kd">message</span><span class="w"> </span><span class="nc">AgentCard</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">  </span><span class="c1">// The version of the A2A protocol this agent supports.</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">protocol_version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span><span class="p">;</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">  </span><span class="c1">// A human readable name for the agent.</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">  </span><span class="c1">// Example: &quot;Recipe Agent&quot;</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">  </span><span class="c1">// A description of the agent&#39;s domain of action/solution space.</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="w">  </span><span class="c1">// Example: &quot;Agent that helps users with recipes and cooking.&quot;</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="w">  </span><span class="c1">// A URL to the address the agent is hosted at. This represents the</span>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="w">  </span><span class="c1">// preferred endpoint as declared by the agent.</span>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="w">  </span><span class="c1">// The transport of the preferred endpoint. If empty, defaults to JSONRPC.</span>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">preferred_transport</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">14</span><span class="p">;</span>
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a><span class="w">  </span><span class="c1">// Announcement of additional supported transports. Client can use any of</span>
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a><span class="w">  </span><span class="c1">// the supported transports.</span>
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a><span class="w">  </span><span class="k">repeated</span><span class="w"> </span><span class="n">AgentInterface</span><span class="w"> </span><span class="na">additional_interfaces</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">15</span><span class="p">;</span>
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a><span class="w">  </span><span class="c1">// The service provider of the agent.</span>
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a><span class="w">  </span><span class="n">AgentProvider</span><span class="w"> </span><span class="na">provider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a><span class="w">  </span><span class="c1">// The version of the agent.</span>
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a><span class="w">  </span><span class="c1">// Example: &quot;1.0.0&quot;</span>
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a><span class="w">  </span><span class="c1">// A url to provide additional documentation about the agent.</span>
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">documentation_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
</span><span id="__span-1-31"><a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a><span class="w">  </span><span class="c1">// A2A Capability set supported by the agent.</span>
</span><span id="__span-1-32"><a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a><span class="w">  </span><span class="n">AgentCapabilities</span><span class="w"> </span><span class="na">capabilities</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span>
</span><span id="__span-1-33"><a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a><span class="w">  </span><span class="c1">// The security scheme details used for authenticating with this agent.</span>
</span><span id="__span-1-34"><a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a><span class="w">  </span><span class="n">map</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="n">SecurityScheme</span><span class="p">&gt;</span><span class="w"> </span><span class="na">security_schemes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span>
</span><span id="__span-1-35"><a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a><span class="w">  </span><span class="c1">// protolint:disable REPEATED_FIELD_NAMES_PLURALIZED</span>
</span><span id="__span-1-36"><a id="__codelineno-1-36" name="__codelineno-1-36" href="#__codelineno-1-36"></a><span class="w">  </span><span class="c1">// Security requirements for contacting the agent.</span>
</span><span id="__span-1-37"><a id="__codelineno-1-37" name="__codelineno-1-37" href="#__codelineno-1-37"></a><span class="w">  </span><span class="c1">// This list can be seen as an OR of ANDs. Each object in the list describes</span>
</span><span id="__span-1-38"><a id="__codelineno-1-38" name="__codelineno-1-38" href="#__codelineno-1-38"></a><span class="w">  </span><span class="c1">// one possible set of security requirements that must be present on a</span>
</span><span id="__span-1-39"><a id="__codelineno-1-39" name="__codelineno-1-39" href="#__codelineno-1-39"></a><span class="w">  </span><span class="c1">// request. This allows specifying, for example, &quot;callers must either use</span>
</span><span id="__span-1-40"><a id="__codelineno-1-40" name="__codelineno-1-40" href="#__codelineno-1-40"></a><span class="w">  </span><span class="c1">// OAuth OR an API Key AND mTLS.&quot;</span>
</span><span id="__span-1-41"><a id="__codelineno-1-41" name="__codelineno-1-41" href="#__codelineno-1-41"></a><span class="w">  </span><span class="c1">// Example:</span>
</span><span id="__span-1-42"><a id="__codelineno-1-42" name="__codelineno-1-42" href="#__codelineno-1-42"></a><span class="w">  </span><span class="c1">// security {</span>
</span><span id="__span-1-43"><a id="__codelineno-1-43" name="__codelineno-1-43" href="#__codelineno-1-43"></a><span class="w">  </span><span class="c1">//   schemes { key: &quot;oauth&quot; value { list: [&quot;read&quot;] } }</span>
</span><span id="__span-1-44"><a id="__codelineno-1-44" name="__codelineno-1-44" href="#__codelineno-1-44"></a><span class="w">  </span><span class="c1">// }</span>
</span><span id="__span-1-45"><a id="__codelineno-1-45" name="__codelineno-1-45" href="#__codelineno-1-45"></a><span class="w">  </span><span class="c1">// security {</span>
</span><span id="__span-1-46"><a id="__codelineno-1-46" name="__codelineno-1-46" href="#__codelineno-1-46"></a><span class="w">  </span><span class="c1">//   schemes { key: &quot;api-key&quot; }</span>
</span><span id="__span-1-47"><a id="__codelineno-1-47" name="__codelineno-1-47" href="#__codelineno-1-47"></a><span class="w">  </span><span class="c1">//   schemes { key: &quot;mtls&quot; }</span>
</span><span id="__span-1-48"><a id="__codelineno-1-48" name="__codelineno-1-48" href="#__codelineno-1-48"></a><span class="w">  </span><span class="c1">// }</span>
</span><span id="__span-1-49"><a id="__codelineno-1-49" name="__codelineno-1-49" href="#__codelineno-1-49"></a><span class="w">  </span><span class="k">repeated</span><span class="w"> </span><span class="n">Security</span><span class="w"> </span><span class="na">security</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">9</span><span class="p">;</span>
</span><span id="__span-1-50"><a id="__codelineno-1-50" name="__codelineno-1-50" href="#__codelineno-1-50"></a><span class="w">  </span><span class="c1">// protolint:enable REPEATED_FIELD_NAMES_PLURALIZED</span>
</span><span id="__span-1-51"><a id="__codelineno-1-51" name="__codelineno-1-51" href="#__codelineno-1-51"></a><span class="w">  </span><span class="c1">// The set of interaction modes that the agent supports across all skills.</span>
</span><span id="__span-1-52"><a id="__codelineno-1-52" name="__codelineno-1-52" href="#__codelineno-1-52"></a><span class="w">  </span><span class="c1">// This can be overridden per skill. Defined as mime types.</span>
</span><span id="__span-1-53"><a id="__codelineno-1-53" name="__codelineno-1-53" href="#__codelineno-1-53"></a><span class="w">  </span><span class="k">repeated</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="na">default_input_modes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
</span><span id="__span-1-54"><a id="__codelineno-1-54" name="__codelineno-1-54" href="#__codelineno-1-54"></a><span class="w">  </span><span class="c1">// The mime types supported as outputs from this agent.</span>
</span><span id="__span-1-55"><a id="__codelineno-1-55" name="__codelineno-1-55" href="#__codelineno-1-55"></a><span class="w">  </span><span class="k">repeated</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="na">default_output_modes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">11</span><span class="p">;</span>
</span><span id="__span-1-56"><a id="__codelineno-1-56" name="__codelineno-1-56" href="#__codelineno-1-56"></a><span class="w">  </span><span class="c1">// Skills represent a unit of ability an agent can perform. This may</span>
</span><span id="__span-1-57"><a id="__codelineno-1-57" name="__codelineno-1-57" href="#__codelineno-1-57"></a><span class="w">  </span><span class="c1">// somewhat abstract but represents a more focused set of actions that the</span>
</span><span id="__span-1-58"><a id="__codelineno-1-58" name="__codelineno-1-58" href="#__codelineno-1-58"></a><span class="w">  </span><span class="c1">// agent is highly likely to succeed at.</span>
</span><span id="__span-1-59"><a id="__codelineno-1-59" name="__codelineno-1-59" href="#__codelineno-1-59"></a><span class="w">  </span><span class="k">repeated</span><span class="w"> </span><span class="n">AgentSkill</span><span class="w"> </span><span class="na">skills</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12</span><span class="p">;</span>
</span><span id="__span-1-60"><a id="__codelineno-1-60" name="__codelineno-1-60" href="#__codelineno-1-60"></a><span class="w">  </span><span class="c1">// Whether the agent supports providing an extended agent card when</span>
</span><span id="__span-1-61"><a id="__codelineno-1-61" name="__codelineno-1-61" href="#__codelineno-1-61"></a><span class="w">  </span><span class="c1">// the user is authenticated, i.e. is the card from .well-known</span>
</span><span id="__span-1-62"><a id="__codelineno-1-62" name="__codelineno-1-62" href="#__codelineno-1-62"></a><span class="w">  </span><span class="c1">// different than the card from GetAgentCard.</span>
</span><span id="__span-1-63"><a id="__codelineno-1-63" name="__codelineno-1-63" href="#__codelineno-1-63"></a><span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="na">supports_authenticated_extended_card</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">13</span><span class="p">;</span>
</span><span id="__span-1-64"><a id="__codelineno-1-64" name="__codelineno-1-64" href="#__codelineno-1-64"></a><span class="w">  </span><span class="c1">// JSON Web Signatures computed for this AgentCard.</span>
</span><span id="__span-1-65"><a id="__codelineno-1-65" name="__codelineno-1-65" href="#__codelineno-1-65"></a><span class="w">  </span><span class="k">repeated</span><span class="w"> </span><span class="n">AgentCardSignature</span><span class="w"> </span><span class="na">signatures</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">17</span><span class="p">;</span>
</span><span id="__span-1-66"><a id="__codelineno-1-66" name="__codelineno-1-66" href="#__codelineno-1-66"></a><span class="w">  </span><span class="c1">// An optional URL to an icon for the agent.</span>
</span><span id="__span-1-67"><a id="__codelineno-1-67" name="__codelineno-1-67" href="#__codelineno-1-67"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">icon_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">18</span><span class="p">;</span>
</span><span id="__span-1-68"><a id="__codelineno-1-68" name="__codelineno-1-68" href="#__codelineno-1-68"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h4 id="551-agentprovider-object">5.5.1. <code>AgentProvider</code> Object<a class="headerlink" href="#551-agentprovider-object" title="Permanent link">&para;</a></h4>
<p>Information about the organization or entity providing the agent.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="json-rpc_1" name="__tabbed_2" type="radio" /><input id="grpc_1" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="json-rpc_1">JSON-RPC</label><label for="grpc_1">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="cm">/**</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="cm"> * Represents the service provider of an agent.</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="cm"> *</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="cm"> * @TJS-examples [{ &quot;organization&quot;: &quot;Google&quot;, &quot;url&quot;: &quot;https://ai.google.dev&quot; }]</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="cm"> */</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">AgentProvider</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">  </span><span class="cm">/** The name of the agent provider&#39;s organization. */</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">  </span><span class="nx">organization</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">  </span><span class="cm">/** A URL for the agent provider&#39;s website or relevant documentation. */</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w">  </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1">// Represents information about the service provider of an agent.</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="kd">message</span><span class="w"> </span><span class="nc">AgentProvider</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">  </span><span class="c1">// The providers reference url</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">  </span><span class="c1">// Example: &quot;https://ai.google.dev&quot;</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">  </span><span class="c1">// The providers organization name</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">  </span><span class="c1">// Example: &quot;Google&quot;</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">organization</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h4 id="552-agentcapabilities-object">5.5.2. <code>AgentCapabilities</code> Object<a class="headerlink" href="#552-agentcapabilities-object" title="Permanent link">&para;</a></h4>
<p>Specifies optional A2A protocol features supported by the agent.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="json-rpc_2" name="__tabbed_3" type="radio" /><input id="grpc_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="json-rpc_2">JSON-RPC</label><label for="grpc_2">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="cm">/**</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="cm"> * Defines optional capabilities supported by an agent.</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="cm"> */</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">AgentCapabilities</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">  </span><span class="cm">/** Indicates if the agent supports Server-Sent Events (SSE) for streaming responses. */</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">  </span><span class="nx">streaming?</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">  </span><span class="cm">/** Indicates if the agent supports sending push notifications for asynchronous task updates. */</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">  </span><span class="nx">pushNotifications?</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">  </span><span class="cm">/** Indicates if the agent provides a history of state transitions for a task. */</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">  </span><span class="nx">stateTransitionHistory?</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">  </span><span class="cm">/** A list of protocol extensions supported by the agent. */</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">  </span><span class="nx">extensions?</span><span class="o">:</span><span class="w"> </span><span class="kt">AgentExtension</span><span class="p">[];</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1">// Defines the A2A feature set supported by the agent</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="kd">message</span><span class="w"> </span><span class="nc">AgentCapabilities</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">  </span><span class="c1">// If the agent will support streaming responses</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="na">streaming</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">  </span><span class="c1">// If the agent can send push notifications to the clients webhook</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="na">push_notifications</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">  </span><span class="c1">// Extensions supported by this agent.</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">  </span><span class="k">repeated</span><span class="w"> </span><span class="n">AgentExtension</span><span class="w"> </span><span class="k">extensions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h4 id="5521-agentextension-object">5.5.2.1. <code>AgentExtension</code> Object<a class="headerlink" href="#5521-agentextension-object" title="Permanent link">&para;</a></h4>
<p>Specifies an extension to the A2A protocol supported by the agent.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="json-rpc_3" name="__tabbed_4" type="radio" /><input id="grpc_3" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="json-rpc_3">JSON-RPC</label><label for="grpc_3">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="cm">/**</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="cm"> * A declaration of a protocol extension supported by an Agent.</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="cm"> *</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="cm"> * @TJS-examples [{&quot;uri&quot;: &quot;https://developers.google.com/identity/protocols/oauth2&quot;, &quot;description&quot;: &quot;Google OAuth 2.0 authentication&quot;, &quot;required&quot;: false}]</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="cm"> */</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">AgentExtension</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">  </span><span class="cm">/** The unique URI identifying the extension. */</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">  </span><span class="nx">uri</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">  </span><span class="cm">/** A human-readable description of how this agent uses the extension. */</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="w">  </span><span class="nx">description?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="cm">   * If true, the client must understand and comply with the extension&#39;s requirements</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="cm">   * to interact with the agent.</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="cm">   */</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="w">  </span><span class="nx">required?</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="w">  </span><span class="cm">/** Optional, extension-specific configuration parameters. */</span>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="w">  </span><span class="nx">params</span><span class="o">?:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="w"> </span><span class="p">};</span>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1">// A declaration of an extension supported by an Agent.</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="kd">message</span><span class="w"> </span><span class="nc">AgentExtension</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">  </span><span class="c1">// The URI of the extension.</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">  </span><span class="c1">// Example: &quot;https://developers.google.com/identity/protocols/oauth2&quot;</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">uri</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">  </span><span class="c1">// A description of how this agent uses this extension.</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">  </span><span class="c1">// Example: &quot;Google OAuth 2.0 authentication&quot;</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">  </span><span class="c1">// Whether the client must follow specific requirements of the extension.</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="w">  </span><span class="c1">// Example: false</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="k">required</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="w">  </span><span class="c1">// Optional configuration for the extension.</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="w">  </span><span class="n">google.protobuf.Struct</span><span class="w"> </span><span class="na">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h4 id="553-securityscheme-object">5.5.3. <code>SecurityScheme</code> Object<a class="headerlink" href="#553-securityscheme-object" title="Permanent link">&para;</a></h4>
<p>Describes the authentication requirements for accessing the agent's <code>url</code> endpoint. Refer <a href="#57-sample-agent-card">Sample Agent Card</a> for an example.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="json-rpc_4" name="__tabbed_5" type="radio" /><input id="grpc_4" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="json-rpc_4">JSON-RPC</label><label for="grpc_4">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="cm">/**</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="cm"> * Defines a security scheme that can be used to secure an agent&#39;s endpoints.</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="cm"> * This is a discriminated union type based on the OpenAPI 3.0 Security Scheme Object.</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="cm"> *</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="cm"> * @see {@link https://swagger.io/specification/#security-scheme-object}</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="cm"> */</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="k">export</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="nx">SecurityScheme</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="nx">APIKeySecurityScheme</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="nx">HTTPAuthSecurityScheme</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="nx">OAuth2SecurityScheme</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="nx">OpenIdConnectSecurityScheme</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="nx">MutualTLSSecurityScheme</span><span class="p">;</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kd">message</span><span class="w"> </span><span class="nc">SecurityScheme</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">  </span><span class="k">oneof</span><span class="w"> </span><span class="n">scheme</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">    </span><span class="n">APIKeySecurityScheme</span><span class="w"> </span><span class="na">api_key_security_scheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">    </span><span class="n">HTTPAuthSecurityScheme</span><span class="w"> </span><span class="na">http_auth_security_scheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">    </span><span class="n">OAuth2SecurityScheme</span><span class="w"> </span><span class="na">oauth2_security_scheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">    </span><span class="n">OpenIdConnectSecurityScheme</span><span class="w"> </span><span class="na">open_id_connect_security_scheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">    </span><span class="n">MutualTlsSecurityScheme</span><span class="w"> </span><span class="na">mtls_security_scheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h4 id="554-agentskill-object">5.5.4. <code>AgentSkill</code> Object<a class="headerlink" href="#554-agentskill-object" title="Permanent link">&para;</a></h4>
<p>Describes a specific capability, function, or area of expertise the agent can perform or address.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="json-rpc_5" name="__tabbed_6" type="radio" /><input id="grpc_5" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="json-rpc_5">JSON-RPC</label><label for="grpc_5">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="cm">/**</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="cm"> * Represents a distinct capability or function that an agent can perform.</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="cm"> */</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">AgentSkill</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">  </span><span class="cm">/** A unique identifier for the agent&#39;s skill. */</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">  </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">  </span><span class="cm">/** A human-readable name for the skill. */</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="cm">   * A detailed description of the skill, intended to help clients or users</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="cm">   * understand its purpose and functionality.</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="cm">   */</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="w">  </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="cm">   * A set of keywords describing the skill&#39;s capabilities.</span>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="cm">   *</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="cm">   * @TJS-examples [[&quot;cooking&quot;, &quot;customer support&quot;, &quot;billing&quot;]]</span>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="cm">   */</span>
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="w">  </span><span class="nx">tags</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">[];</span>
</span><span id="__span-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-10-21"><a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a><span class="cm">   * Example prompts or scenarios that this skill can handle. Provides a hint to</span>
</span><span id="__span-10-22"><a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="cm">   * the client on how to use the skill.</span>
</span><span id="__span-10-23"><a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a><span class="cm">   *</span>
</span><span id="__span-10-24"><a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a><span class="cm">   * @TJS-examples [[&quot;I need a recipe for bread&quot;]]</span>
</span><span id="__span-10-25"><a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a><span class="cm">   */</span>
</span><span id="__span-10-26"><a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a><span class="w">  </span><span class="nx">examples?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">[];</span>
</span><span id="__span-10-27"><a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-10-28"><a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a><span class="cm">   * The set of supported input MIME types for this skill, overriding the agent&#39;s defaults.</span>
</span><span id="__span-10-29"><a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a><span class="cm">   */</span>
</span><span id="__span-10-30"><a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a><span class="w">  </span><span class="nx">inputModes?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">[];</span>
</span><span id="__span-10-31"><a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-10-32"><a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a><span class="cm">   * The set of supported output MIME types for this skill, overriding the agent&#39;s defaults.</span>
</span><span id="__span-10-33"><a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a><span class="cm">   */</span>
</span><span id="__span-10-34"><a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a><span class="w">  </span><span class="nx">outputModes?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">[];</span>
</span><span id="__span-10-35"><a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-10-36"><a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a><span class="cm">   * Security schemes necessary for the agent to leverage this skill.</span>
</span><span id="__span-10-37"><a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a><span class="cm">   * As in the overall AgentCard.security, this list represents a logical OR of security</span>
</span><span id="__span-10-38"><a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a><span class="cm">   * requirement objects. Each object is a set of security schemes that must be used together</span>
</span><span id="__span-10-39"><a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a><span class="cm">   * (a logical AND).</span>
</span><span id="__span-10-40"><a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a><span class="cm">   *</span>
</span><span id="__span-10-41"><a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a><span class="cm">   * @TJS-examples [[{&quot;google&quot;: [&quot;oidc&quot;]}]]</span>
</span><span id="__span-10-42"><a id="__codelineno-10-42" name="__codelineno-10-42" href="#__codelineno-10-42"></a><span class="cm">   */</span>
</span><span id="__span-10-43"><a id="__codelineno-10-43" name="__codelineno-10-43" href="#__codelineno-10-43"></a><span class="w">  </span><span class="nx">security</span><span class="o">?:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="nx">scheme</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">[]</span><span class="w"> </span><span class="p">}[];</span>
</span><span id="__span-10-44"><a id="__codelineno-10-44" name="__codelineno-10-44" href="#__codelineno-10-44"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1">// AgentSkill represents a unit of action/solution that the agent can perform.</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="c1">// One can think of this as a type of highly reliable solution that an agent</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="c1">// can be tasked to provide. Agents have the autonomy to choose how and when</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="c1">// to use specific skills, but clients should have confidence that if the</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="c1">// skill is defined that unit of action can be reliably performed.</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="kd">message</span><span class="w"> </span><span class="nc">AgentSkill</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">  </span><span class="c1">// Unique identifier of the skill within this agent.</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">  </span><span class="c1">// A human readable name for the skill.</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="w">  </span><span class="c1">// A human (or llm) readable description of the skill</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="w">  </span><span class="c1">// details and behaviors.</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="w">  </span><span class="c1">// A set of tags for the skill to enhance categorization/utilization.</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="w">  </span><span class="c1">// Example: [&quot;cooking&quot;, &quot;customer support&quot;, &quot;billing&quot;]</span>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="w">  </span><span class="k">repeated</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="w">  </span><span class="c1">// A set of example queries that this skill is designed to address.</span>
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a><span class="w">  </span><span class="c1">// These examples should help the caller to understand how to craft requests</span>
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a><span class="w">  </span><span class="c1">// to the agent to achieve specific goals.</span>
</span><span id="__span-11-20"><a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="w">  </span><span class="c1">// Example: [&quot;I need a recipe for bread&quot;]</span>
</span><span id="__span-11-21"><a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a><span class="w">  </span><span class="k">repeated</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="na">examples</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
</span><span id="__span-11-22"><a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a><span class="w">  </span><span class="c1">// Possible input modalities supported.</span>
</span><span id="__span-11-23"><a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a><span class="w">  </span><span class="k">repeated</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="na">input_modes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
</span><span id="__span-11-24"><a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a><span class="w">  </span><span class="c1">// Possible output modalities produced</span>
</span><span id="__span-11-25"><a id="__codelineno-11-25" name="__codelineno-11-25" href="#__codelineno-11-25"></a><span class="w">  </span><span class="k">repeated</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="na">output_modes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span>
</span><span id="__span-11-26"><a id="__codelineno-11-26" name="__codelineno-11-26" href="#__codelineno-11-26"></a><span class="w">  </span><span class="c1">// protolint:disable REPEATED_FIELD_NAMES_PLURALIZED</span>
</span><span id="__span-11-27"><a id="__codelineno-11-27" name="__codelineno-11-27" href="#__codelineno-11-27"></a><span class="w">  </span><span class="c1">// Security schemes necessary for the agent to leverage this skill.</span>
</span><span id="__span-11-28"><a id="__codelineno-11-28" name="__codelineno-11-28" href="#__codelineno-11-28"></a><span class="w">  </span><span class="c1">// As in the overall AgentCard.security, this list represents a logical OR of</span>
</span><span id="__span-11-29"><a id="__codelineno-11-29" name="__codelineno-11-29" href="#__codelineno-11-29"></a><span class="w">  </span><span class="c1">// security requirement objects. Each object is a set of security schemes</span>
</span><span id="__span-11-30"><a id="__codelineno-11-30" name="__codelineno-11-30" href="#__codelineno-11-30"></a><span class="w">  </span><span class="c1">// that must be used together (a logical AND).</span>
</span><span id="__span-11-31"><a id="__codelineno-11-31" name="__codelineno-11-31" href="#__codelineno-11-31"></a><span class="w">  </span><span class="k">repeated</span><span class="w"> </span><span class="n">Security</span><span class="w"> </span><span class="na">security</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span>
</span><span id="__span-11-32"><a id="__codelineno-11-32" name="__codelineno-11-32" href="#__codelineno-11-32"></a><span class="w">  </span><span class="c1">// protolint:enable REPEATED_FIELD_NAMES_PLURALIZED</span>
</span><span id="__span-11-33"><a id="__codelineno-11-33" name="__codelineno-11-33" href="#__codelineno-11-33"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h4 id="555-agentinterface-object">5.5.5. <code>AgentInterface</code> Object<a class="headerlink" href="#555-agentinterface-object" title="Permanent link">&para;</a></h4>
<p>Provides a declaration of a combination of the target URL and the supported transport to interact with the agent. This enables agents to expose the same functionality through multiple transport protocols.</p>
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="cm">/**</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="cm"> * Supported A2A transport protocols.</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="cm"> */</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="nx">TransportProtocol</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">  </span><span class="nx">JSONRPC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;JSONRPC&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// JSON-RPC 2.0 over HTTP (mandatory)</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="w">  </span><span class="nx">GRPC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;GRPC&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// gRPC over HTTP/2 (optional)</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="w">  </span><span class="nx">HTTP_JSON</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;HTTP+JSON&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// REST-style HTTP with JSON (optional)</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="p">}</span>
</span></code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="json-rpc_6" name="__tabbed_7" type="radio" /><input id="grpc_6" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="json-rpc_6">JSON-RPC</label><label for="grpc_6">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="cm">/**</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="cm"> * Declares a combination of a target URL and a transport protocol for interacting with the agent.</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="cm"> * This allows agents to expose the same functionality over multiple transport mechanisms.</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="cm"> */</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">AgentInterface</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="cm">   * The URL where this interface is available. Must be a valid absolute HTTPS URL in production.</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="cm">   * @TJS-examples [&quot;https://api.example.com/a2a/v1&quot;, &quot;https://grpc.example.com/a2a&quot;, &quot;https://rest.example.com/v1&quot;]</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="cm">   */</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="w">  </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="cm">   * The transport protocol supported at this URL.</span>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="cm">   *</span>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="cm">   * @TJS-examples [&quot;JSONRPC&quot;, &quot;GRPC&quot;, &quot;HTTP+JSON&quot;]</span>
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a><span class="cm">   */</span>
</span><span id="__span-13-16"><a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a><span class="w">  </span><span class="nx">transport</span><span class="o">:</span><span class="w"> </span><span class="kt">TransportProtocol</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-13-17"><a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1">// Defines additional transport information for the agent.</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="kd">message</span><span class="w"> </span><span class="nc">AgentInterface</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">  </span><span class="c1">// The url this interface is found at.</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">  </span><span class="c1">// The transport supported this url. This is an open form string, to be</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">  </span><span class="c1">// easily extended for many transport protocols. The core ones officially</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">  </span><span class="c1">// supported are JSONRPC, GRPC and HTTP+JSON.</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">transport</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<p>The <code>transport</code> field <strong>SHOULD</strong> use one of the core A2A transport protocol values:</p>
<ul>
<li><code>"JSONRPC"</code>: JSON-RPC 2.0 over HTTP</li>
<li><code>"GRPC"</code>: gRPC over HTTP/2</li>
<li><code>"HTTP+JSON"</code>: REST-style HTTP with JSON</li>
</ul>
<p>Additional transport values <strong>MAY</strong> be used for future extensions, but such extensions <strong>MUST</strong> not conflict with core A2A protocol functionality.</p>
<h4 id="556-agentcardsignature-object">5.5.6. <code>AgentCardSignature</code> Object<a class="headerlink" href="#556-agentcardsignature-object" title="Permanent link">&para;</a></h4>
<p>Represents a JSON Web Signature (JWS) used to verify the integrity of the AgentCard.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:2"><input checked="checked" id="json-rpc_7" name="__tabbed_8" type="radio" /><input id="grpc_7" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="json-rpc_7">JSON-RPC</label><label for="grpc_7">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="cm">/**</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="cm"> * AgentCardSignature represents a JWS signature of an AgentCard.</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="cm"> * This follows the JSON format of an RFC 7515 JSON Web Signature (JWS).</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="cm"> */</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">AgentCardSignature</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="cm">   * The protected JWS header for the signature. This is a Base64url-encoded</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="cm">   * JSON object, as per RFC 7515.</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="cm">   */</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="w">  </span><span class="k">protected</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="w">  </span><span class="cm">/** The computed signature, Base64url-encoded. */</span>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="w">  </span><span class="nx">signature</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="w">  </span><span class="cm">/** The unprotected JWS header values. */</span>
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="w">  </span><span class="nx">header</span><span class="o">?:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="w"> </span><span class="p">};</span>
</span><span id="__span-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1">// AgentCardSignature represents a JWS signature of an AgentCard.</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="c1">// This follows the JSON format of an RFC 7515 JSON Web Signature (JWS).</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="kd">message</span><span class="w"> </span><span class="nc">AgentCardSignature</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">  </span><span class="c1">// The protected JWS header for the signature. This is always a</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">  </span><span class="c1">// base64url-encoded JSON object. Required.</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">protected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">[(</span><span class="n">google.api.field_behavior</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">REQUIRED</span><span class="p">];</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="w">  </span><span class="c1">// The computed signature, base64url-encoded. Required.</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">signature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">[(</span><span class="n">google.api.field_behavior</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">REQUIRED</span><span class="p">];</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="w">  </span><span class="c1">// The unprotected JWS header values.</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="w">  </span><span class="n">google.protobuf.Struct</span><span class="w"> </span><span class="na">header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="56-transport-declaration-and-url-relationships">5.6. Transport Declaration and URL Relationships<a class="headerlink" href="#56-transport-declaration-and-url-relationships" title="Permanent link">&para;</a></h3>
<p>The AgentCard <strong>MUST</strong> properly declare the relationship between URLs and transport protocols:</p>
<h4 id="561-main-url-and-preferred-transport">5.6.1. Main URL and Preferred Transport<a class="headerlink" href="#561-main-url-and-preferred-transport" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Main URL requirement</strong>: The <code>url</code> field <strong>MUST</strong> specify the primary endpoint for the agent.</li>
<li><strong>Transport correspondence</strong>: The transport protocol available at the main <code>url</code> <strong>MUST</strong> match the <code>preferredTransport</code> field.</li>
<li><strong>Required declaration</strong>: The <code>preferredTransport</code> field is <strong>REQUIRED</strong> and <strong>MUST</strong> be present in every <code>AgentCard</code>.</li>
<li><strong>Transport availability</strong>: The main <code>url</code> <strong>MUST</strong> support the transport protocol declared in <code>preferredTransport</code>.</li>
</ul>
<h4 id="562-additional-interfaces">5.6.2. Additional Interfaces<a class="headerlink" href="#562-additional-interfaces" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>URL uniqueness</strong>: Each <code>AgentInterface</code> in <code>additionalInterfaces</code> <strong>SHOULD</strong> specify a distinct URL for clarity, but <strong>MAY</strong> reuse URLs if multiple transport protocols are available at the same endpoint.</li>
<li><strong>Transport declaration</strong>: Each <code>AgentInterface</code> <strong>MUST</strong> accurately declare the transport protocol available at its specified URL.</li>
<li><strong>Completeness</strong>: The <code>additionalInterfaces</code> array <strong>SHOULD</strong> include all supported transports, including the main URL's transport for completeness.</li>
</ul>
<h4 id="563-client-transport-selection-rules">5.6.3. Client Transport Selection Rules<a class="headerlink" href="#563-client-transport-selection-rules" title="Permanent link">&para;</a></h4>
<p>Clients <strong>MUST</strong> follow these rules when selecting a transport:</p>
<ol>
<li><strong>Parse transport declarations</strong>: Extract available transports from both the main <code>url</code>/<code>preferredTransport</code> combination and all <code>additionalInterfaces</code>.</li>
<li><strong>Prefer declared preference</strong>: If the client supports the <code>preferredTransport</code>, it <strong>SHOULD</strong> use the main <code>url</code>.</li>
<li><strong>Fallback selection</strong>: If the preferred transport is not supported by the client, it <strong>MAY</strong> select any supported transport from <code>additionalInterfaces</code>.</li>
<li><strong>Graceful degradation</strong>: Clients <strong>SHOULD</strong> implement fallback logic to try alternative transports if their first choice fails.</li>
<li><strong>URL-transport matching</strong>: Clients <strong>MUST</strong> use the correct URL for the selected transport protocol as declared in the AgentCard.</li>
</ol>
<h4 id="564-validation-requirements">5.6.4. Validation Requirements<a class="headerlink" href="#564-validation-requirements" title="Permanent link">&para;</a></h4>
<p>Agent Cards <strong>MUST</strong> satisfy these validation requirements:</p>
<ul>
<li><strong>Transport consistency</strong>: The <code>preferredTransport</code> value <strong>MUST</strong> be present and <strong>MUST</strong> be available at the main <code>url</code>.</li>
<li><strong>Interface completeness</strong>: If <code>additionalInterfaces</code> is provided, it <strong>SHOULD</strong> include an entry corresponding to the main <code>url</code> and <code>preferredTransport</code>.</li>
<li><strong>No conflicts</strong>: The same URL <strong>MUST NOT</strong> declare conflicting transport protocols across different interface declarations.</li>
<li><strong>Minimum transport requirement</strong>: The agent <strong>MUST</strong> declare at least one supported transport protocol through either the main <code>url</code>/<code>preferredTransport</code> combination or <code>additionalInterfaces</code>.</li>
</ul>
<h3 id="57-sample-agent-card">5.7. Sample Agent Card<a class="headerlink" href="#57-sample-agent-card" title="Permanent link">&para;</a></h3>
<div class="language-json highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="p">{</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w">  </span><span class="nt">&quot;protocolVersion&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.2.9&quot;</span><span class="p">,</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;GeoSpatial Route Planner Agent&quot;</span><span class="p">,</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Provides advanced route planning, traffic analysis, and custom map generation services. This agent can calculate optimal routes, estimate travel times considering real-time traffic, and create personalized maps with points of interest.&quot;</span><span class="p">,</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">  </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://georoute-agent.example.com/a2a/v1&quot;</span><span class="p">,</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">  </span><span class="nt">&quot;preferredTransport&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JSONRPC&quot;</span><span class="p">,</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">  </span><span class="nt">&quot;additionalInterfaces&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="w">    </span><span class="p">{</span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://georoute-agent.example.com/a2a/v1&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;transport&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JSONRPC&quot;</span><span class="p">},</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="w">    </span><span class="p">{</span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://georoute-agent.example.com/a2a/grpc&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;transport&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;GRPC&quot;</span><span class="p">},</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="w">    </span><span class="p">{</span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://georoute-agent.example.com/a2a/json&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;transport&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;HTTP+JSON&quot;</span><span class="p">}</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="w">  </span><span class="p">],</span>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="w">  </span><span class="nt">&quot;provider&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a><span class="w">    </span><span class="nt">&quot;organization&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Example Geo Services Inc.&quot;</span><span class="p">,</span>
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a><span class="w">    </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://www.examplegeoservices.com&quot;</span>
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a><span class="w">  </span><span class="nt">&quot;iconUrl&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://georoute-agent.example.com/icon.png&quot;</span><span class="p">,</span>
</span><span id="__span-17-17"><a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a><span class="w">  </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.2.0&quot;</span><span class="p">,</span>
</span><span id="__span-17-18"><a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a><span class="w">  </span><span class="nt">&quot;documentationUrl&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://docs.examplegeoservices.com/georoute-agent/api&quot;</span><span class="p">,</span>
</span><span id="__span-17-19"><a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a><span class="w">  </span><span class="nt">&quot;capabilities&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-17-20"><a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a><span class="w">    </span><span class="nt">&quot;streaming&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-17-21"><a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a><span class="w">    </span><span class="nt">&quot;pushNotifications&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-17-22"><a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a><span class="w">    </span><span class="nt">&quot;stateTransitionHistory&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-17-23"><a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-17-24"><a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a><span class="w">  </span><span class="nt">&quot;securitySchemes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-17-25"><a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a><span class="w">    </span><span class="nt">&quot;google&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-17-26"><a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a><span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;openIdConnect&quot;</span><span class="p">,</span>
</span><span id="__span-17-27"><a id="__codelineno-17-27" name="__codelineno-17-27" href="#__codelineno-17-27"></a><span class="w">      </span><span class="nt">&quot;openIdConnectUrl&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://accounts.google.com/.well-known/openid-configuration&quot;</span>
</span><span id="__span-17-28"><a id="__codelineno-17-28" name="__codelineno-17-28" href="#__codelineno-17-28"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-17-29"><a id="__codelineno-17-29" name="__codelineno-17-29" href="#__codelineno-17-29"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-17-30"><a id="__codelineno-17-30" name="__codelineno-17-30" href="#__codelineno-17-30"></a><span class="w">  </span><span class="nt">&quot;security&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nt">&quot;google&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;openid&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;profile&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;email&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">}],</span>
</span><span id="__span-17-31"><a id="__codelineno-17-31" name="__codelineno-17-31" href="#__codelineno-17-31"></a><span class="w">  </span><span class="nt">&quot;defaultInputModes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;text/plain&quot;</span><span class="p">],</span>
</span><span id="__span-17-32"><a id="__codelineno-17-32" name="__codelineno-17-32" href="#__codelineno-17-32"></a><span class="w">  </span><span class="nt">&quot;defaultOutputModes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;image/png&quot;</span><span class="p">],</span>
</span><span id="__span-17-33"><a id="__codelineno-17-33" name="__codelineno-17-33" href="#__codelineno-17-33"></a><span class="w">  </span><span class="nt">&quot;skills&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-17-34"><a id="__codelineno-17-34" name="__codelineno-17-34" href="#__codelineno-17-34"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-17-35"><a id="__codelineno-17-35" name="__codelineno-17-35" href="#__codelineno-17-35"></a><span class="w">      </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;route-optimizer-traffic&quot;</span><span class="p">,</span>
</span><span id="__span-17-36"><a id="__codelineno-17-36" name="__codelineno-17-36" href="#__codelineno-17-36"></a><span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Traffic-Aware Route Optimizer&quot;</span><span class="p">,</span>
</span><span id="__span-17-37"><a id="__codelineno-17-37" name="__codelineno-17-37" href="#__codelineno-17-37"></a><span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Calculates the optimal driving route between two or more locations, taking into account real-time traffic conditions, road closures, and user preferences (e.g., avoid tolls, prefer highways).&quot;</span><span class="p">,</span>
</span><span id="__span-17-38"><a id="__codelineno-17-38" name="__codelineno-17-38" href="#__codelineno-17-38"></a><span class="w">      </span><span class="nt">&quot;tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;maps&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;routing&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;navigation&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;directions&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;traffic&quot;</span><span class="p">],</span>
</span><span id="__span-17-39"><a id="__codelineno-17-39" name="__codelineno-17-39" href="#__codelineno-17-39"></a><span class="w">      </span><span class="nt">&quot;examples&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-17-40"><a id="__codelineno-17-40" name="__codelineno-17-40" href="#__codelineno-17-40"></a><span class="w">        </span><span class="s2">&quot;Plan a route from &#39;1600 Amphitheatre Parkway, Mountain View, CA&#39; to &#39;San Francisco International Airport&#39; avoiding tolls.&quot;</span><span class="p">,</span>
</span><span id="__span-17-41"><a id="__codelineno-17-41" name="__codelineno-17-41" href="#__codelineno-17-41"></a><span class="w">        </span><span class="s2">&quot;{\&quot;origin\&quot;: {\&quot;lat\&quot;: 37.422, \&quot;lng\&quot;: -122.084}, \&quot;destination\&quot;: {\&quot;lat\&quot;: 37.7749, \&quot;lng\&quot;: -122.4194}, \&quot;preferences\&quot;: [\&quot;avoid_ferries\&quot;]}&quot;</span>
</span><span id="__span-17-42"><a id="__codelineno-17-42" name="__codelineno-17-42" href="#__codelineno-17-42"></a><span class="w">      </span><span class="p">],</span>
</span><span id="__span-17-43"><a id="__codelineno-17-43" name="__codelineno-17-43" href="#__codelineno-17-43"></a><span class="w">      </span><span class="nt">&quot;inputModes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;text/plain&quot;</span><span class="p">],</span>
</span><span id="__span-17-44"><a id="__codelineno-17-44" name="__codelineno-17-44" href="#__codelineno-17-44"></a><span class="w">      </span><span class="nt">&quot;outputModes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-17-45"><a id="__codelineno-17-45" name="__codelineno-17-45" href="#__codelineno-17-45"></a><span class="w">        </span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
</span><span id="__span-17-46"><a id="__codelineno-17-46" name="__codelineno-17-46" href="#__codelineno-17-46"></a><span class="w">        </span><span class="s2">&quot;application/vnd.geo+json&quot;</span><span class="p">,</span>
</span><span id="__span-17-47"><a id="__codelineno-17-47" name="__codelineno-17-47" href="#__codelineno-17-47"></a><span class="w">        </span><span class="s2">&quot;text/html&quot;</span>
</span><span id="__span-17-48"><a id="__codelineno-17-48" name="__codelineno-17-48" href="#__codelineno-17-48"></a><span class="w">      </span><span class="p">]</span>
</span><span id="__span-17-49"><a id="__codelineno-17-49" name="__codelineno-17-49" href="#__codelineno-17-49"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-17-50"><a id="__codelineno-17-50" name="__codelineno-17-50" href="#__codelineno-17-50"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-17-51"><a id="__codelineno-17-51" name="__codelineno-17-51" href="#__codelineno-17-51"></a><span class="w">      </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;custom-map-generator&quot;</span><span class="p">,</span>
</span><span id="__span-17-52"><a id="__codelineno-17-52" name="__codelineno-17-52" href="#__codelineno-17-52"></a><span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Personalized Map Generator&quot;</span><span class="p">,</span>
</span><span id="__span-17-53"><a id="__codelineno-17-53" name="__codelineno-17-53" href="#__codelineno-17-53"></a><span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Creates custom map images or interactive map views based on user-defined points of interest, routes, and style preferences. Can overlay data layers.&quot;</span><span class="p">,</span>
</span><span id="__span-17-54"><a id="__codelineno-17-54" name="__codelineno-17-54" href="#__codelineno-17-54"></a><span class="w">      </span><span class="nt">&quot;tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;maps&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;customization&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;visualization&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;cartography&quot;</span><span class="p">],</span>
</span><span id="__span-17-55"><a id="__codelineno-17-55" name="__codelineno-17-55" href="#__codelineno-17-55"></a><span class="w">      </span><span class="nt">&quot;examples&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-17-56"><a id="__codelineno-17-56" name="__codelineno-17-56" href="#__codelineno-17-56"></a><span class="w">        </span><span class="s2">&quot;Generate a map of my upcoming road trip with all planned stops highlighted.&quot;</span><span class="p">,</span>
</span><span id="__span-17-57"><a id="__codelineno-17-57" name="__codelineno-17-57" href="#__codelineno-17-57"></a><span class="w">        </span><span class="s2">&quot;Show me a map visualizing all coffee shops within a 1-mile radius of my current location.&quot;</span>
</span><span id="__span-17-58"><a id="__codelineno-17-58" name="__codelineno-17-58" href="#__codelineno-17-58"></a><span class="w">      </span><span class="p">],</span>
</span><span id="__span-17-59"><a id="__codelineno-17-59" name="__codelineno-17-59" href="#__codelineno-17-59"></a><span class="w">      </span><span class="nt">&quot;inputModes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;application/json&quot;</span><span class="p">],</span>
</span><span id="__span-17-60"><a id="__codelineno-17-60" name="__codelineno-17-60" href="#__codelineno-17-60"></a><span class="w">      </span><span class="nt">&quot;outputModes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-17-61"><a id="__codelineno-17-61" name="__codelineno-17-61" href="#__codelineno-17-61"></a><span class="w">        </span><span class="s2">&quot;image/png&quot;</span><span class="p">,</span>
</span><span id="__span-17-62"><a id="__codelineno-17-62" name="__codelineno-17-62" href="#__codelineno-17-62"></a><span class="w">        </span><span class="s2">&quot;image/jpeg&quot;</span><span class="p">,</span>
</span><span id="__span-17-63"><a id="__codelineno-17-63" name="__codelineno-17-63" href="#__codelineno-17-63"></a><span class="w">        </span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
</span><span id="__span-17-64"><a id="__codelineno-17-64" name="__codelineno-17-64" href="#__codelineno-17-64"></a><span class="w">        </span><span class="s2">&quot;text/html&quot;</span>
</span><span id="__span-17-65"><a id="__codelineno-17-65" name="__codelineno-17-65" href="#__codelineno-17-65"></a><span class="w">      </span><span class="p">]</span>
</span><span id="__span-17-66"><a id="__codelineno-17-66" name="__codelineno-17-66" href="#__codelineno-17-66"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-17-67"><a id="__codelineno-17-67" name="__codelineno-17-67" href="#__codelineno-17-67"></a><span class="w">  </span><span class="p">],</span>
</span><span id="__span-17-68"><a id="__codelineno-17-68" name="__codelineno-17-68" href="#__codelineno-17-68"></a><span class="w">  </span><span class="nt">&quot;supportsAuthenticatedExtendedCard&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-17-69"><a id="__codelineno-17-69" name="__codelineno-17-69" href="#__codelineno-17-69"></a><span class="w">  </span><span class="nt">&quot;signatures&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-17-70"><a id="__codelineno-17-70" name="__codelineno-17-70" href="#__codelineno-17-70"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-17-71"><a id="__codelineno-17-71" name="__codelineno-17-71" href="#__codelineno-17-71"></a><span class="w">      </span><span class="nt">&quot;protected&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eyJhbGciOiJFUzI1NiIsInR5cCI6IkpPU0UiLCJraWQiOiJrZXktMSIsImprdSI6Imh0dHBzOi8vZXhhbXBsZS5jb20vYWdlbnQvandrcy5qc29uIn0&quot;</span><span class="p">,</span>
</span><span id="__span-17-72"><a id="__codelineno-17-72" name="__codelineno-17-72" href="#__codelineno-17-72"></a><span class="w">      </span><span class="nt">&quot;signature&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;QFdkNLNszlGj3z3u0YQGt_T9LixY3qtdQpZmsTdDHDe3fXV9y9-B3m2-XgCpzuhiLt8E0tV6HXoZKHv4GtHgKQ&quot;</span>
</span><span id="__span-17-73"><a id="__codelineno-17-73" name="__codelineno-17-73" href="#__codelineno-17-73"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-17-74"><a id="__codelineno-17-74" name="__codelineno-17-74" href="#__codelineno-17-74"></a><span class="w">  </span><span class="p">]</span>
</span><span id="__span-17-75"><a id="__codelineno-17-75" name="__codelineno-17-75" href="#__codelineno-17-75"></a><span class="p">}</span>
</span></code></pre></div>
<h2 id="6-protocol-data-objects">6. Protocol Data Objects<a class="headerlink" href="#6-protocol-data-objects" title="Permanent link">&para;</a></h2>
<p>These objects define the structure of data exchanged within the JSON-RPC methods of the A2A protocol.</p>
<h3 id="61-task-object">6.1. <code>Task</code> Object<a class="headerlink" href="#61-task-object" title="Permanent link">&para;</a></h3>
<p>Represents the stateful unit of work being processed by the A2A Server for an A2A Client. A task encapsulates the entire interaction related to a specific goal or request. A task which has reached a terminal state (completed, canceled, rejected, or failed) can't be restarted. Tasks in completed state SHOULD use artifacts for returning the generated output to the clients. For more information, refer to the <a href="../topics/life-of-a-task/">Life of a Task guide</a>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:2"><input checked="checked" id="json-rpc_8" name="__tabbed_9" type="radio" /><input id="grpc_8" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="json-rpc_8">JSON-RPC</label><label for="grpc_8">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="cm">/**</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="cm"> * Represents a single, stateful operation or conversation between a client and an agent.</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="cm"> */</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">Task</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="w">  </span><span class="cm">/** A unique identifier (e.g. UUID) for the task, generated by the server for a new task. */</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="w">  </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="cm">   * A server-generated unique identifier (e.g. UUID) for maintaining context across multiple related tasks or interactions.</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="cm">   */</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="w">  </span><span class="nx">contextId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="w">  </span><span class="cm">/** The current status of the task, including its state and a descriptive message. */</span>
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="w">  </span><span class="nx">status</span><span class="o">:</span><span class="w"> </span><span class="kt">TaskStatus</span><span class="p">;</span>
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a><span class="w">  </span><span class="cm">/** An array of messages exchanged during the task, representing the conversation history. */</span>
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a><span class="w">  </span><span class="nx">history?</span><span class="o">:</span><span class="w"> </span><span class="kt">Message</span><span class="p">[];</span>
</span><span id="__span-18-15"><a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a><span class="w">  </span><span class="cm">/** A collection of artifacts generated by the agent during the execution of the task. */</span>
</span><span id="__span-18-16"><a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a><span class="w">  </span><span class="nx">artifacts?</span><span class="o">:</span><span class="w"> </span><span class="kt">Artifact</span><span class="p">[];</span>
</span><span id="__span-18-17"><a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a><span class="w">  </span><span class="cm">/** Optional metadata for extensions. The key is an extension-specific identifier. */</span>
</span><span id="__span-18-18"><a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a><span class="w">  </span><span class="nx">metadata</span><span class="o">?:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-18-19"><a id="__codelineno-18-19" name="__codelineno-18-19" href="#__codelineno-18-19"></a><span class="w">    </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="p">;</span>
</span><span id="__span-18-20"><a id="__codelineno-18-20" name="__codelineno-18-20" href="#__codelineno-18-20"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-18-21"><a id="__codelineno-18-21" name="__codelineno-18-21" href="#__codelineno-18-21"></a><span class="w">  </span><span class="cm">/** The type of this object, used as a discriminator. Always &#39;task&#39; for a Task. */</span>
</span><span id="__span-18-22"><a id="__codelineno-18-22" name="__codelineno-18-22" href="#__codelineno-18-22"></a><span class="w">  </span><span class="k">readonly</span><span class="w"> </span><span class="nx">kind</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;task&quot;</span><span class="p">;</span>
</span><span id="__span-18-23"><a id="__codelineno-18-23" name="__codelineno-18-23" href="#__codelineno-18-23"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1">// Task is the core unit of action for A2A. It has a current status</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="c1">// and when results are created for the task they are stored in the</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="c1">// artifact. If there are multiple turns for a task, these are stored in</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="c1">// history.</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="kd">message</span><span class="w"> </span><span class="nc">Task</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="w">  </span><span class="c1">// Unique identifier (e.g. UUID) for the task, generated by the server for a</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">  </span><span class="c1">// new task.</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="w">  </span><span class="c1">// Unique identifier (e.g. UUID) for the contextual collection of interactions</span>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="w">  </span><span class="c1">// (tasks and messages). Created by the A2A server.</span>
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">context_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="w">  </span><span class="c1">// The current status of a Task, including state and a message.</span>
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="w">  </span><span class="n">TaskStatus</span><span class="w"> </span><span class="na">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a><span class="w">  </span><span class="c1">// A set of output artifacts for a Task.</span>
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a><span class="w">  </span><span class="k">repeated</span><span class="w"> </span><span class="n">Artifact</span><span class="w"> </span><span class="na">artifacts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
</span><span id="__span-19-16"><a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a><span class="w">  </span><span class="c1">// protolint:disable REPEATED_FIELD_NAMES_PLURALIZED</span>
</span><span id="__span-19-17"><a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a><span class="w">  </span><span class="c1">// The history of interactions from a task.</span>
</span><span id="__span-19-18"><a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a><span class="w">  </span><span class="k">repeated</span><span class="w"> </span><span class="n">Message</span><span class="w"> </span><span class="na">history</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
</span><span id="__span-19-19"><a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a><span class="w">  </span><span class="c1">// protolint:enable REPEATED_FIELD_NAMES_PLURALIZED</span>
</span><span id="__span-19-20"><a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a><span class="w">  </span><span class="c1">// A key/value object to store custom metadata about a task.</span>
</span><span id="__span-19-21"><a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a><span class="w">  </span><span class="n">google.protobuf.Struct</span><span class="w"> </span><span class="na">metadata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
</span><span id="__span-19-22"><a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="62-taskstatus-object">6.2. <code>TaskStatus</code> Object<a class="headerlink" href="#62-taskstatus-object" title="Permanent link">&para;</a></h3>
<p>Represents the current state and associated context (e.g., a message from the agent) of a <code>Task</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="10:2"><input checked="checked" id="json-rpc_9" name="__tabbed_10" type="radio" /><input id="grpc_9" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="json-rpc_9">JSON-RPC</label><label for="grpc_9">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="cm">/**</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="cm"> * Represents the status of a task at a specific point in time.</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="cm"> */</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">TaskStatus</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">  </span><span class="cm">/** The current state of the task&#39;s lifecycle. */</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">  </span><span class="nx">state</span><span class="o">:</span><span class="w"> </span><span class="kt">TaskState</span><span class="p">;</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="w">  </span><span class="cm">/** An optional, human-readable message providing more details about the current status. */</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">  </span><span class="nx">message?</span><span class="o">:</span><span class="w"> </span><span class="kt">Message</span><span class="p">;</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="cm">   * An ISO 8601 datetime string indicating when this status was recorded.</span>
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="cm">   *</span>
</span><span id="__span-20-12"><a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="cm">   * @TJS-examples [&quot;2023-10-27T10:00:00Z&quot;]</span>
</span><span id="__span-20-13"><a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="cm">   */</span>
</span><span id="__span-20-14"><a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a><span class="w">  </span><span class="nx">timestamp?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-20-15"><a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1">// A container for the status of a task</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="kd">message</span><span class="w"> </span><span class="nc">TaskStatus</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">  </span><span class="c1">// The current state of this task</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">  </span><span class="n">TaskState</span><span class="w"> </span><span class="na">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="w">  </span><span class="c1">// A message associated with the status.</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="w">  </span><span class="n">Message</span><span class="w"> </span><span class="na">update</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">[</span><span class="na">json_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;message&quot;</span><span class="p">];</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="w">  </span><span class="c1">// Timestamp when the status was recorded.</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="w">  </span><span class="c1">// Example: &quot;2023-10-27T10:00:00Z&quot;</span>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="w">  </span><span class="n">google.protobuf.Timestamp</span><span class="w"> </span><span class="na">timestamp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="63-taskstate-enum">6.3. <code>TaskState</code> Enum<a class="headerlink" href="#63-taskstate-enum" title="Permanent link">&para;</a></h3>
<p>Defines the possible lifecycle states of a <code>Task</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="11:2"><input checked="checked" id="json-rpc_10" name="__tabbed_11" type="radio" /><input id="grpc_10" name="__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="json-rpc_10">JSON-RPC</label><label for="grpc_10">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="cm">/**</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="cm"> * Defines the lifecycle states of a Task.</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="cm"> */</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="nx">TaskState</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">  </span><span class="cm">/** The task has been submitted and is awaiting execution. */</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">  </span><span class="nx">Submitted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;submitted&quot;</span><span class="p">,</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="w">  </span><span class="cm">/** The agent is actively working on the task. */</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="w">  </span><span class="nx">Working</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;working&quot;</span><span class="p">,</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="w">  </span><span class="cm">/** The task is paused and waiting for input from the user. */</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="w">  </span><span class="nx">InputRequired</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;input-required&quot;</span><span class="p">,</span>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="w">  </span><span class="cm">/** The task has been successfully completed. */</span>
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="w">  </span><span class="nx">Completed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
</span><span id="__span-22-13"><a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="w">  </span><span class="cm">/** The task has been canceled by the user. */</span>
</span><span id="__span-22-14"><a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a><span class="w">  </span><span class="nx">Canceled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;canceled&quot;</span><span class="p">,</span>
</span><span id="__span-22-15"><a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a><span class="w">  </span><span class="cm">/** The task failed due to an error during execution. */</span>
</span><span id="__span-22-16"><a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a><span class="w">  </span><span class="nx">Failed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;failed&quot;</span><span class="p">,</span>
</span><span id="__span-22-17"><a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a><span class="w">  </span><span class="cm">/** The task was rejected by the agent and was not started. */</span>
</span><span id="__span-22-18"><a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a><span class="w">  </span><span class="nx">Rejected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;rejected&quot;</span><span class="p">,</span>
</span><span id="__span-22-19"><a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a><span class="w">  </span><span class="cm">/** The task requires authentication to proceed. */</span>
</span><span id="__span-22-20"><a id="__codelineno-22-20" name="__codelineno-22-20" href="#__codelineno-22-20"></a><span class="w">  </span><span class="nx">AuthRequired</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;auth-required&quot;</span><span class="p">,</span>
</span><span id="__span-22-21"><a id="__codelineno-22-21" name="__codelineno-22-21" href="#__codelineno-22-21"></a><span class="w">  </span><span class="cm">/** The task is in an unknown or indeterminate state. */</span>
</span><span id="__span-22-22"><a id="__codelineno-22-22" name="__codelineno-22-22" href="#__codelineno-22-22"></a><span class="w">  </span><span class="nx">Unknown</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;unknown&quot;</span><span class="p">,</span>
</span><span id="__span-22-23"><a id="__codelineno-22-23" name="__codelineno-22-23" href="#__codelineno-22-23"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="c1">// The set of states a Task can be in.</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="kd">enum</span><span class="w"> </span><span class="n">TaskState</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">  </span><span class="na">TASK_STATE_UNSPECIFIED</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">  </span><span class="c1">// Represents the status that acknowledges a task is created</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">  </span><span class="na">TASK_STATE_SUBMITTED</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="w">  </span><span class="c1">// Represents the status that a task is actively being processed</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="w">  </span><span class="na">TASK_STATE_WORKING</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="w">  </span><span class="c1">// Represents the status a task is finished. This is a terminal state</span>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="w">  </span><span class="na">TASK_STATE_COMPLETED</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="w">  </span><span class="c1">// Represents the status a task is done but failed. This is a terminal state</span>
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="w">  </span><span class="na">TASK_STATE_FAILED</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="w">  </span><span class="c1">// Represents the status a task was cancelled before it finished.</span>
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="w">  </span><span class="c1">// This is a terminal state.</span>
</span><span id="__span-23-14"><a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="w">  </span><span class="na">TASK_STATE_CANCELLED</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
</span><span id="__span-23-15"><a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a><span class="w">  </span><span class="c1">// Represents the status that the task requires information to complete.</span>
</span><span id="__span-23-16"><a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a><span class="w">  </span><span class="c1">// This is an interrupted state.</span>
</span><span id="__span-23-17"><a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a><span class="w">  </span><span class="na">TASK_STATE_INPUT_REQUIRED</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
</span><span id="__span-23-18"><a id="__codelineno-23-18" name="__codelineno-23-18" href="#__codelineno-23-18"></a><span class="w">  </span><span class="c1">// Represents the status that the agent has decided to not perform the task.</span>
</span><span id="__span-23-19"><a id="__codelineno-23-19" name="__codelineno-23-19" href="#__codelineno-23-19"></a><span class="w">  </span><span class="c1">// This may be done during initial task creation or later once an agent</span>
</span><span id="__span-23-20"><a id="__codelineno-23-20" name="__codelineno-23-20" href="#__codelineno-23-20"></a><span class="w">  </span><span class="c1">// has determined it can&#39;t or won&#39;t proceed. This is a terminal state.</span>
</span><span id="__span-23-21"><a id="__codelineno-23-21" name="__codelineno-23-21" href="#__codelineno-23-21"></a><span class="w">  </span><span class="na">TASK_STATE_REJECTED</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span>
</span><span id="__span-23-22"><a id="__codelineno-23-22" name="__codelineno-23-22" href="#__codelineno-23-22"></a><span class="w">  </span><span class="c1">// Represents the state that some authentication is needed from the upstream</span>
</span><span id="__span-23-23"><a id="__codelineno-23-23" name="__codelineno-23-23" href="#__codelineno-23-23"></a><span class="w">  </span><span class="c1">// client. Authentication is expected to come out-of-band thus this is not</span>
</span><span id="__span-23-24"><a id="__codelineno-23-24" name="__codelineno-23-24" href="#__codelineno-23-24"></a><span class="w">  </span><span class="c1">// an interrupted or terminal state.</span>
</span><span id="__span-23-25"><a id="__codelineno-23-25" name="__codelineno-23-25" href="#__codelineno-23-25"></a><span class="w">  </span><span class="na">TASK_STATE_AUTH_REQUIRED</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span>
</span><span id="__span-23-26"><a id="__codelineno-23-26" name="__codelineno-23-26" href="#__codelineno-23-26"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="64-message-object">6.4. <code>Message</code> Object<a class="headerlink" href="#64-message-object" title="Permanent link">&para;</a></h3>
<p>Represents a single communication turn or a piece of contextual information between a client and an agent. Messages are used for instructions, prompts, replies, and status updates.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="12:2"><input checked="checked" id="json-rpc_11" name="__tabbed_12" type="radio" /><input id="grpc_11" name="__tabbed_12" type="radio" /><div class="tabbed-labels"><label for="json-rpc_11">JSON-RPC</label><label for="grpc_11">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="cm">/**</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="cm"> * Represents a single message in the conversation between a user and an agent.</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="cm"> */</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">Message</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="w">  </span><span class="cm">/** Identifies the sender of the message. `user` for the client, `agent` for the service. */</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="w">  </span><span class="k">readonly</span><span class="w"> </span><span class="nx">role</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;agent&quot;</span><span class="p">;</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="cm">   * An array of content parts that form the message body. A message can be</span>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="cm">   * composed of multiple parts of different types (e.g., text and files).</span>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="cm">   */</span>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="w">  </span><span class="nx">parts</span><span class="o">:</span><span class="w"> </span><span class="kt">Part</span><span class="p">[];</span>
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="w">  </span><span class="cm">/** Optional metadata for extensions. The key is an extension-specific identifier. */</span>
</span><span id="__span-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="w">  </span><span class="nx">metadata</span><span class="o">?:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-14"><a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="w">    </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="p">;</span>
</span><span id="__span-24-15"><a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-24-16"><a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a><span class="w">  </span><span class="cm">/** The URIs of extensions that are relevant to this message. */</span>
</span><span id="__span-24-17"><a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a><span class="w">  </span><span class="nx">extensions?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">[];</span>
</span><span id="__span-24-18"><a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-24-19"><a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a><span class="cm">   * A list of other task IDs that this message references for additional context.</span>
</span><span id="__span-24-20"><a id="__codelineno-24-20" name="__codelineno-24-20" href="#__codelineno-24-20"></a><span class="cm">   */</span>
</span><span id="__span-24-21"><a id="__codelineno-24-21" name="__codelineno-24-21" href="#__codelineno-24-21"></a><span class="w">  </span><span class="nx">referenceTaskIds?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">[];</span>
</span><span id="__span-24-22"><a id="__codelineno-24-22" name="__codelineno-24-22" href="#__codelineno-24-22"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-24-23"><a id="__codelineno-24-23" name="__codelineno-24-23" href="#__codelineno-24-23"></a><span class="cm">   * A unique identifier for the message, typically a UUID, generated by the sender.</span>
</span><span id="__span-24-24"><a id="__codelineno-24-24" name="__codelineno-24-24" href="#__codelineno-24-24"></a><span class="cm">   */</span>
</span><span id="__span-24-25"><a id="__codelineno-24-25" name="__codelineno-24-25" href="#__codelineno-24-25"></a><span class="w">  </span><span class="nx">messageId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-24-26"><a id="__codelineno-24-26" name="__codelineno-24-26" href="#__codelineno-24-26"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-24-27"><a id="__codelineno-24-27" name="__codelineno-24-27" href="#__codelineno-24-27"></a><span class="cm">   * The ID of the task this message is part of. Can be omitted for the first message of a new task.</span>
</span><span id="__span-24-28"><a id="__codelineno-24-28" name="__codelineno-24-28" href="#__codelineno-24-28"></a><span class="cm">   */</span>
</span><span id="__span-24-29"><a id="__codelineno-24-29" name="__codelineno-24-29" href="#__codelineno-24-29"></a><span class="w">  </span><span class="nx">taskId?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-24-30"><a id="__codelineno-24-30" name="__codelineno-24-30" href="#__codelineno-24-30"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-24-31"><a id="__codelineno-24-31" name="__codelineno-24-31" href="#__codelineno-24-31"></a><span class="cm">   * The context ID for this message, used to group related interactions.</span>
</span><span id="__span-24-32"><a id="__codelineno-24-32" name="__codelineno-24-32" href="#__codelineno-24-32"></a><span class="cm">   */</span>
</span><span id="__span-24-33"><a id="__codelineno-24-33" name="__codelineno-24-33" href="#__codelineno-24-33"></a><span class="w">  </span><span class="nx">contextId?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-24-34"><a id="__codelineno-24-34" name="__codelineno-24-34" href="#__codelineno-24-34"></a><span class="w">  </span><span class="cm">/** The type of this object, used as a discriminator. Always &#39;message&#39; for a Message. */</span>
</span><span id="__span-24-35"><a id="__codelineno-24-35" name="__codelineno-24-35" href="#__codelineno-24-35"></a><span class="w">  </span><span class="k">readonly</span><span class="w"> </span><span class="nx">kind</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;message&quot;</span><span class="p">;</span>
</span><span id="__span-24-36"><a id="__codelineno-24-36" name="__codelineno-24-36" href="#__codelineno-24-36"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="c1">// Message is one unit of communication between client and server. It is</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="c1">// associated with a context and optionally a task. Since the server is</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="c1">// responsible for the context definition, it must always provide a context_id</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="c1">// in its messages. The client can optionally provide the context_id if it</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="c1">// knows the context to associate the message to. Similarly for task_id,</span>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="c1">// except the server decides if a task is created and whether to include the</span>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="c1">// task_id.</span>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="kd">message</span><span class="w"> </span><span class="nc">Message</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="w">  </span><span class="c1">// The unique identifier (e.g. UUID)of the message. This is required and</span>
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="w">  </span><span class="c1">// created by the message creator.</span>
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">message_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a><span class="w">  </span><span class="c1">// The context id of the message. This is optional and if set, the message</span>
</span><span id="__span-25-13"><a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a><span class="w">  </span><span class="c1">// will be associated with the given context.</span>
</span><span id="__span-25-14"><a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">context_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-25-15"><a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a><span class="w">  </span><span class="c1">// The task id of the message. This is optional and if set, the message</span>
</span><span id="__span-25-16"><a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a><span class="w">  </span><span class="c1">// will be associated with the given task.</span>
</span><span id="__span-25-17"><a id="__codelineno-25-17" name="__codelineno-25-17" href="#__codelineno-25-17"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">task_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-25-18"><a id="__codelineno-25-18" name="__codelineno-25-18" href="#__codelineno-25-18"></a><span class="w">  </span><span class="c1">// A role for the message.</span>
</span><span id="__span-25-19"><a id="__codelineno-25-19" name="__codelineno-25-19" href="#__codelineno-25-19"></a><span class="w">  </span><span class="n">Role</span><span class="w"> </span><span class="na">role</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
</span><span id="__span-25-20"><a id="__codelineno-25-20" name="__codelineno-25-20" href="#__codelineno-25-20"></a><span class="w">  </span><span class="c1">// protolint:disable REPEATED_FIELD_NAMES_PLURALIZED</span>
</span><span id="__span-25-21"><a id="__codelineno-25-21" name="__codelineno-25-21" href="#__codelineno-25-21"></a><span class="w">  </span><span class="c1">// Content is the container of the message content.</span>
</span><span id="__span-25-22"><a id="__codelineno-25-22" name="__codelineno-25-22" href="#__codelineno-25-22"></a><span class="w">  </span><span class="k">repeated</span><span class="w"> </span><span class="n">Part</span><span class="w"> </span><span class="na">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
</span><span id="__span-25-23"><a id="__codelineno-25-23" name="__codelineno-25-23" href="#__codelineno-25-23"></a><span class="w">  </span><span class="c1">// protolint:enable REPEATED_FIELD_NAMES_PLURALIZED</span>
</span><span id="__span-25-24"><a id="__codelineno-25-24" name="__codelineno-25-24" href="#__codelineno-25-24"></a><span class="w">  </span><span class="c1">// Any optional metadata to provide along with the message.</span>
</span><span id="__span-25-25"><a id="__codelineno-25-25" name="__codelineno-25-25" href="#__codelineno-25-25"></a><span class="w">  </span><span class="n">google.protobuf.Struct</span><span class="w"> </span><span class="na">metadata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
</span><span id="__span-25-26"><a id="__codelineno-25-26" name="__codelineno-25-26" href="#__codelineno-25-26"></a><span class="w">  </span><span class="c1">// The URIs of extensions that are present or contributed to this Message.</span>
</span><span id="__span-25-27"><a id="__codelineno-25-27" name="__codelineno-25-27" href="#__codelineno-25-27"></a><span class="w">  </span><span class="k">repeated</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="k">extensions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span>
</span><span id="__span-25-28"><a id="__codelineno-25-28" name="__codelineno-25-28" href="#__codelineno-25-28"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="65-part-union-type">6.5. <code>Part</code> Union Type<a class="headerlink" href="#65-part-union-type" title="Permanent link">&para;</a></h3>
<p>Represents a distinct piece of content within a <code>Message</code> or <code>Artifact</code>. A <code>Part</code> is a union type representing exportable content as either <code>TextPart</code>, <code>FilePart</code>, or <code>DataPart</code>. All <code>Part</code> types also include an optional <code>metadata</code> field (<code>Record&lt;string, any&gt;</code>) for part-specific metadata.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="13:2"><input checked="checked" id="json-rpc_12" name="__tabbed_13" type="radio" /><input id="grpc_12" name="__tabbed_13" type="radio" /><div class="tabbed-labels"><label for="json-rpc_12">JSON-RPC</label><label for="grpc_12">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="cm">/**</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="cm"> * A discriminated union representing a part of a message or artifact, which can</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="cm"> * be text, a file, or structured data.</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="cm"> */</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="k">export</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="nx">Part</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">TextPart</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">FilePart</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">DataPart</span><span class="p">;</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c1">// Part represents a container for a section of communication content.</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="c1">// Parts can be purely textual, some sort of file (image, video, etc) or</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="c1">// a structured data blob (i.e. JSON).</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="kd">message</span><span class="w"> </span><span class="nc">Part</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="w">  </span><span class="k">oneof</span><span class="w"> </span><span class="n">part</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="w">    </span><span class="kt">string</span><span class="w"> </span><span class="na">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="w">    </span><span class="n">FilePart</span><span class="w"> </span><span class="na">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="w">    </span><span class="n">DataPart</span><span class="w"> </span><span class="na">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-27-10"><a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="w">  </span><span class="c1">// Optional metadata associated with this part.</span>
</span><span id="__span-27-11"><a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="w">  </span><span class="n">google.protobuf.Struct</span><span class="w"> </span><span class="na">metadata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
</span><span id="__span-27-12"><a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="cm">/**</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="cm"> * Defines base properties common to all message or artifact parts.</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="cm"> */</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">PartBase</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="w">  </span><span class="cm">/** Optional metadata associated with this part. */</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="w">  </span><span class="nx">metadata</span><span class="o">?:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="w">    </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="p">;</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="p">}</span>
</span></code></pre></div>
<p>It <strong>MUST</strong> be one of the following:</p>
<h4 id="651-textpart-object">6.5.1. <code>TextPart</code> Object<a class="headerlink" href="#651-textpart-object" title="Permanent link">&para;</a></h4>
<p>For conveying plain textual content.</p>
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="cm">/**</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="cm"> * Represents a text segment within a message or artifact.</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="cm"> */</span>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">TextPart</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">PartBase</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="w">  </span><span class="cm">/** The type of this part, used as a discriminator. Always &#39;text&#39;. */</span>
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="w">  </span><span class="k">readonly</span><span class="w"> </span><span class="nx">kind</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">;</span>
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="w">  </span><span class="cm">/** The string content of the text part. */</span>
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="w">  </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="652-filepart-object">6.5.2. <code>FilePart</code> Object<a class="headerlink" href="#652-filepart-object" title="Permanent link">&para;</a></h4>
<p>For conveying file-based content.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="14:2"><input checked="checked" id="json-rpc_13" name="__tabbed_14" type="radio" /><input id="grpc_13" name="__tabbed_14" type="radio" /><div class="tabbed-labels"><label for="json-rpc_13">JSON-RPC</label><label for="grpc_13">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="cm">/**</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="cm"> * Represents a file segment within a message or artifact. The file content can be</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="cm"> * provided either directly as bytes or as a URI.</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="cm"> */</span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">FilePart</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">PartBase</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="w">  </span><span class="cm">/** The type of this part, used as a discriminator. Always &#39;file&#39;. */</span>
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="w">  </span><span class="k">readonly</span><span class="w"> </span><span class="nx">kind</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">;</span>
</span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="w">  </span><span class="cm">/** The file content, represented as either a URI or as base64-encoded bytes. */</span>
</span><span id="__span-30-9"><a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="w">  </span><span class="nx">file</span><span class="o">:</span><span class="w"> </span><span class="kt">FileWithBytes</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">FileWithUri</span><span class="p">;</span>
</span><span id="__span-30-10"><a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="c1">// FilePart represents the different ways files can be provided. If files are</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="c1">// small, directly feeding the bytes is supported via file_with_bytes. If the</span>
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="c1">// file is large, the agent should read the content as appropriate directly</span>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="c1">// from the file_with_uri source.</span>
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="kd">message</span><span class="w"> </span><span class="nc">FilePart</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="w">  </span><span class="k">oneof</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-31-7"><a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="w">    </span><span class="kt">string</span><span class="w"> </span><span class="na">file_with_uri</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-31-8"><a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="w">    </span><span class="kt">bytes</span><span class="w"> </span><span class="na">file_with_bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-31-9"><a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-31-10"><a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">mime_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-31-11"><a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
</span><span id="__span-31-12"><a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h4 id="653-datapart-object">6.5.3. <code>DataPart</code> Object<a class="headerlink" href="#653-datapart-object" title="Permanent link">&para;</a></h4>
<p>For conveying structured JSON data. Useful for forms, parameters, or any machine-readable information.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="15:2"><input checked="checked" id="json-rpc_14" name="__tabbed_15" type="radio" /><input id="grpc_14" name="__tabbed_15" type="radio" /><div class="tabbed-labels"><label for="json-rpc_14">JSON-RPC</label><label for="grpc_14">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="cm">/**</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="cm"> * Represents a structured data segment (e.g., JSON) within a message or artifact.</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="cm"> */</span>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">DataPart</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">PartBase</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="w">  </span><span class="cm">/** The type of this part, used as a discriminator. Always &#39;data&#39;. */</span>
</span><span id="__span-32-6"><a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="w">  </span><span class="k">readonly</span><span class="w"> </span><span class="nx">kind</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;data&quot;</span><span class="p">;</span>
</span><span id="__span-32-7"><a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="w">  </span><span class="cm">/** The structured data content. */</span>
</span><span id="__span-32-8"><a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="w">  </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-32-9"><a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="w">    </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="p">;</span>
</span><span id="__span-32-10"><a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-32-11"><a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="c1">// DataPart represents a structured blob. This is most commonly a JSON payload.</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="kd">message</span><span class="w"> </span><span class="nc">DataPart</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="w">  </span><span class="n">google.protobuf.Struct</span><span class="w"> </span><span class="na">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="66-filebase-object">6.6 <code>FileBase</code> Object<a class="headerlink" href="#66-filebase-object" title="Permanent link">&para;</a></h3>
<p>Base entity for File Contents.</p>
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="cm">/**</span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="cm"> * Defines base properties for a file.</span>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="cm"> */</span>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">FileBase</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="w">  </span><span class="cm">/** An optional name for the file (e.g., &quot;document.pdf&quot;). */</span>
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="w">  </span><span class="nx">name?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-34-7"><a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="w">  </span><span class="cm">/** The MIME type of the file (e.g., &quot;application/pdf&quot;). */</span>
</span><span id="__span-34-8"><a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="w">  </span><span class="nx">mimeType?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-34-9"><a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="661-filewithbytes-object">6.6.1 <code>FileWithBytes</code> Object<a class="headerlink" href="#661-filewithbytes-object" title="Permanent link">&para;</a></h4>
<p>Represents the data for a file, used within a <code>FilePart</code>.</p>
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="cm">/**</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="cm"> * Represents a file with its content provided directly as a base64-encoded string.</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="cm"> */</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">FileWithBytes</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">FileBase</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="w">  </span><span class="cm">/** The base64-encoded content of the file. */</span>
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="w">  </span><span class="nx">bytes</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-35-7"><a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="w">  </span><span class="cm">/** The `uri` property must be absent when `bytes` is present. */</span>
</span><span id="__span-35-8"><a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="w">  </span><span class="nx">uri?</span><span class="o">:</span><span class="w"> </span><span class="kt">never</span><span class="p">;</span>
</span><span id="__span-35-9"><a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="662-filewithuri-object">6.6.2 <code>FileWithUri</code> Object<a class="headerlink" href="#662-filewithuri-object" title="Permanent link">&para;</a></h4>
<p>Represents the URI for a file, used within a <code>FilePart</code>.</p>
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="cm">/**</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="cm"> * Represents a file with its content located at a specific URI.</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="cm"> */</span>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">FileWithUri</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">FileBase</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="w">  </span><span class="cm">/** A URL pointing to the file&#39;s content. */</span>
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="w">  </span><span class="nx">uri</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="w">  </span><span class="cm">/** The `bytes` property must be absent when `uri` is present. */</span>
</span><span id="__span-36-8"><a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="w">  </span><span class="nx">bytes?</span><span class="o">:</span><span class="w"> </span><span class="kt">never</span><span class="p">;</span>
</span><span id="__span-36-9"><a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="67-artifact-object">6.7. <code>Artifact</code> Object<a class="headerlink" href="#67-artifact-object" title="Permanent link">&para;</a></h3>
<p>Represents a tangible output generated by the agent during a task. Artifacts are the results or products of the agent's work.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="16:2"><input checked="checked" id="json-rpc_15" name="__tabbed_16" type="radio" /><input id="grpc_15" name="__tabbed_16" type="radio" /><div class="tabbed-labels"><label for="json-rpc_15">JSON-RPC</label><label for="grpc_15">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="cm">/**</span>
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="cm"> * Represents a file, data structure, or other resource generated by an agent during a task.</span>
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="cm"> */</span>
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">Artifact</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-37-5"><a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-37-6"><a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="cm">   * A unique identifier (e.g. UUID) for the artifact within the scope of the task.</span>
</span><span id="__span-37-7"><a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="cm">   */</span>
</span><span id="__span-37-8"><a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="w">  </span><span class="nx">artifactId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-37-9"><a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a><span class="w">  </span><span class="cm">/** An optional, human-readable name for the artifact. */</span>
</span><span id="__span-37-10"><a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a><span class="w">  </span><span class="nx">name?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-37-11"><a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a><span class="w">  </span><span class="cm">/** An optional, human-readable description of the artifact. */</span>
</span><span id="__span-37-12"><a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a><span class="w">  </span><span class="nx">description?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-37-13"><a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a><span class="w">  </span><span class="cm">/** An array of content parts that make up the artifact. */</span>
</span><span id="__span-37-14"><a id="__codelineno-37-14" name="__codelineno-37-14" href="#__codelineno-37-14"></a><span class="w">  </span><span class="nx">parts</span><span class="o">:</span><span class="w"> </span><span class="kt">Part</span><span class="p">[];</span>
</span><span id="__span-37-15"><a id="__codelineno-37-15" name="__codelineno-37-15" href="#__codelineno-37-15"></a><span class="w">  </span><span class="cm">/** Optional metadata for extensions. The key is an extension-specific identifier. */</span>
</span><span id="__span-37-16"><a id="__codelineno-37-16" name="__codelineno-37-16" href="#__codelineno-37-16"></a><span class="w">  </span><span class="nx">metadata</span><span class="o">?:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-37-17"><a id="__codelineno-37-17" name="__codelineno-37-17" href="#__codelineno-37-17"></a><span class="w">    </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="p">;</span>
</span><span id="__span-37-18"><a id="__codelineno-37-18" name="__codelineno-37-18" href="#__codelineno-37-18"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-37-19"><a id="__codelineno-37-19" name="__codelineno-37-19" href="#__codelineno-37-19"></a><span class="w">  </span><span class="cm">/** The URIs of extensions that are relevant to this artifact. */</span>
</span><span id="__span-37-20"><a id="__codelineno-37-20" name="__codelineno-37-20" href="#__codelineno-37-20"></a><span class="w">  </span><span class="nx">extensions?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">[];</span>
</span><span id="__span-37-21"><a id="__codelineno-37-21" name="__codelineno-37-21" href="#__codelineno-37-21"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="c1">// Artifacts are the container for task completed results. These are similar</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="c1">// to Messages but are intended to be the product of a task, as opposed to</span>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="c1">// point-to-point communication.</span>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="kd">message</span><span class="w"> </span><span class="nc">Artifact</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="w">  </span><span class="c1">// Unique identifier (e.g. UUID) for the artifact. It must be at least unique</span>
</span><span id="__span-38-6"><a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="w">  </span><span class="c1">// within a task.</span>
</span><span id="__span-38-7"><a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">artifact_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-38-8"><a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="w">  </span><span class="c1">// A human readable name for the artifact.</span>
</span><span id="__span-38-9"><a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-38-10"><a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="w">  </span><span class="c1">// A human readable description of the artifact, optional.</span>
</span><span id="__span-38-11"><a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
</span><span id="__span-38-12"><a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="w">  </span><span class="c1">// The content of the artifact.</span>
</span><span id="__span-38-13"><a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a><span class="w">  </span><span class="k">repeated</span><span class="w"> </span><span class="n">Part</span><span class="w"> </span><span class="na">parts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
</span><span id="__span-38-14"><a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a><span class="w">  </span><span class="c1">// Optional metadata included with the artifact.</span>
</span><span id="__span-38-15"><a id="__codelineno-38-15" name="__codelineno-38-15" href="#__codelineno-38-15"></a><span class="w">  </span><span class="n">google.protobuf.Struct</span><span class="w"> </span><span class="na">metadata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
</span><span id="__span-38-16"><a id="__codelineno-38-16" name="__codelineno-38-16" href="#__codelineno-38-16"></a><span class="w">  </span><span class="c1">// The URIs of extensions that are present or contributed to this Artifact.</span>
</span><span id="__span-38-17"><a id="__codelineno-38-17" name="__codelineno-38-17" href="#__codelineno-38-17"></a><span class="w">  </span><span class="k">repeated</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="k">extensions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span>
</span><span id="__span-38-18"><a id="__codelineno-38-18" name="__codelineno-38-18" href="#__codelineno-38-18"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="68-pushnotificationconfig-object">6.8. <code>PushNotificationConfig</code> Object<a class="headerlink" href="#68-pushnotificationconfig-object" title="Permanent link">&para;</a></h3>
<p>Configuration provided by the client to the server for sending asynchronous push notifications about task updates.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="17:2"><input checked="checked" id="json-rpc_16" name="__tabbed_17" type="radio" /><input id="grpc_16" name="__tabbed_17" type="radio" /><div class="tabbed-labels"><label for="json-rpc_16">JSON-RPC</label><label for="grpc_16">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="cm">/**</span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="cm"> * Defines the configuration for setting up push notifications for task updates.</span>
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="cm"> */</span>
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">PushNotificationConfig</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-39-6"><a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="cm">   * A unique identifier (e.g. UUID) for the push notification configuration, set by the client</span>
</span><span id="__span-39-7"><a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a><span class="cm">   * to support multiple notification callbacks.</span>
</span><span id="__span-39-8"><a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a><span class="cm">   */</span>
</span><span id="__span-39-9"><a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a><span class="w">  </span><span class="nx">id?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-39-10"><a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a><span class="w">  </span><span class="cm">/** The callback URL where the agent should send push notifications. */</span>
</span><span id="__span-39-11"><a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a><span class="w">  </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-39-12"><a id="__codelineno-39-12" name="__codelineno-39-12" href="#__codelineno-39-12"></a><span class="w">  </span><span class="cm">/** A unique token for this task or session to validate incoming push notifications. */</span>
</span><span id="__span-39-13"><a id="__codelineno-39-13" name="__codelineno-39-13" href="#__codelineno-39-13"></a><span class="w">  </span><span class="nx">token?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-39-14"><a id="__codelineno-39-14" name="__codelineno-39-14" href="#__codelineno-39-14"></a><span class="w">  </span><span class="cm">/** Optional authentication details for the agent to use when calling the notification URL. */</span>
</span><span id="__span-39-15"><a id="__codelineno-39-15" name="__codelineno-39-15" href="#__codelineno-39-15"></a><span class="w">  </span><span class="nx">authentication?</span><span class="o">:</span><span class="w"> </span><span class="kt">PushNotificationAuthenticationInfo</span><span class="p">;</span>
</span><span id="__span-39-16"><a id="__codelineno-39-16" name="__codelineno-39-16" href="#__codelineno-39-16"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="c1">// Configuration for setting up push notifications for task updates.</span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="kd">message</span><span class="w"> </span><span class="nc">PushNotificationConfig</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="w">  </span><span class="c1">// A unique identifier (e.g. UUID) for this push notification.</span>
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-40-5"><a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="w">  </span><span class="c1">// Url to send the notification too</span>
</span><span id="__span-40-6"><a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-40-7"><a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a><span class="w">  </span><span class="c1">// Token unique for this task/session</span>
</span><span id="__span-40-8"><a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-40-9"><a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a><span class="w">  </span><span class="c1">// Information about the authentication to sent with the notification</span>
</span><span id="__span-40-10"><a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a><span class="w">  </span><span class="n">AuthenticationInfo</span><span class="w"> </span><span class="na">authentication</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
</span><span id="__span-40-11"><a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="69-pushnotificationauthenticationinfo-object">6.9. <code>PushNotificationAuthenticationInfo</code> Object<a class="headerlink" href="#69-pushnotificationauthenticationinfo-object" title="Permanent link">&para;</a></h3>
<p>A generic structure for specifying authentication requirements, typically used within <code>PushNotificationConfig</code> to describe how the A2A Server should authenticate to the client's webhook.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="18:2"><input checked="checked" id="json-rpc_17" name="__tabbed_18" type="radio" /><input id="grpc_17" name="__tabbed_18" type="radio" /><div class="tabbed-labels"><label for="json-rpc_17">JSON-RPC</label><label for="grpc_17">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="cm">/**</span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="cm"> * Defines authentication details for a push notification endpoint.</span>
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="cm"> */</span>
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">PushNotificationAuthenticationInfo</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="w">  </span><span class="cm">/** A list of supported authentication schemes (e.g., &#39;Basic&#39;, &#39;Bearer&#39;). */</span>
</span><span id="__span-41-6"><a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="w">  </span><span class="nx">schemes</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">[];</span>
</span><span id="__span-41-7"><a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="w">  </span><span class="cm">/** Optional credentials required by the push notification endpoint. */</span>
</span><span id="__span-41-8"><a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="w">  </span><span class="nx">credentials?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-41-9"><a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="c1">// Defines authentication details, used for push notifications.</span>
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="kd">message</span><span class="w"> </span><span class="nc">AuthenticationInfo</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="w">  </span><span class="c1">// Supported authentication schemes - e.g. Basic, Bearer, etc</span>
</span><span id="__span-42-4"><a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="w">  </span><span class="k">repeated</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="na">schemes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-42-5"><a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="w">  </span><span class="c1">// Optional credentials</span>
</span><span id="__span-42-6"><a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">credentials</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-42-7"><a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="610-taskpushnotificationconfig-object">6.10. <code>TaskPushNotificationConfig</code> Object<a class="headerlink" href="#610-taskpushnotificationconfig-object" title="Permanent link">&para;</a></h3>
<p>Used as the <code>params</code> object for the <a href="#75-taskspushnotificationconfigset"><code>tasks/pushNotificationConfig/set</code></a> method and as the <code>result</code> object for the <a href="#76-taskspushnotificationconfigget"><code>tasks/pushNotificationConfig/get</code></a> method.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="19:2"><input checked="checked" id="json-rpc_18" name="__tabbed_19" type="radio" /><input id="grpc_18" name="__tabbed_19" type="radio" /><div class="tabbed-labels"><label for="json-rpc_18">JSON-RPC</label><label for="grpc_18">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="cm">/**</span>
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="cm"> * A container associating a push notification configuration with a specific task.</span>
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="cm"> */</span>
</span><span id="__span-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">TaskPushNotificationConfig</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-43-5"><a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-43-6"><a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="cm">   * The unique identifier (e.g. UUID) of the task.</span>
</span><span id="__span-43-7"><a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="cm">   */</span>
</span><span id="__span-43-8"><a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a><span class="w">  </span><span class="nx">taskId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-43-9"><a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a><span class="w">  </span><span class="cm">/** The push notification configuration for this task. */</span>
</span><span id="__span-43-10"><a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a><span class="w">  </span><span class="nx">pushNotificationConfig</span><span class="o">:</span><span class="w"> </span><span class="kt">PushNotificationConfig</span><span class="p">;</span>
</span><span id="__span-43-11"><a id="__codelineno-43-11" name="__codelineno-43-11" href="#__codelineno-43-11"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="kd">message</span><span class="w"> </span><span class="nc">TaskPushNotificationConfig</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="w">  </span><span class="c1">// The resource name of the config.</span>
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="w">  </span><span class="c1">// Format: tasks/{task_id}/pushNotificationConfigs/{config_id}</span>
</span><span id="__span-44-4"><a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-44-5"><a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="w">  </span><span class="c1">// The push notification configuration details.</span>
</span><span id="__span-44-6"><a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a><span class="w">  </span><span class="n">PushNotificationConfig</span><span class="w"> </span><span class="na">push_notification_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-44-7"><a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="611-json-rpc-structures">6.11. JSON-RPC Structures<a class="headerlink" href="#611-json-rpc-structures" title="Permanent link">&para;</a></h3>
<p>A2A adheres to the standard <a href="https://www.jsonrpc.org/specification">JSON-RPC 2.0</a> structures for requests and responses.</p>
<h4 id="6111-jsonrpcrequest-object">6.11.1. <code>JSONRPCRequest</code> Object<a class="headerlink" href="#6111-jsonrpcrequest-object" title="Permanent link">&para;</a></h4>
<p>All A2A method calls are encapsulated in a JSON-RPC Request object.</p>
<ul>
<li><code>jsonrpc</code>: A String specifying the version of the JSON-RPC protocol. <strong>MUST</strong> be exactly <code>"2.0"</code>.</li>
<li><code>method</code>: A String containing the name of the method to be invoked (e.g., <code>"message/send"</code>, <code>"tasks/get"</code>).</li>
<li><code>params</code>: A Structured value that holds the parameter values to be used during the invocation of the method. This member <strong>MAY</strong> be omitted if the method expects no parameters. A2A methods typically use an <code>object</code> for <code>params</code>.</li>
<li><code>id</code>: An identifier established by the Client that <strong>MUST</strong> contain a String, Number, or <code>NULL</code> value if included. If it is not included it is assumed to be a notification. The value <strong>SHOULD NOT</strong> be <code>NULL</code> for requests expecting a response, and Numbers <strong>SHOULD NOT</strong> contain fractional parts. The Server <strong>MUST</strong> reply with the same value in the Response object if included. This member is used to correlate the context between the two objects. A2A methods typically expect a response or stream, so <code>id</code> will usually be present and non-null.</li>
</ul>
<h4 id="6112-jsonrpcresponse-object">6.11.2. <code>JSONRPCResponse</code> Object<a class="headerlink" href="#6112-jsonrpcresponse-object" title="Permanent link">&para;</a></h4>
<p>Responses from the A2A Server are encapsulated in a JSON-RPC Response object.</p>
<ul>
<li><code>jsonrpc</code>: A String specifying the version of the JSON-RPC protocol. <strong>MUST</strong> be exactly <code>"2.0"</code>.</li>
<li><code>id</code>: This member is <strong>REQUIRED</strong>. It <strong>MUST</strong> be the same as the value of the <code>id</code> member in the Request Object. If there was an error in detecting the <code>id</code> in the Request object (e.g. Parse error/Invalid Request), it <strong>MUST</strong> be <code>null</code>.</li>
<li><strong>EITHER</strong> <code>result</code>: This member is <strong>REQUIRED</strong> on success. This member <strong>MUST NOT</strong> exist if there was an error invoking the method. The value of this member is determined by the method invoked on the Server.</li>
<li><strong>OR</strong> <code>error</code>: This member is <strong>REQUIRED</strong> on failure. This member <strong>MUST NOT</strong> exist if there was no error triggered during invocation. The value of this member <strong>MUST</strong> be an <a href="#612-jsonrpcerror-object"><code>JSONRPCError</code></a> object.</li>
<li>The members <code>result</code> and <code>error</code> are mutually exclusive: one <strong>MUST</strong> be present, and the other <strong>MUST NOT</strong>.</li>
</ul>
<h3 id="612-jsonrpcerror-object">6.12. <code>JSONRPCError</code> Object<a class="headerlink" href="#612-jsonrpcerror-object" title="Permanent link">&para;</a></h3>
<p>When a JSON-RPC call encounters an error, the Response Object will contain an <code>error</code> member with a value of this structure.</p>
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="cm">/**</span>
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="cm"> * Represents a JSON-RPC 2.0 Error object, included in an error response.</span>
</span><span id="__span-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="cm"> */</span>
</span><span id="__span-45-4"><a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">JSONRPCError</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-45-5"><a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-45-6"><a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="cm">   * A number that indicates the error type that occurred.</span>
</span><span id="__span-45-7"><a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="cm">   */</span>
</span><span id="__span-45-8"><a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a><span class="w">  </span><span class="nx">code</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
</span><span id="__span-45-9"><a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-45-10"><a id="__codelineno-45-10" name="__codelineno-45-10" href="#__codelineno-45-10"></a><span class="cm">   * A string providing a short description of the error.</span>
</span><span id="__span-45-11"><a id="__codelineno-45-11" name="__codelineno-45-11" href="#__codelineno-45-11"></a><span class="cm">   */</span>
</span><span id="__span-45-12"><a id="__codelineno-45-12" name="__codelineno-45-12" href="#__codelineno-45-12"></a><span class="w">  </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-45-13"><a id="__codelineno-45-13" name="__codelineno-45-13" href="#__codelineno-45-13"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-45-14"><a id="__codelineno-45-14" name="__codelineno-45-14" href="#__codelineno-45-14"></a><span class="cm">   * A primitive or structured value containing additional information about the error.</span>
</span><span id="__span-45-15"><a id="__codelineno-45-15" name="__codelineno-45-15" href="#__codelineno-45-15"></a><span class="cm">   * This may be omitted.</span>
</span><span id="__span-45-16"><a id="__codelineno-45-16" name="__codelineno-45-16" href="#__codelineno-45-16"></a><span class="cm">   */</span>
</span><span id="__span-45-17"><a id="__codelineno-45-17" name="__codelineno-45-17" href="#__codelineno-45-17"></a><span class="w">  </span><span class="nx">data?</span><span class="o">:</span><span class="w"> </span><span class="kt">any</span><span class="p">;</span>
</span><span id="__span-45-18"><a id="__codelineno-45-18" name="__codelineno-45-18" href="#__codelineno-45-18"></a><span class="p">}</span>
</span></code></pre></div>
<h2 id="7-protocol-rpc-methods">7. Protocol RPC Methods<a class="headerlink" href="#7-protocol-rpc-methods" title="Permanent link">&para;</a></h2>
<p>All A2A RPC methods are invoked by the A2A Client by sending an HTTP POST request to the A2A Server's <code>url</code> (as specified in its <code>AgentCard</code>). The body of the HTTP POST request <strong>MUST</strong> be a <code>JSONRPCRequest</code> object, and the <code>Content-Type</code> header <strong>MUST</strong> be <code>application/json</code>.</p>
<p>The A2A Server's HTTP response body <strong>MUST</strong> be a <code>JSONRPCResponse</code> object (or, for streaming methods, an SSE stream where each event's data is a <code>JSONRPCResponse</code>). The <code>Content-Type</code> for JSON-RPC responses is <code>application/json</code>. For SSE streams, it is <code>text/event-stream</code>.</p>
<h3 id="71-messagesend">7.1. <code>message/send</code><a class="headerlink" href="#71-messagesend" title="Permanent link">&para;</a></h3>
<p>Sends a message to an agent to initiate a new interaction or to continue an existing one. This method is suitable for synchronous request/response interactions or when client-side polling (using <code>tasks/get</code>) is acceptable for monitoring longer-running tasks. A task which has reached a terminal state (completed, canceled, rejected, or failed) can't be restarted. Sending a message to such a task will result in an error. For more information, refer to the <a href="../topics/life-of-a-task/">Life of a Task guide</a>.</p>
<div class="grid cards">
<div class="tabbed-set tabbed-alternate" data-tabs="20:3"><input checked="checked" id="json-rpc_19" name="__tabbed_20" type="radio" /><input id="grpc_19" name="__tabbed_20" type="radio" /><input id="rest" name="__tabbed_20" type="radio" /><div class="tabbed-labels"><label for="json-rpc_19">JSON-RPC</label><label for="grpc_19">gRPC</label><label for="rest">REST</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>message/send</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload</strong>: <a href="#711-messagesendparams-object"><code>MessageSendParams</code></a></li>
<li><strong>Response</strong>: <a href="#61-task-object"><code>Task</code> | <code>Message</code></a> (A message object or the current or final state of the task after processing the message).</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>SendMessage</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload:</strong>
    <div class="language-proto highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="kd">message</span><span class="w"> </span><span class="nc">SendMessageRequest</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="w">  </span><span class="n">Message</span><span class="w"> </span><span class="na">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="w">  </span><span class="n">SendMessageConfiguration</span><span class="w"> </span><span class="na">configuration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="p">}</span>
</span></code></pre></div></li>
<li><strong>Response:</strong>
    <div class="language-proto highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="kd">message</span><span class="w"> </span><span class="nc">SendMessageResponse</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="w">  </span><span class="k">oneof</span><span class="w"> </span><span class="n">payload</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="w">    </span><span class="n">Task</span><span class="w"> </span><span class="na">task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-47-4"><a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="w">    </span><span class="n">Message</span><span class="w"> </span><span class="na">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-47-5"><a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-47-6"><a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a><span class="p">}</span>
</span></code></pre></div></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>/v1/message:send</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload:</strong>
    <div class="language-typescript highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="p">{</span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="w">  </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="kt">Message</span><span class="p">,</span>
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="w">  </span><span class="nx">configuration?</span><span class="o">:</span><span class="w"> </span><span class="kt">MessageSendConfiguration</span><span class="p">,</span>
</span><span id="__span-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a><span class="w">  </span><span class="nx">metadata</span><span class="o">?:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-48-5"><a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="p">}</span>
</span></code></pre></div></li>
<li><strong>Response:</strong>
    <div class="language-typescript highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="c1">// Returns one of a message or a task</span>
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="p">{</span>
</span><span id="__span-49-3"><a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="w">  </span><span class="nx">message?</span><span class="o">:</span><span class="w"> </span><span class="kt">Message</span><span class="p">,</span>
</span><span id="__span-49-4"><a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="w">  </span><span class="nx">task?</span><span class="o">:</span><span class="w"> </span><span class="kt">Task</span>
</span><span id="__span-49-5"><a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a><span class="p">}</span>
</span></code></pre></div></li>
</ul>
</div>
</div>
</div>
</div>
<p>The <code>error</code> response for all transports in case of failure is a <a href="#612-jsonrpcerror-object"><code>JSONRPCError</code></a> or equivalent.</p>
<h4 id="711-messagesendparams-object">7.1.1. <code>MessageSendParams</code> Object<a class="headerlink" href="#711-messagesendparams-object" title="Permanent link">&para;</a></h4>
<div class="tabbed-set tabbed-alternate" data-tabs="21:4"><input checked="checked" id="json-rpc_20" name="__tabbed_21" type="radio" /><input id="grpc_20" name="__tabbed_21" type="radio" /><input id="json-rpc_21" name="__tabbed_21" type="radio" /><input id="grpc_21" name="__tabbed_21" type="radio" /><div class="tabbed-labels"><label for="json-rpc_20">JSON-RPC</label><label for="grpc_20">gRPC</label><label for="json-rpc_21">JSON-RPC</label><label for="grpc_21">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="cm">/**</span>
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="cm"> * Defines the parameters for a request to send a message to an agent. This can be used</span>
</span><span id="__span-50-3"><a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="cm"> * to create a new task, continue an existing one, or restart a task.</span>
</span><span id="__span-50-4"><a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a><span class="cm"> */</span>
</span><span id="__span-50-5"><a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">MessageSendParams</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-50-6"><a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a><span class="w">  </span><span class="cm">/** The message object being sent to the agent. */</span>
</span><span id="__span-50-7"><a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="w">  </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="kt">Message</span><span class="p">;</span>
</span><span id="__span-50-8"><a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a><span class="w">  </span><span class="cm">/** Optional configuration for the send request. */</span>
</span><span id="__span-50-9"><a id="__codelineno-50-9" name="__codelineno-50-9" href="#__codelineno-50-9"></a><span class="w">  </span><span class="nx">configuration?</span><span class="o">:</span><span class="w"> </span><span class="kt">MessageSendConfiguration</span><span class="p">;</span>
</span><span id="__span-50-10"><a id="__codelineno-50-10" name="__codelineno-50-10" href="#__codelineno-50-10"></a><span class="w">  </span><span class="cm">/** Optional metadata for extensions. */</span>
</span><span id="__span-50-11"><a id="__codelineno-50-11" name="__codelineno-50-11" href="#__codelineno-50-11"></a><span class="w">  </span><span class="nx">metadata</span><span class="o">?:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-50-12"><a id="__codelineno-50-12" name="__codelineno-50-12" href="#__codelineno-50-12"></a><span class="w">    </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="p">;</span>
</span><span id="__span-50-13"><a id="__codelineno-50-13" name="__codelineno-50-13" href="#__codelineno-50-13"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-50-14"><a id="__codelineno-50-14" name="__codelineno-50-14" href="#__codelineno-50-14"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="kd">message</span><span class="w"> </span><span class="nc">SendMessageRequest</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-51-2"><a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a><span class="w">  </span><span class="c1">// The message to send to the agent.</span>
</span><span id="__span-51-3"><a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a><span class="w">  </span><span class="n">Message</span><span class="w"> </span><span class="na">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-51-4"><a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a><span class="w">      </span><span class="p">[(</span><span class="n">google.api.field_behavior</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">REQUIRED</span><span class="p">,</span><span class="w"> </span><span class="na">json_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;message&quot;</span><span class="p">];</span>
</span><span id="__span-51-5"><a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a><span class="w">  </span><span class="c1">// Configuration for the send request.</span>
</span><span id="__span-51-6"><a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a><span class="w">  </span><span class="n">SendMessageConfiguration</span><span class="w"> </span><span class="na">configuration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-51-7"><a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a><span class="w">  </span><span class="c1">// Optional metadata for the request.</span>
</span><span id="__span-51-8"><a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a><span class="w">  </span><span class="n">google.protobuf.Struct</span><span class="w"> </span><span class="na">metadata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-51-9"><a id="__codelineno-51-9" name="__codelineno-51-9" href="#__codelineno-51-9"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="cm">/**</span>
</span><span id="__span-52-2"><a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a><span class="cm"> * Defines configuration options for a `message/send` or `message/stream` request.</span>
</span><span id="__span-52-3"><a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="cm"> */</span>
</span><span id="__span-52-4"><a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">MessageSendConfiguration</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-52-5"><a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="w">  </span><span class="cm">/** A list of output MIME types the client is prepared to accept in the response. */</span>
</span><span id="__span-52-6"><a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a><span class="w">  </span><span class="nx">acceptedOutputModes?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">[];</span>
</span><span id="__span-52-7"><a id="__codelineno-52-7" name="__codelineno-52-7" href="#__codelineno-52-7"></a><span class="w">  </span><span class="cm">/** The number of most recent messages from the task&#39;s history to retrieve in the response. */</span>
</span><span id="__span-52-8"><a id="__codelineno-52-8" name="__codelineno-52-8" href="#__codelineno-52-8"></a><span class="w">  </span><span class="nx">historyLength?</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
</span><span id="__span-52-9"><a id="__codelineno-52-9" name="__codelineno-52-9" href="#__codelineno-52-9"></a><span class="w">  </span><span class="cm">/** Configuration for the agent to send push notifications for updates after the initial response. */</span>
</span><span id="__span-52-10"><a id="__codelineno-52-10" name="__codelineno-52-10" href="#__codelineno-52-10"></a><span class="w">  </span><span class="nx">pushNotificationConfig?</span><span class="o">:</span><span class="w"> </span><span class="kt">PushNotificationConfig</span><span class="p">;</span>
</span><span id="__span-52-11"><a id="__codelineno-52-11" name="__codelineno-52-11" href="#__codelineno-52-11"></a><span class="w">  </span><span class="cm">/** If true, the client will wait for the task to complete. The server may reject this if the task is long-running. */</span>
</span><span id="__span-52-12"><a id="__codelineno-52-12" name="__codelineno-52-12" href="#__codelineno-52-12"></a><span class="w">  </span><span class="nx">blocking?</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
</span><span id="__span-52-13"><a id="__codelineno-52-13" name="__codelineno-52-13" href="#__codelineno-52-13"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="c1">// Configuration of a send message request.</span>
</span><span id="__span-53-2"><a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="kd">message</span><span class="w"> </span><span class="nc">SendMessageConfiguration</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-53-3"><a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="w">  </span><span class="c1">// The output modes that the agent is expected to respond with.</span>
</span><span id="__span-53-4"><a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a><span class="w">  </span><span class="k">repeated</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="na">accepted_output_modes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-53-5"><a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="w">  </span><span class="c1">// A configuration of a webhook that can be used to receive updates</span>
</span><span id="__span-53-6"><a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a><span class="w">  </span><span class="n">PushNotificationConfig</span><span class="w"> </span><span class="na">push_notification</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-53-7"><a id="__codelineno-53-7" name="__codelineno-53-7" href="#__codelineno-53-7"></a><span class="w">  </span><span class="c1">// The maximum number of messages to include in the history. if 0, the</span>
</span><span id="__span-53-8"><a id="__codelineno-53-8" name="__codelineno-53-8" href="#__codelineno-53-8"></a><span class="w">  </span><span class="c1">// history will be unlimited.</span>
</span><span id="__span-53-9"><a id="__codelineno-53-9" name="__codelineno-53-9" href="#__codelineno-53-9"></a><span class="w">  </span><span class="kt">int32</span><span class="w"> </span><span class="na">history_length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-53-10"><a id="__codelineno-53-10" name="__codelineno-53-10" href="#__codelineno-53-10"></a><span class="w">  </span><span class="c1">// If true, the message will be blocking until the task is completed. If</span>
</span><span id="__span-53-11"><a id="__codelineno-53-11" name="__codelineno-53-11" href="#__codelineno-53-11"></a><span class="w">  </span><span class="c1">// false, the message will be non-blocking and the task will be returned</span>
</span><span id="__span-53-12"><a id="__codelineno-53-12" name="__codelineno-53-12" href="#__codelineno-53-12"></a><span class="w">  </span><span class="c1">// immediately. It is the caller&#39;s responsibility to check for any task</span>
</span><span id="__span-53-13"><a id="__codelineno-53-13" name="__codelineno-53-13" href="#__codelineno-53-13"></a><span class="w">  </span><span class="c1">// updates.</span>
</span><span id="__span-53-14"><a id="__codelineno-53-14" name="__codelineno-53-14" href="#__codelineno-53-14"></a><span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="na">blocking</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
</span><span id="__span-53-15"><a id="__codelineno-53-15" name="__codelineno-53-15" href="#__codelineno-53-15"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="72-messagestream">7.2. <code>message/stream</code><a class="headerlink" href="#72-messagestream" title="Permanent link">&para;</a></h3>
<p>Sends a message to an agent to initiate/continue a task AND subscribes the client to real-time updates for that task via Server-Sent Events (SSE). This method requires the server to have <code>AgentCard.capabilities.streaming: true</code>. Just like <code>message/send</code>, a task which has reached a terminal state (completed, canceled, rejected, or failed) can't be restarted. Sending a message to such a task will result in an error. For more information, refer to the <a href="../topics/life-of-a-task/">Life of a Task guide</a>.</p>
<div class="grid cards">
<div class="tabbed-set tabbed-alternate" data-tabs="22:3"><input checked="checked" id="json-rpc_22" name="__tabbed_22" type="radio" /><input id="grpc_22" name="__tabbed_22" type="radio" /><input id="rest_1" name="__tabbed_22" type="radio" /><div class="tabbed-labels"><label for="json-rpc_22">JSON-RPC</label><label for="grpc_22">gRPC</label><label for="rest_1">REST</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>message/stream</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload</strong>: <a href="#711-messagesendparams-object"><code>MessageSendParams</code></a> (same as <code>message/send</code>)</li>
<li><strong>Response</strong>: A stream of Server-Sent Events. Each SSE <code>data</code> field contains a <a href="#721-sendstreamingmessageresponse-object"><code>SendStreamingMessageResponse</code></a></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>SendStreamingMessage</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload:</strong>
    <div class="language-proto highlight"><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="kd">message</span><span class="w"> </span><span class="nc">SendMessageRequest</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-54-2"><a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a><span class="w">  </span><span class="n">Message</span><span class="w"> </span><span class="na">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-54-3"><a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a><span class="w">  </span><span class="n">SendMessageConfiguration</span><span class="w"> </span><span class="na">configuration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-54-4"><a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a><span class="p">}</span>
</span></code></pre></div></li>
<li><strong>Response:</strong>
    <div class="language-proto highlight"><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="kd">message</span><span class="w"> </span><span class="nc">StreamResponse</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-55-2"><a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="w">  </span><span class="k">oneof</span><span class="w"> </span><span class="n">payload</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-55-3"><a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="w">    </span><span class="n">Task</span><span class="w"> </span><span class="n">task</span><span class="p">;</span>
</span><span id="__span-55-4"><a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a><span class="w">    </span><span class="n">Message</span><span class="w"> </span><span class="n">msg</span><span class="p">;</span>
</span><span id="__span-55-5"><a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="w">    </span><span class="n">TaskStatusUpdateEvent</span><span class="w"> </span><span class="n">status_update</span><span class="p">;</span>
</span><span id="__span-55-6"><a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a><span class="w">    </span><span class="n">TaskArtifactUpdateEvent</span><span class="w"> </span><span class="n">artifact_update</span><span class="p">;</span>
</span><span id="__span-55-7"><a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-55-8"><a id="__codelineno-55-8" name="__codelineno-55-8" href="#__codelineno-55-8"></a><span class="p">}</span>
</span></code></pre></div></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>/v1/message:stream</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload:</strong>
    <div class="language-typescript highlight"><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="p">{</span>
</span><span id="__span-56-2"><a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a><span class="w">  </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="kt">Message</span><span class="p">,</span>
</span><span id="__span-56-3"><a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="w">  </span><span class="nx">configuration?</span><span class="o">:</span><span class="w"> </span><span class="kt">MessageSendConfiguration</span><span class="p">,</span>
</span><span id="__span-56-4"><a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a><span class="w">  </span><span class="nx">metadata</span><span class="o">?:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-56-5"><a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a><span class="p">}</span>
</span></code></pre></div></li>
<li><strong>Response:</strong>
    <div class="language-typescript highlight"><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="p">{</span>
</span><span id="__span-57-2"><a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a><span class="w">  </span><span class="nx">message?</span><span class="o">:</span><span class="w"> </span><span class="kt">Message</span>
</span><span id="__span-57-3"><a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a><span class="w">  </span><span class="nx">task?</span><span class="o">:</span><span class="w"> </span><span class="kt">Task</span>
</span><span id="__span-57-4"><a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a><span class="w">  </span><span class="nx">statusUpdate?</span><span class="o">:</span><span class="w"> </span><span class="kt">TaskStatusUpdateEvent</span>
</span><span id="__span-57-5"><a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a><span class="w">  </span><span class="nx">artifactUpdate?</span><span class="o">:</span><span class="w"> </span><span class="kt">TaskArtifactUpdateEvent</span>
</span><span id="__span-57-6"><a id="__codelineno-57-6" name="__codelineno-57-6" href="#__codelineno-57-6"></a><span class="p">}</span>
</span></code></pre></div></li>
</ul>
</div>
</div>
</div>
</div>
<h4 id="721-sendstreamingmessageresponse-object">7.2.1. <code>SendStreamingMessageResponse</code> Object<a class="headerlink" href="#721-sendstreamingmessageresponse-object" title="Permanent link">&para;</a></h4>
<p>This is the structure of the JSON object found in the <code>data</code> field of each Server-Sent Event sent by the server for a <code>message/stream</code> request or <code>tasks/resubscribe</code> request.</p>
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="cm">/**</span>
</span><span id="__span-58-2"><a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a><span class="cm"> * Represents a JSON-RPC response for the `message/stream` method.</span>
</span><span id="__span-58-3"><a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="cm"> */</span>
</span><span id="__span-58-4"><a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a><span class="k">export</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="nx">SendStreamingMessageResponse</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-58-5"><a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="nx">SendStreamingMessageSuccessResponse</span>
</span><span id="__span-58-6"><a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="nx">JSONRPCErrorResponse</span><span class="p">;</span>
</span></code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="23:2"><input checked="checked" id="json-rpc_23" name="__tabbed_23" type="radio" /><input id="grpc_23" name="__tabbed_23" type="radio" /><div class="tabbed-labels"><label for="json-rpc_23">JSON-RPC</label><label for="grpc_23">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="cm">/**</span>
</span><span id="__span-59-2"><a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a><span class="cm"> * Represents a successful JSON-RPC response for the `message/stream` method.</span>
</span><span id="__span-59-3"><a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a><span class="cm"> * The server may send multiple response objects for a single request.</span>
</span><span id="__span-59-4"><a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a><span class="cm"> */</span>
</span><span id="__span-59-5"><a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">SendStreamingMessageSuccessResponse</span>
</span><span id="__span-59-6"><a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a><span class="w">  </span><span class="k">extends</span><span class="w"> </span><span class="nx">JSONRPCSuccessResponse</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-59-7"><a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a><span class="w">  </span><span class="cm">/** The result, which can be a Message, Task, or a streaming update event. */</span>
</span><span id="__span-59-8"><a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a><span class="w">  </span><span class="nx">result</span><span class="o">:</span><span class="w"> </span><span class="kt">Message</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">Task</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">TaskStatusUpdateEvent</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">TaskArtifactUpdateEvent</span><span class="p">;</span>
</span><span id="__span-59-9"><a id="__codelineno-59-9" name="__codelineno-59-9" href="#__codelineno-59-9"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="c1">// The stream response for a message. The stream should be one of the following</span>
</span><span id="__span-60-2"><a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a><span class="c1">// sequences:</span>
</span><span id="__span-60-3"><a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a><span class="c1">// If the response is a message, the stream should contain one, and only one,</span>
</span><span id="__span-60-4"><a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a><span class="c1">// message and then close</span>
</span><span id="__span-60-5"><a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a><span class="c1">// If the response is a task lifecycle, the first response should be a Task</span>
</span><span id="__span-60-6"><a id="__codelineno-60-6" name="__codelineno-60-6" href="#__codelineno-60-6"></a><span class="c1">// object followed by zero or more TaskStatusUpdateEvents and</span>
</span><span id="__span-60-7"><a id="__codelineno-60-7" name="__codelineno-60-7" href="#__codelineno-60-7"></a><span class="c1">// TaskArtifactUpdateEvents. The stream should complete when the Task</span>
</span><span id="__span-60-8"><a id="__codelineno-60-8" name="__codelineno-60-8" href="#__codelineno-60-8"></a><span class="c1">// if in an interrupted or terminal state. A stream that ends before these</span>
</span><span id="__span-60-9"><a id="__codelineno-60-9" name="__codelineno-60-9" href="#__codelineno-60-9"></a><span class="c1">// conditions are met are</span>
</span><span id="__span-60-10"><a id="__codelineno-60-10" name="__codelineno-60-10" href="#__codelineno-60-10"></a><span class="kd">message</span><span class="w"> </span><span class="nc">StreamResponse</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-60-11"><a id="__codelineno-60-11" name="__codelineno-60-11" href="#__codelineno-60-11"></a><span class="w">  </span><span class="k">oneof</span><span class="w"> </span><span class="n">payload</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-60-12"><a id="__codelineno-60-12" name="__codelineno-60-12" href="#__codelineno-60-12"></a><span class="w">    </span><span class="n">Task</span><span class="w"> </span><span class="na">task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-60-13"><a id="__codelineno-60-13" name="__codelineno-60-13" href="#__codelineno-60-13"></a><span class="w">    </span><span class="n">Message</span><span class="w"> </span><span class="na">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">[</span><span class="na">json_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;message&quot;</span><span class="p">];</span>
</span><span id="__span-60-14"><a id="__codelineno-60-14" name="__codelineno-60-14" href="#__codelineno-60-14"></a><span class="w">    </span><span class="n">TaskStatusUpdateEvent</span><span class="w"> </span><span class="na">status_update</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-60-15"><a id="__codelineno-60-15" name="__codelineno-60-15" href="#__codelineno-60-15"></a><span class="w">    </span><span class="n">TaskArtifactUpdateEvent</span><span class="w"> </span><span class="na">artifact_update</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
</span><span id="__span-60-16"><a id="__codelineno-60-16" name="__codelineno-60-16" href="#__codelineno-60-16"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-60-17"><a id="__codelineno-60-17" name="__codelineno-60-17" href="#__codelineno-60-17"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h4 id="722-taskstatusupdateevent-object">7.2.2. <code>TaskStatusUpdateEvent</code> Object<a class="headerlink" href="#722-taskstatusupdateevent-object" title="Permanent link">&para;</a></h4>
<p>Carries information about a change in the task's status during streaming. This is one of the possible <code>result</code> types in a <code>SendStreamingMessageSuccessResponse</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="24:2"><input checked="checked" id="json-rpc_24" name="__tabbed_24" type="radio" /><input id="grpc_24" name="__tabbed_24" type="radio" /><div class="tabbed-labels"><label for="json-rpc_24">JSON-RPC</label><label for="grpc_24">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="cm">/**</span>
</span><span id="__span-61-2"><a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a><span class="cm"> * An event sent by the agent to notify the client of a change in a task&#39;s status.</span>
</span><span id="__span-61-3"><a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a><span class="cm"> * This is typically used in streaming or subscription models.</span>
</span><span id="__span-61-4"><a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a><span class="cm"> */</span>
</span><span id="__span-61-5"><a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">TaskStatusUpdateEvent</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-61-6"><a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-61-7"><a id="__codelineno-61-7" name="__codelineno-61-7" href="#__codelineno-61-7"></a><span class="cm">   * The ID of the task that was updated.</span>
</span><span id="__span-61-8"><a id="__codelineno-61-8" name="__codelineno-61-8" href="#__codelineno-61-8"></a><span class="cm">   */</span>
</span><span id="__span-61-9"><a id="__codelineno-61-9" name="__codelineno-61-9" href="#__codelineno-61-9"></a><span class="w">  </span><span class="nx">taskId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-61-10"><a id="__codelineno-61-10" name="__codelineno-61-10" href="#__codelineno-61-10"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-61-11"><a id="__codelineno-61-11" name="__codelineno-61-11" href="#__codelineno-61-11"></a><span class="cm">   * The context ID associated with the task.</span>
</span><span id="__span-61-12"><a id="__codelineno-61-12" name="__codelineno-61-12" href="#__codelineno-61-12"></a><span class="cm">   */</span>
</span><span id="__span-61-13"><a id="__codelineno-61-13" name="__codelineno-61-13" href="#__codelineno-61-13"></a><span class="w">  </span><span class="nx">contextId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-61-14"><a id="__codelineno-61-14" name="__codelineno-61-14" href="#__codelineno-61-14"></a><span class="w">  </span><span class="cm">/** The type of this event, used as a discriminator. Always &#39;status-update&#39;. */</span>
</span><span id="__span-61-15"><a id="__codelineno-61-15" name="__codelineno-61-15" href="#__codelineno-61-15"></a><span class="w">  </span><span class="k">readonly</span><span class="w"> </span><span class="nx">kind</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;status-update&quot;</span><span class="p">;</span>
</span><span id="__span-61-16"><a id="__codelineno-61-16" name="__codelineno-61-16" href="#__codelineno-61-16"></a><span class="w">  </span><span class="cm">/** The new status of the task. */</span>
</span><span id="__span-61-17"><a id="__codelineno-61-17" name="__codelineno-61-17" href="#__codelineno-61-17"></a><span class="w">  </span><span class="nx">status</span><span class="o">:</span><span class="w"> </span><span class="kt">TaskStatus</span><span class="p">;</span>
</span><span id="__span-61-18"><a id="__codelineno-61-18" name="__codelineno-61-18" href="#__codelineno-61-18"></a><span class="w">  </span><span class="cm">/** If true, this is the final event in the stream for this interaction. */</span>
</span><span id="__span-61-19"><a id="__codelineno-61-19" name="__codelineno-61-19" href="#__codelineno-61-19"></a><span class="w">  </span><span class="nx">final</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
</span><span id="__span-61-20"><a id="__codelineno-61-20" name="__codelineno-61-20" href="#__codelineno-61-20"></a><span class="w">  </span><span class="cm">/** Optional metadata for extensions. */</span>
</span><span id="__span-61-21"><a id="__codelineno-61-21" name="__codelineno-61-21" href="#__codelineno-61-21"></a><span class="w">  </span><span class="nx">metadata</span><span class="o">?:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-61-22"><a id="__codelineno-61-22" name="__codelineno-61-22" href="#__codelineno-61-22"></a><span class="w">    </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="p">;</span>
</span><span id="__span-61-23"><a id="__codelineno-61-23" name="__codelineno-61-23" href="#__codelineno-61-23"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-61-24"><a id="__codelineno-61-24" name="__codelineno-61-24" href="#__codelineno-61-24"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="c1">// TaskStatusUpdateEvent is a delta even on a task indicating that a task</span>
</span><span id="__span-62-2"><a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a><span class="c1">// has changed.</span>
</span><span id="__span-62-3"><a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a><span class="kd">message</span><span class="w"> </span><span class="nc">TaskStatusUpdateEvent</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-62-4"><a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a><span class="w">  </span><span class="c1">// The id of the task that is changed</span>
</span><span id="__span-62-5"><a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">task_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-62-6"><a id="__codelineno-62-6" name="__codelineno-62-6" href="#__codelineno-62-6"></a><span class="w">  </span><span class="c1">// The id of the context that the task belongs to</span>
</span><span id="__span-62-7"><a id="__codelineno-62-7" name="__codelineno-62-7" href="#__codelineno-62-7"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">context_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-62-8"><a id="__codelineno-62-8" name="__codelineno-62-8" href="#__codelineno-62-8"></a><span class="w">  </span><span class="c1">// The new status of the task.</span>
</span><span id="__span-62-9"><a id="__codelineno-62-9" name="__codelineno-62-9" href="#__codelineno-62-9"></a><span class="w">  </span><span class="n">TaskStatus</span><span class="w"> </span><span class="na">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-62-10"><a id="__codelineno-62-10" name="__codelineno-62-10" href="#__codelineno-62-10"></a><span class="w">  </span><span class="c1">// Whether this is the last status update expected for this task.</span>
</span><span id="__span-62-11"><a id="__codelineno-62-11" name="__codelineno-62-11" href="#__codelineno-62-11"></a><span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="na">final</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
</span><span id="__span-62-12"><a id="__codelineno-62-12" name="__codelineno-62-12" href="#__codelineno-62-12"></a><span class="w">  </span><span class="c1">// Optional metadata to associate with the task update.</span>
</span><span id="__span-62-13"><a id="__codelineno-62-13" name="__codelineno-62-13" href="#__codelineno-62-13"></a><span class="w">  </span><span class="n">google.protobuf.Struct</span><span class="w"> </span><span class="na">metadata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
</span><span id="__span-62-14"><a id="__codelineno-62-14" name="__codelineno-62-14" href="#__codelineno-62-14"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h4 id="723-taskartifactupdateevent-object">7.2.3. <code>TaskArtifactUpdateEvent</code> Object<a class="headerlink" href="#723-taskartifactupdateevent-object" title="Permanent link">&para;</a></h4>
<p>Carries a new or updated artifact (or a chunk of an artifact) generated by the task during streaming. This is one of the possible <code>result</code> types in a <code>SendTaskStreamingResponse</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="25:2"><input checked="checked" id="json-rpc_25" name="__tabbed_25" type="radio" /><input id="grpc_25" name="__tabbed_25" type="radio" /><div class="tabbed-labels"><label for="json-rpc_25">JSON-RPC</label><label for="grpc_25">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="cm">/**</span>
</span><span id="__span-63-2"><a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a><span class="cm"> * An event sent by the agent to notify the client that an artifact has been</span>
</span><span id="__span-63-3"><a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a><span class="cm"> * generated or updated. This is typically used in streaming models.</span>
</span><span id="__span-63-4"><a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a><span class="cm"> */</span>
</span><span id="__span-63-5"><a id="__codelineno-63-5" name="__codelineno-63-5" href="#__codelineno-63-5"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">TaskArtifactUpdateEvent</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-63-6"><a id="__codelineno-63-6" name="__codelineno-63-6" href="#__codelineno-63-6"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-63-7"><a id="__codelineno-63-7" name="__codelineno-63-7" href="#__codelineno-63-7"></a><span class="cm">   * The ID of the task this artifact belongs to.</span>
</span><span id="__span-63-8"><a id="__codelineno-63-8" name="__codelineno-63-8" href="#__codelineno-63-8"></a><span class="cm">   */</span>
</span><span id="__span-63-9"><a id="__codelineno-63-9" name="__codelineno-63-9" href="#__codelineno-63-9"></a><span class="w">  </span><span class="nx">taskId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-63-10"><a id="__codelineno-63-10" name="__codelineno-63-10" href="#__codelineno-63-10"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-63-11"><a id="__codelineno-63-11" name="__codelineno-63-11" href="#__codelineno-63-11"></a><span class="cm">   * The context ID associated with the task.</span>
</span><span id="__span-63-12"><a id="__codelineno-63-12" name="__codelineno-63-12" href="#__codelineno-63-12"></a><span class="cm">   */</span>
</span><span id="__span-63-13"><a id="__codelineno-63-13" name="__codelineno-63-13" href="#__codelineno-63-13"></a><span class="w">  </span><span class="nx">contextId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-63-14"><a id="__codelineno-63-14" name="__codelineno-63-14" href="#__codelineno-63-14"></a><span class="w">  </span><span class="cm">/** The type of this event, used as a discriminator. Always &#39;artifact-update&#39;. */</span>
</span><span id="__span-63-15"><a id="__codelineno-63-15" name="__codelineno-63-15" href="#__codelineno-63-15"></a><span class="w">  </span><span class="k">readonly</span><span class="w"> </span><span class="nx">kind</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;artifact-update&quot;</span><span class="p">;</span>
</span><span id="__span-63-16"><a id="__codelineno-63-16" name="__codelineno-63-16" href="#__codelineno-63-16"></a><span class="w">  </span><span class="cm">/** The artifact that was generated or updated. */</span>
</span><span id="__span-63-17"><a id="__codelineno-63-17" name="__codelineno-63-17" href="#__codelineno-63-17"></a><span class="w">  </span><span class="nx">artifact</span><span class="o">:</span><span class="w"> </span><span class="kt">Artifact</span><span class="p">;</span>
</span><span id="__span-63-18"><a id="__codelineno-63-18" name="__codelineno-63-18" href="#__codelineno-63-18"></a><span class="w">  </span><span class="cm">/** If true, the content of this artifact should be appended to a previously sent artifact with the same ID. */</span>
</span><span id="__span-63-19"><a id="__codelineno-63-19" name="__codelineno-63-19" href="#__codelineno-63-19"></a><span class="w">  </span><span class="nx">append?</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
</span><span id="__span-63-20"><a id="__codelineno-63-20" name="__codelineno-63-20" href="#__codelineno-63-20"></a><span class="w">  </span><span class="cm">/** If true, this is the final chunk of the artifact. */</span>
</span><span id="__span-63-21"><a id="__codelineno-63-21" name="__codelineno-63-21" href="#__codelineno-63-21"></a><span class="w">  </span><span class="nx">lastChunk?</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
</span><span id="__span-63-22"><a id="__codelineno-63-22" name="__codelineno-63-22" href="#__codelineno-63-22"></a><span class="w">  </span><span class="cm">/** Optional metadata for extensions. */</span>
</span><span id="__span-63-23"><a id="__codelineno-63-23" name="__codelineno-63-23" href="#__codelineno-63-23"></a><span class="w">  </span><span class="nx">metadata</span><span class="o">?:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-63-24"><a id="__codelineno-63-24" name="__codelineno-63-24" href="#__codelineno-63-24"></a><span class="w">    </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="p">;</span>
</span><span id="__span-63-25"><a id="__codelineno-63-25" name="__codelineno-63-25" href="#__codelineno-63-25"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-63-26"><a id="__codelineno-63-26" name="__codelineno-63-26" href="#__codelineno-63-26"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-64-1"><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="c1">// TaskArtifactUpdateEvent represents a task delta where an artifact has</span>
</span><span id="__span-64-2"><a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a><span class="c1">// been generated.</span>
</span><span id="__span-64-3"><a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a><span class="kd">message</span><span class="w"> </span><span class="nc">TaskArtifactUpdateEvent</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-64-4"><a id="__codelineno-64-4" name="__codelineno-64-4" href="#__codelineno-64-4"></a><span class="w">  </span><span class="c1">// The id of the task for this artifact</span>
</span><span id="__span-64-5"><a id="__codelineno-64-5" name="__codelineno-64-5" href="#__codelineno-64-5"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">task_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-64-6"><a id="__codelineno-64-6" name="__codelineno-64-6" href="#__codelineno-64-6"></a><span class="w">  </span><span class="c1">// The id of the context that this task belongs too</span>
</span><span id="__span-64-7"><a id="__codelineno-64-7" name="__codelineno-64-7" href="#__codelineno-64-7"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">context_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-64-8"><a id="__codelineno-64-8" name="__codelineno-64-8" href="#__codelineno-64-8"></a><span class="w">  </span><span class="c1">// The artifact itself</span>
</span><span id="__span-64-9"><a id="__codelineno-64-9" name="__codelineno-64-9" href="#__codelineno-64-9"></a><span class="w">  </span><span class="n">Artifact</span><span class="w"> </span><span class="na">artifact</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-64-10"><a id="__codelineno-64-10" name="__codelineno-64-10" href="#__codelineno-64-10"></a><span class="w">  </span><span class="c1">//  Whether this should be appended to a prior one produced</span>
</span><span id="__span-64-11"><a id="__codelineno-64-11" name="__codelineno-64-11" href="#__codelineno-64-11"></a><span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="na">append</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
</span><span id="__span-64-12"><a id="__codelineno-64-12" name="__codelineno-64-12" href="#__codelineno-64-12"></a><span class="w">  </span><span class="c1">// Whether this represents the last part of an artifact</span>
</span><span id="__span-64-13"><a id="__codelineno-64-13" name="__codelineno-64-13" href="#__codelineno-64-13"></a><span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="na">last_chunk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
</span><span id="__span-64-14"><a id="__codelineno-64-14" name="__codelineno-64-14" href="#__codelineno-64-14"></a><span class="w">  </span><span class="c1">// Optional metadata associated with the artifact update.</span>
</span><span id="__span-64-15"><a id="__codelineno-64-15" name="__codelineno-64-15" href="#__codelineno-64-15"></a><span class="w">  </span><span class="n">google.protobuf.Struct</span><span class="w"> </span><span class="na">metadata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
</span><span id="__span-64-16"><a id="__codelineno-64-16" name="__codelineno-64-16" href="#__codelineno-64-16"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="73-tasksget">7.3. <code>tasks/get</code><a class="headerlink" href="#73-tasksget" title="Permanent link">&para;</a></h3>
<p>Retrieves the current state (including status, artifacts, and optionally history) of a previously initiated task. This is typically used for polling the status of a task initiated with <code>message/send</code>, or for fetching the final state of a task after being notified via a push notification or after an SSE stream has ended.</p>
<div class="grid cards">
<div class="tabbed-set tabbed-alternate" data-tabs="26:3"><input checked="checked" id="json-rpc_26" name="__tabbed_26" type="radio" /><input id="grpc_26" name="__tabbed_26" type="radio" /><input id="rest_2" name="__tabbed_26" type="radio" /><div class="tabbed-labels"><label for="json-rpc_26">JSON-RPC</label><label for="grpc_26">gRPC</label><label for="rest_2">REST</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>tasks/get</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload</strong>: <a href="#731-taskqueryparams-object"><code>TaskQueryParams</code></a></li>
<li><strong>Response</strong>: <code>Task</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>GetTask</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload:</strong>
    <div class="language-proto highlight"><pre><span></span><code><span id="__span-65-1"><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="kd">message</span><span class="w"> </span><span class="nc">GetTaskRequest</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-65-2"><a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a><span class="w">  </span><span class="c1">// name=tasks/{id}</span>
</span><span id="__span-65-3"><a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
</span><span id="__span-65-4"><a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a><span class="w">  </span><span class="kt">int32</span><span class="w"> </span><span class="n">history_length</span><span class="p">;</span>
</span><span id="__span-65-5"><a id="__codelineno-65-5" name="__codelineno-65-5" href="#__codelineno-65-5"></a><span class="p">}</span>
</span></code></pre></div></li>
<li><strong>Response</strong>: <code>Task</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>v1/tasks/{id}?historyLength={historyLength}</code></li>
<li><strong>HTTP Method:</strong> <code>GET</code></li>
<li><strong>Payload:</strong> None</li>
<li><strong>Response</strong>: <code>Task</code></li>
</ul>
</div>
</div>
</div>
</div>
<h4 id="731-taskqueryparams-object">7.3.1. <code>TaskQueryParams</code> Object<a class="headerlink" href="#731-taskqueryparams-object" title="Permanent link">&para;</a></h4>
<div class="tabbed-set tabbed-alternate" data-tabs="27:2"><input checked="checked" id="json-rpc_27" name="__tabbed_27" type="radio" /><input id="grpc_27" name="__tabbed_27" type="radio" /><div class="tabbed-labels"><label for="json-rpc_27">JSON-RPC</label><label for="grpc_27">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-66-1"><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="cm">/**</span>
</span><span id="__span-66-2"><a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a><span class="cm"> * Defines parameters for querying a task, with an option to limit history length.</span>
</span><span id="__span-66-3"><a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a><span class="cm"> */</span>
</span><span id="__span-66-4"><a id="__codelineno-66-4" name="__codelineno-66-4" href="#__codelineno-66-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">TaskQueryParams</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">TaskIdParams</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-66-5"><a id="__codelineno-66-5" name="__codelineno-66-5" href="#__codelineno-66-5"></a><span class="w">  </span><span class="cm">/** The number of most recent messages from the task&#39;s history to retrieve. */</span>
</span><span id="__span-66-6"><a id="__codelineno-66-6" name="__codelineno-66-6" href="#__codelineno-66-6"></a><span class="w">  </span><span class="nx">historyLength?</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
</span><span id="__span-66-7"><a id="__codelineno-66-7" name="__codelineno-66-7" href="#__codelineno-66-7"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-67-1"><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="74-taskscancel">7.4. <code>tasks/cancel</code><a class="headerlink" href="#74-taskscancel" title="Permanent link">&para;</a></h3>
<p>Requests the cancellation of an ongoing task. The server will attempt to cancel the task, but success is not guaranteed (e.g., the task might have already completed or failed, or cancellation might not be supported at its current stage).</p>
<div class="grid cards">
<div class="tabbed-set tabbed-alternate" data-tabs="28:3"><input checked="checked" id="json-rpc_28" name="__tabbed_28" type="radio" /><input id="grpc_28" name="__tabbed_28" type="radio" /><input id="rest_3" name="__tabbed_28" type="radio" /><div class="tabbed-labels"><label for="json-rpc_28">JSON-RPC</label><label for="grpc_28">gRPC</label><label for="rest_3">REST</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>tasks/cancel</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload</strong>: <a href="#741-taskidparams-object-for-taskscancel-and-taskspushnotificationconfigget"><code>TaskIdParams</code></a></li>
<li><strong>Response</strong>: <code>Task</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>CancelTask</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload:</strong>
    <div class="language-proto highlight"><pre><span></span><code><span id="__span-68-1"><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="kd">message</span><span class="w"> </span><span class="nc">CancelTaskRequest</span><span class="p">{</span>
</span><span id="__span-68-2"><a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a><span class="w">  </span><span class="c1">// name=tasks/{id}</span>
</span><span id="__span-68-3"><a id="__codelineno-68-3" name="__codelineno-68-3" href="#__codelineno-68-3"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
</span><span id="__span-68-4"><a id="__codelineno-68-4" name="__codelineno-68-4" href="#__codelineno-68-4"></a><span class="p">}</span>
</span></code></pre></div></li>
<li><strong>Response</strong>: <code>Task</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>/v1/tasks/{id}:cancel</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload:</strong>
    <div class="language-typescript highlight"><pre><span></span><code><span id="__span-69-1"><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="p">{</span>
</span><span id="__span-69-2"><a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a><span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-69-3"><a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a><span class="p">}</span>
</span></code></pre></div></li>
<li><strong>Response</strong>: <code>Task</code></li>
</ul>
</div>
</div>
</div>
</div>
<h4 id="741-taskidparams-object-for-taskscancel-and-taskspushnotificationconfigget">7.4.1. <code>TaskIdParams</code> Object (for <code>tasks/cancel</code> and <code>tasks/pushNotificationConfig/get</code>)<a class="headerlink" href="#741-taskidparams-object-for-taskscancel-and-taskspushnotificationconfigget" title="Permanent link">&para;</a></h4>
<p>A simple object containing just the task ID and optional metadata.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="29:2"><input checked="checked" id="json-rpc_29" name="__tabbed_29" type="radio" /><input id="grpc_29" name="__tabbed_29" type="radio" /><div class="tabbed-labels"><label for="json-rpc_29">JSON-RPC</label><label for="grpc_29">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-70-1"><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="cm">/**</span>
</span><span id="__span-70-2"><a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a><span class="cm"> * Defines parameters containing a task ID, used for simple task operations.</span>
</span><span id="__span-70-3"><a id="__codelineno-70-3" name="__codelineno-70-3" href="#__codelineno-70-3"></a><span class="cm"> */</span>
</span><span id="__span-70-4"><a id="__codelineno-70-4" name="__codelineno-70-4" href="#__codelineno-70-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">TaskIdParams</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-70-5"><a id="__codelineno-70-5" name="__codelineno-70-5" href="#__codelineno-70-5"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-70-6"><a id="__codelineno-70-6" name="__codelineno-70-6" href="#__codelineno-70-6"></a><span class="cm">   * The unique identifier (e.g. UUID) of the task.</span>
</span><span id="__span-70-7"><a id="__codelineno-70-7" name="__codelineno-70-7" href="#__codelineno-70-7"></a><span class="cm">   */</span>
</span><span id="__span-70-8"><a id="__codelineno-70-8" name="__codelineno-70-8" href="#__codelineno-70-8"></a><span class="w">  </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-70-9"><a id="__codelineno-70-9" name="__codelineno-70-9" href="#__codelineno-70-9"></a><span class="w">  </span><span class="cm">/** Optional metadata associated with the request. */</span>
</span><span id="__span-70-10"><a id="__codelineno-70-10" name="__codelineno-70-10" href="#__codelineno-70-10"></a><span class="w">  </span><span class="nx">metadata</span><span class="o">?:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-70-11"><a id="__codelineno-70-11" name="__codelineno-70-11" href="#__codelineno-70-11"></a><span class="w">    </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="p">;</span>
</span><span id="__span-70-12"><a id="__codelineno-70-12" name="__codelineno-70-12" href="#__codelineno-70-12"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-70-13"><a id="__codelineno-70-13" name="__codelineno-70-13" href="#__codelineno-70-13"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-71-1"><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="75-taskspushnotificationconfigset">7.5. <code>tasks/pushNotificationConfig/set</code><a class="headerlink" href="#75-taskspushnotificationconfigset" title="Permanent link">&para;</a></h3>
<p>Sets or updates the push notification configuration for a specified task. This allows the client to tell the server where and how to send asynchronous updates for the task. Requires the server to have <code>AgentCard.capabilities.pushNotifications: true</code>.</p>
<div class="grid cards">
<div class="tabbed-set tabbed-alternate" data-tabs="30:3"><input checked="checked" id="json-rpc_30" name="__tabbed_30" type="radio" /><input id="grpc_30" name="__tabbed_30" type="radio" /><input id="rest_4" name="__tabbed_30" type="radio" /><div class="tabbed-labels"><label for="json-rpc_30">JSON-RPC</label><label for="grpc_30">gRPC</label><label for="rest_4">REST</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>tasks/pushNotificationConfig/set</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload</strong>: <a href="#610-taskpushnotificationconfig-object"><code>TaskPushNotificationConfig</code></a></li>
<li><strong>Response</strong>: <a href="#610-taskpushnotificationconfig-object"><code>TaskPushNotificationConfig</code></a></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>CreateTaskPushNotification</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload:</strong>
    <div class="language-proto highlight"><pre><span></span><code><span id="__span-72-1"><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a><span class="kd">message</span><span class="w"> </span><span class="nc">SetTaskPushNotificationRequest</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-72-2"><a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a><span class="w">  </span><span class="n">TaskPushNotificationConfig</span><span class="w"> </span><span class="na">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-72-3"><a id="__codelineno-72-3" name="__codelineno-72-3" href="#__codelineno-72-3"></a><span class="p">}</span>
</span></code></pre></div></li>
<li><strong>Response</strong>: <code>TaskPushNotificationConfig</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>/v1/tasks/{id}/pushNotificationConfigs</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload:</strong>
    <div class="language-typescript highlight"><pre><span></span><code><span id="__span-73-1"><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="p">{</span>
</span><span id="__span-73-2"><a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a><span class="w">  </span><span class="nx">config</span><span class="o">:</span><span class="w"> </span><span class="kt">TaskPushNotificationConfig</span>
</span><span id="__span-73-3"><a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a><span class="p">}</span>
</span></code></pre></div></li>
<li><strong>Response</strong>: <code>TaskPushNotificationConfig</code></li>
</ul>
</div>
</div>
</div>
</div>
<h3 id="76-taskspushnotificationconfigget">7.6. <code>tasks/pushNotificationConfig/get</code><a class="headerlink" href="#76-taskspushnotificationconfigget" title="Permanent link">&para;</a></h3>
<p>Retrieves the current push notification configuration for a specified task. Requires the server to have <code>AgentCard.capabilities.pushNotifications: true</code>.</p>
<div class="grid cards">
<div class="tabbed-set tabbed-alternate" data-tabs="31:3"><input checked="checked" id="json-rpc_31" name="__tabbed_31" type="radio" /><input id="grpc_31" name="__tabbed_31" type="radio" /><input id="rest_5" name="__tabbed_31" type="radio" /><div class="tabbed-labels"><label for="json-rpc_31">JSON-RPC</label><label for="grpc_31">gRPC</label><label for="rest_5">REST</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>tasks/pushNotificationConfig/get</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload</strong>: <a href="#761-gettaskpushnotificationconfigparams-object-taskspushnotificationconfigget"><code>GetTaskPushNotificationConfigParams</code></a></li>
<li><strong>Response</strong>: <a href="#610-taskpushnotificationconfig-object"><code>TaskPushNotificationConfig</code></a></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>GetTaskPushNotification</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload:</strong>
    <div class="language-proto highlight"><pre><span></span><code><span id="__span-74-1"><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="kd">message</span><span class="w"> </span><span class="nc">TaskSubscriptionRequest</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-74-2"><a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a><span class="w">  </span><span class="c1">// name=tasks/{id}/pushNotification/{id}</span>
</span><span id="__span-74-3"><a id="__codelineno-74-3" name="__codelineno-74-3" href="#__codelineno-74-3"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
</span><span id="__span-74-4"><a id="__codelineno-74-4" name="__codelineno-74-4" href="#__codelineno-74-4"></a><span class="p">}</span>
</span></code></pre></div></li>
<li><strong>Response</strong>: <code>TaskPushNotificationConfig</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>/v1/tasks/{taskId}/pushNotificationConfigs/{configId}</code></li>
<li><strong>HTTP Method:</strong> <code>GET</code></li>
<li><strong>Payload:</strong> None</li>
<li><strong>Response</strong>: <code>TaskPushNotificationConfig</code></li>
</ul>
</div>
</div>
</div>
</div>
<p><strong>Response <code>error</code> type (on failure)</strong>: <a href="#612-jsonrpcerror-object"><code>JSONRPCError</code></a> (e.g., <a href="#82-a2a-specific-errors"><code>PushNotificationNotSupportedError</code></a>, <a href="#82-a2a-specific-errors"><code>TaskNotFoundError</code></a>).</p>
<h4 id="761-gettaskpushnotificationconfigparams-object-taskspushnotificationconfigget">7.6.1. <code>GetTaskPushNotificationConfigParams</code> Object (<code>tasks/pushNotificationConfig/get</code>)<a class="headerlink" href="#761-gettaskpushnotificationconfigparams-object-taskspushnotificationconfigget" title="Permanent link">&para;</a></h4>
<p>A object for fetching the push notification configuration for a task.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="32:2"><input checked="checked" id="json-rpc_32" name="__tabbed_32" type="radio" /><input id="grpc_32" name="__tabbed_32" type="radio" /><div class="tabbed-labels"><label for="json-rpc_32">JSON-RPC</label><label for="grpc_32">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-75-1"><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="cm">/**</span>
</span><span id="__span-75-2"><a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a><span class="cm"> * Defines parameters for fetching a specific push notification configuration for a task.</span>
</span><span id="__span-75-3"><a id="__codelineno-75-3" name="__codelineno-75-3" href="#__codelineno-75-3"></a><span class="cm"> */</span>
</span><span id="__span-75-4"><a id="__codelineno-75-4" name="__codelineno-75-4" href="#__codelineno-75-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">GetTaskPushNotificationConfigParams</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">TaskIdParams</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-75-5"><a id="__codelineno-75-5" name="__codelineno-75-5" href="#__codelineno-75-5"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-75-6"><a id="__codelineno-75-6" name="__codelineno-75-6" href="#__codelineno-75-6"></a><span class="cm">   * The ID of the push notification configuration to retrieve.</span>
</span><span id="__span-75-7"><a id="__codelineno-75-7" name="__codelineno-75-7" href="#__codelineno-75-7"></a><span class="cm">   */</span>
</span><span id="__span-75-8"><a id="__codelineno-75-8" name="__codelineno-75-8" href="#__codelineno-75-8"></a><span class="w">  </span><span class="nx">pushNotificationConfigId?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-75-9"><a id="__codelineno-75-9" name="__codelineno-75-9" href="#__codelineno-75-9"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-76-1"><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="77-taskspushnotificationconfiglist">7.7. <code>tasks/pushNotificationConfig/list</code><a class="headerlink" href="#77-taskspushnotificationconfiglist" title="Permanent link">&para;</a></h3>
<p>Retrieves the associated push notification configurations for a specified task. Requires the server to have <code>AgentCard.capabilities.pushNotifications: true</code>.</p>
<div class="grid cards">
<div class="tabbed-set tabbed-alternate" data-tabs="33:3"><input checked="checked" id="json-rpc_33" name="__tabbed_33" type="radio" /><input id="grpc_33" name="__tabbed_33" type="radio" /><input id="rest_6" name="__tabbed_33" type="radio" /><div class="tabbed-labels"><label for="json-rpc_33">JSON-RPC</label><label for="grpc_33">gRPC</label><label for="rest_6">REST</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>tasks/pushNotificationConfig/list</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload:</strong> <a href="#771-listtaskpushnotificationconfigparams-object-taskspushnotificationconfiglist"><code>ListTaskPushNotificationConfigParams</code></a></li>
<li><strong>Response</strong>: <code>TaskPushNotificationConfig[]</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>ListTaskPushNotification</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload:</strong>
    <div class="language-proto highlight"><pre><span></span><code><span id="__span-77-1"><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a><span class="kd">message</span><span class="w"> </span><span class="nc">ListTaskPushNotificationRequest</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-77-2"><a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a><span class="w">  </span><span class="c1">// parent=tasks/{id}</span>
</span><span id="__span-77-3"><a id="__codelineno-77-3" name="__codelineno-77-3" href="#__codelineno-77-3"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-77-4"><a id="__codelineno-77-4" name="__codelineno-77-4" href="#__codelineno-77-4"></a><span class="p">}</span>
</span></code></pre></div></li>
<li><strong>Response</strong>: <code>repeated TaskPushNotificationConfig</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>/v1/tasks/{id}/pushNotificationConfigs</code></li>
<li><strong>HTTP Method:</strong> <code>GET</code></li>
<li><strong>Payload:</strong>: None</li>
<li><strong>Response</strong>: <code>[TaskPushNotificationConfig]</code></li>
</ul>
</div>
</div>
</div>
</div>
<h4 id="771-listtaskpushnotificationconfigparams-object-taskspushnotificationconfiglist">7.7.1. <code>ListTaskPushNotificationConfigParams</code> Object (<code>tasks/pushNotificationConfig/list</code>)<a class="headerlink" href="#771-listtaskpushnotificationconfigparams-object-taskspushnotificationconfiglist" title="Permanent link">&para;</a></h4>
<p>A object for fetching the push notification configurations for a task.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="34:2"><input checked="checked" id="json-rpc_34" name="__tabbed_34" type="radio" /><input id="grpc_34" name="__tabbed_34" type="radio" /><div class="tabbed-labels"><label for="json-rpc_34">JSON-RPC</label><label for="grpc_34">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-78-1"><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="cm">/**</span>
</span><span id="__span-78-2"><a id="__codelineno-78-2" name="__codelineno-78-2" href="#__codelineno-78-2"></a><span class="cm"> * Defines parameters for listing all push notification configurations associated with a task.</span>
</span><span id="__span-78-3"><a id="__codelineno-78-3" name="__codelineno-78-3" href="#__codelineno-78-3"></a><span class="cm"> */</span>
</span><span id="__span-78-4"><a id="__codelineno-78-4" name="__codelineno-78-4" href="#__codelineno-78-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">ListTaskPushNotificationConfigParams</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">TaskIdParams</span><span class="w"> </span><span class="p">{}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-79-1"><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="78-taskspushnotificationconfigdelete">7.8. <code>tasks/pushNotificationConfig/delete</code><a class="headerlink" href="#78-taskspushnotificationconfigdelete" title="Permanent link">&para;</a></h3>
<p>Deletes an associated push notification configuration for a task. Requires the server to have <code>AgentCard.capabilities.pushNotifications: true</code>.</p>
<ul>
<li><strong>Request <code>params</code> type</strong>: <a href="#781-deletetaskpushnotificationconfigparams-object-taskspushnotificationconfigdelete"><code>DeleteTaskPushNotificationConfigParams</code></a></li>
<li><strong>Response <code>result</code> type (on success)</strong>: [<code>null</code>]</li>
<li><strong>Response <code>error</code> type (on failure)</strong>: <a href="#612-jsonrpcerror-object"><code>JSONRPCError</code></a> (e.g., <a href="#82-a2a-specific-errors"><code>PushNotificationNotSupportedError</code></a>, <a href="#82-a2a-specific-errors"><code>TaskNotFoundError</code></a>).</li>
</ul>
<h4 id="781-deletetaskpushnotificationconfigparams-object-taskspushnotificationconfigdelete">7.8.1. <code>DeleteTaskPushNotificationConfigParams</code> Object (<code>tasks/pushNotificationConfig/delete</code>)<a class="headerlink" href="#781-deletetaskpushnotificationconfigparams-object-taskspushnotificationconfigdelete" title="Permanent link">&para;</a></h4>
<p>A object for deleting an associated push notification configuration for a task.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="35:2"><input checked="checked" id="json-rpc_35" name="__tabbed_35" type="radio" /><input id="grpc_35" name="__tabbed_35" type="radio" /><div class="tabbed-labels"><label for="json-rpc_35">JSON-RPC</label><label for="grpc_35">gRPC</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-80-1"><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="cm">/**</span>
</span><span id="__span-80-2"><a id="__codelineno-80-2" name="__codelineno-80-2" href="#__codelineno-80-2"></a><span class="cm"> * Defines parameters for deleting a specific push notification configuration for a task.</span>
</span><span id="__span-80-3"><a id="__codelineno-80-3" name="__codelineno-80-3" href="#__codelineno-80-3"></a><span class="cm"> */</span>
</span><span id="__span-80-4"><a id="__codelineno-80-4" name="__codelineno-80-4" href="#__codelineno-80-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">DeleteTaskPushNotificationConfigParams</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">TaskIdParams</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-80-5"><a id="__codelineno-80-5" name="__codelineno-80-5" href="#__codelineno-80-5"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-80-6"><a id="__codelineno-80-6" name="__codelineno-80-6" href="#__codelineno-80-6"></a><span class="cm">   * The ID of the push notification configuration to delete.</span>
</span><span id="__span-80-7"><a id="__codelineno-80-7" name="__codelineno-80-7" href="#__codelineno-80-7"></a><span class="cm">   */</span>
</span><span id="__span-80-8"><a id="__codelineno-80-8" name="__codelineno-80-8" href="#__codelineno-80-8"></a><span class="w">  </span><span class="nx">pushNotificationConfigId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-80-9"><a id="__codelineno-80-9" name="__codelineno-80-9" href="#__codelineno-80-9"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-proto no-copy highlight"><pre><span></span><code><span id="__span-81-1"><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="79-tasksresubscribe">7.9. <code>tasks/resubscribe</code><a class="headerlink" href="#79-tasksresubscribe" title="Permanent link">&para;</a></h3>
<p>Allows a client to reconnect to an SSE stream for an ongoing task after a previous connection (from <code>message/stream</code> or an earlier <code>tasks/resubscribe</code>) was interrupted. Requires the server to have <code>AgentCard.capabilities.streaming: true</code>.</p>
<p>The purpose is to resume receiving <em>subsequent</em> updates. The server's behavior regarding events missed during the disconnection period (e.g., whether it attempts to backfill some missed events or only sends new ones from the point of resubscription) is implementation-dependent and not strictly defined by this specification.</p>
<div class="grid cards">
<div class="tabbed-set tabbed-alternate" data-tabs="36:3"><input checked="checked" id="json-rpc_36" name="__tabbed_36" type="radio" /><input id="grpc_36" name="__tabbed_36" type="radio" /><input id="rest_7" name="__tabbed_36" type="radio" /><div class="tabbed-labels"><label for="json-rpc_36">JSON-RPC</label><label for="grpc_36">gRPC</label><label for="rest_7">REST</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>tasks/resubscribe</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload</strong>: <a href="#741-taskidparams-object-for-taskscancel-and-taskspushnotificationconfigget"><code>TaskIdParams</code></a></li>
<li><strong>Response</strong>: A stream of Server-Sent Events. Each SSE <code>data</code> field contains a <a href="#721-sendstreamingmessageresponse-object"><code>SendStreamingMessageResponse</code></a></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>TaskSubscription</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload:</strong>
    <div class="language-proto highlight"><pre><span></span><code><span id="__span-82-1"><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="kd">message</span><span class="w"> </span><span class="nc">TaskSubscriptionRequest</span><span class="p">{</span>
</span><span id="__span-82-2"><a id="__codelineno-82-2" name="__codelineno-82-2" href="#__codelineno-82-2"></a><span class="w">  </span><span class="c1">// name=tasks/{id}</span>
</span><span id="__span-82-3"><a id="__codelineno-82-3" name="__codelineno-82-3" href="#__codelineno-82-3"></a><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
</span><span id="__span-82-4"><a id="__codelineno-82-4" name="__codelineno-82-4" href="#__codelineno-82-4"></a><span class="p">}</span>
</span></code></pre></div></li>
<li><strong>Response:</strong>
    <div class="language-proto highlight"><pre><span></span><code><span id="__span-83-1"><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a><span class="kd">message</span><span class="w"> </span><span class="nc">StreamResponse</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-83-2"><a id="__codelineno-83-2" name="__codelineno-83-2" href="#__codelineno-83-2"></a><span class="w">  </span><span class="k">oneof</span><span class="w"> </span><span class="n">payload</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-83-3"><a id="__codelineno-83-3" name="__codelineno-83-3" href="#__codelineno-83-3"></a><span class="w">    </span><span class="n">Task</span><span class="w"> </span><span class="n">task</span><span class="p">;</span>
</span><span id="__span-83-4"><a id="__codelineno-83-4" name="__codelineno-83-4" href="#__codelineno-83-4"></a><span class="w">    </span><span class="n">Message</span><span class="w"> </span><span class="n">msg</span><span class="p">;</span>
</span><span id="__span-83-5"><a id="__codelineno-83-5" name="__codelineno-83-5" href="#__codelineno-83-5"></a><span class="w">    </span><span class="n">TaskStatusUpdateEvent</span><span class="w"> </span><span class="n">status_update</span><span class="p">;</span>
</span><span id="__span-83-6"><a id="__codelineno-83-6" name="__codelineno-83-6" href="#__codelineno-83-6"></a><span class="w">    </span><span class="n">TaskArtifactUpdateEvent</span><span class="w"> </span><span class="n">artifact_update</span><span class="p">;</span>
</span><span id="__span-83-7"><a id="__codelineno-83-7" name="__codelineno-83-7" href="#__codelineno-83-7"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-83-8"><a id="__codelineno-83-8" name="__codelineno-83-8" href="#__codelineno-83-8"></a><span class="p">}</span>
</span></code></pre></div></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>/v1/tasks/{id}:subscribe</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload:</strong>
    <div class="language-typescript highlight"><pre><span></span><code><span id="__span-84-1"><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a><span class="p">{</span>
</span><span id="__span-84-2"><a id="__codelineno-84-2" name="__codelineno-84-2" href="#__codelineno-84-2"></a><span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-84-3"><a id="__codelineno-84-3" name="__codelineno-84-3" href="#__codelineno-84-3"></a><span class="p">}</span>
</span></code></pre></div></li>
<li><strong>Response:</strong>
    <div class="language-typescript highlight"><pre><span></span><code><span id="__span-85-1"><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="p">{</span>
</span><span id="__span-85-2"><a id="__codelineno-85-2" name="__codelineno-85-2" href="#__codelineno-85-2"></a><span class="w">  </span><span class="nx">message?</span><span class="o">:</span><span class="w"> </span><span class="kt">Message</span>
</span><span id="__span-85-3"><a id="__codelineno-85-3" name="__codelineno-85-3" href="#__codelineno-85-3"></a><span class="w">  </span><span class="nx">task?</span><span class="o">:</span><span class="w"> </span><span class="kt">Task</span>
</span><span id="__span-85-4"><a id="__codelineno-85-4" name="__codelineno-85-4" href="#__codelineno-85-4"></a><span class="w">  </span><span class="nx">statusUpdate?</span><span class="o">:</span><span class="w"> </span><span class="kt">TaskStatusUpdateEvent</span>
</span><span id="__span-85-5"><a id="__codelineno-85-5" name="__codelineno-85-5" href="#__codelineno-85-5"></a><span class="w">  </span><span class="nx">artifactUpdate?</span><span class="o">:</span><span class="w"> </span><span class="kt">TaskArtifactUpdateEvent</span>
</span><span id="__span-85-6"><a id="__codelineno-85-6" name="__codelineno-85-6" href="#__codelineno-85-6"></a><span class="p">}</span>
</span></code></pre></div></li>
</ul>
</div>
</div>
</div>
</div>
<h3 id="710-agentgetauthenticatedextendedcard">7.10. <code>agent/getAuthenticatedExtendedCard</code><a class="headerlink" href="#710-agentgetauthenticatedextendedcard" title="Permanent link">&para;</a></h3>
<p>Retrieves a potentially more detailed version of the Agent Card after the client has authenticated. This endpoint is available only if <code>AgentCard.supportsAuthenticatedExtendedCard</code> is <code>true</code>.</p>
<ul>
<li><strong>Authentication</strong>: The client <strong>MUST</strong> authenticate the request using one of the schemes declared in the public <code>AgentCard.securitySchemes</code> and <code>AgentCard.security</code> fields.</li>
<li><strong>Response <code>result</code> type (on success)</strong>: <code>AgentCard</code> (A complete Agent Card object, which may contain additional details or skills not present in the public card).</li>
<li><strong>Response <code>error</code> type (on failure)</strong>: Standard HTTP error codes.<ul>
<li><code>401 Unauthorized</code>: Authentication failed (missing or invalid credentials). The server <strong>SHOULD</strong> include a <code>WWW-Authenticate</code> header.</li>
</ul>
</li>
</ul>
<div class="grid cards">
<div class="tabbed-set tabbed-alternate" data-tabs="37:3"><input checked="checked" id="json-rpc_37" name="__tabbed_37" type="radio" /><input id="grpc_37" name="__tabbed_37" type="radio" /><input id="rest_8" name="__tabbed_37" type="radio" /><div class="tabbed-labels"><label for="json-rpc_37">JSON-RPC</label><label for="grpc_37">gRPC</label><label for="rest_8">REST</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>agent/getAuthenticatedExtendedCard</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload:</strong> None</li>
<li><strong>Response:</strong> <code>AgentCard</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>GetAgentCard</code></li>
<li><strong>HTTP Method:</strong> <code>POST</code></li>
<li><strong>Payload:</strong> None</li>
<li><strong>Response:</strong> <code>AgentCard</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><strong>URL:</strong> <code>/v1/card</code></li>
<li><strong>HTTP Method:</strong> <code>GET</code></li>
<li><strong>Payload:</strong> None</li>
<li><strong>Response:</strong> <code>AgentCard</code></li>
</ul>
</div>
</div>
</div>
</div>
<p>Clients retrieving this authenticated card <strong>SHOULD</strong> replace their cached public Agent Card with the content received from this endpoint for the duration of their authenticated session or until the card's version changes.</p>
<div class="language-ts no-copy highlight"><pre><span></span><code><span id="__span-86-1"><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a><span class="cm">/**</span>
</span><span id="__span-86-2"><a id="__codelineno-86-2" name="__codelineno-86-2" href="#__codelineno-86-2"></a><span class="cm"> * Represents a successful JSON-RPC response for the `agent/getAuthenticatedExtendedCard` method.</span>
</span><span id="__span-86-3"><a id="__codelineno-86-3" name="__codelineno-86-3" href="#__codelineno-86-3"></a><span class="cm"> */</span>
</span><span id="__span-86-4"><a id="__codelineno-86-4" name="__codelineno-86-4" href="#__codelineno-86-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">GetAuthenticatedExtendedCardSuccessResponse</span>
</span><span id="__span-86-5"><a id="__codelineno-86-5" name="__codelineno-86-5" href="#__codelineno-86-5"></a><span class="w">  </span><span class="k">extends</span><span class="w"> </span><span class="nx">JSONRPCSuccessResponse</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-86-6"><a id="__codelineno-86-6" name="__codelineno-86-6" href="#__codelineno-86-6"></a><span class="w">  </span><span class="cm">/** The result is an Agent Card object. */</span>
</span><span id="__span-86-7"><a id="__codelineno-86-7" name="__codelineno-86-7" href="#__codelineno-86-7"></a><span class="w">  </span><span class="nx">result</span><span class="o">:</span><span class="w"> </span><span class="kt">AgentCard</span><span class="p">;</span>
</span><span id="__span-86-8"><a id="__codelineno-86-8" name="__codelineno-86-8" href="#__codelineno-86-8"></a><span class="p">}</span>
</span></code></pre></div>
<h2 id="8-error-handling">8. Error Handling<a class="headerlink" href="#8-error-handling" title="Permanent link">&para;</a></h2>
<p>A2A uses standard <a href="https://www.jsonrpc.org/specification#error_object">JSON-RPC 2.0 error codes and structure</a> for reporting errors. Errors are returned in the <code>error</code> member of the <code>JSONRPCErrorResponse</code> object. See <a href="#612-jsonrpcerror-object"><code>JSONRPCError</code> Object definition</a>.</p>
<h3 id="81-standard-json-rpc-errors">8.1. Standard JSON-RPC Errors<a class="headerlink" href="#81-standard-json-rpc-errors" title="Permanent link">&para;</a></h3>
<p>These are standard codes defined by the JSON-RPC 2.0 specification.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Code</th>
<th style="text-align: left;">JSON-RPC Spec Meaning</th>
<th style="text-align: left;">Typical A2A <code>message</code></th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>-32700</code></td>
<td style="text-align: left;">Parse error</td>
<td style="text-align: left;">Invalid JSON payload</td>
<td style="text-align: left;">Server received JSON that was not well-formed.</td>
</tr>
<tr>
<td style="text-align: left;"><code>-32600</code></td>
<td style="text-align: left;">Invalid Request</td>
<td style="text-align: left;">Invalid JSON-RPC Request</td>
<td style="text-align: left;">The JSON payload was valid JSON, but not a valid JSON-RPC Request object.</td>
</tr>
<tr>
<td style="text-align: left;"><code>-32601</code></td>
<td style="text-align: left;">Method not found</td>
<td style="text-align: left;">Method not found</td>
<td style="text-align: left;">The requested A2A RPC <code>method</code> (e.g., <code>"tasks/foo"</code>) does not exist or is not supported.</td>
</tr>
<tr>
<td style="text-align: left;"><code>-32602</code></td>
<td style="text-align: left;">Invalid params</td>
<td style="text-align: left;">Invalid method parameters</td>
<td style="text-align: left;">The <code>params</code> provided for the method are invalid (e.g., wrong type, missing required field).</td>
</tr>
<tr>
<td style="text-align: left;"><code>-32603</code></td>
<td style="text-align: left;">Internal error</td>
<td style="text-align: left;">Internal server error</td>
<td style="text-align: left;">An unexpected error occurred on the server during processing.</td>
</tr>
<tr>
<td style="text-align: left;"><code>-32000</code> to <code>-32099</code></td>
<td style="text-align: left;">Server error</td>
<td style="text-align: left;"><em>(Server-defined)</em></td>
<td style="text-align: left;">Reserved for implementation-defined server-errors. A2A-specific errors use this range.</td>
</tr>
</tbody>
</table>
<h3 id="82-a2a-specific-errors">8.2. A2A-Specific Errors<a class="headerlink" href="#82-a2a-specific-errors" title="Permanent link">&para;</a></h3>
<p>These are custom error codes defined within the JSON-RPC server error range (<code>-32000</code> to <code>-32099</code>) to provide more specific feedback about A2A-related issues. Servers <strong>SHOULD</strong> use these codes where applicable.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Code</th>
<th style="text-align: left;">Error Name (Conceptual)</th>
<th style="text-align: left;">Typical <code>message</code> string</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>-32001</code></td>
<td style="text-align: left;"><code>TaskNotFoundError</code></td>
<td style="text-align: left;">Task not found</td>
<td style="text-align: left;">The specified task <code>id</code> does not correspond to an existing or active task. It might be invalid, expired, or already completed and purged.</td>
</tr>
<tr>
<td style="text-align: left;"><code>-32002</code></td>
<td style="text-align: left;"><code>TaskNotCancelableError</code></td>
<td style="text-align: left;">Task cannot be canceled</td>
<td style="text-align: left;">An attempt was made to cancel a task that is not in a cancelable state (e.g., it has already reached a terminal state like <code>completed</code>, <code>failed</code>, or <code>canceled</code>).</td>
</tr>
<tr>
<td style="text-align: left;"><code>-32003</code></td>
<td style="text-align: left;"><code>PushNotificationNotSupportedError</code></td>
<td style="text-align: left;">Push Notification is not supported</td>
<td style="text-align: left;">Client attempted to use push notification features (e.g., <code>tasks/pushNotificationConfig/set</code>) but the server agent does not support them (i.e., <code>AgentCard.capabilities.pushNotifications</code> is <code>false</code>).</td>
</tr>
<tr>
<td style="text-align: left;"><code>-32004</code></td>
<td style="text-align: left;"><code>UnsupportedOperationError</code></td>
<td style="text-align: left;">This operation is not supported</td>
<td style="text-align: left;">The requested operation or a specific aspect of it (perhaps implied by parameters) is not supported by this server agent implementation. Broader than just method not found.</td>
</tr>
<tr>
<td style="text-align: left;"><code>-32005</code></td>
<td style="text-align: left;"><code>ContentTypeNotSupportedError</code></td>
<td style="text-align: left;">Incompatible content types</td>
<td style="text-align: left;">A <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types">Media Type</a> provided in the request's <code>message.parts</code> (or implied for an artifact) is not supported by the agent or the specific skill being invoked.</td>
</tr>
<tr>
<td style="text-align: left;"><code>-32006</code></td>
<td style="text-align: left;"><code>InvalidAgentResponseError</code></td>
<td style="text-align: left;">Invalid agent response type</td>
<td style="text-align: left;">Agent generated an invalid response for the requested method</td>
</tr>
<tr>
<td style="text-align: left;"><code>-32007</code></td>
<td style="text-align: left;"><code>AuthenticatedExtendedCardNotConfiguredError</code></td>
<td style="text-align: left;">Authenticated Extended Card not configured</td>
<td style="text-align: left;">The agent does not have an Authenticated Extended Card configured.</td>
</tr>
</tbody>
</table>
<p>Servers MAY define additional error codes within the <code>-32000</code> to <code>-32099</code> range for more specific scenarios not covered above, but they <strong>SHOULD</strong> document these clearly. The <code>data</code> field of the <code>JSONRPCError</code> object can be used to provide more structured details for any error.</p>
<h2 id="9-common-workflows-examples">9. Common Workflows &amp; Examples<a class="headerlink" href="#9-common-workflows-examples" title="Permanent link">&para;</a></h2>
<p>This section provides illustrative JSON examples of common A2A interactions. Timestamps, context IDs, and request/response IDs are for demonstration purposes. For brevity, some optional fields might be omitted if not central to the example.</p>
<h3 id="91-fetching-authenticated-extended-agent-card">9.1. Fetching Authenticated Extended Agent Card<a class="headerlink" href="#91-fetching-authenticated-extended-agent-card" title="Permanent link">&para;</a></h3>
<p><strong>Scenario:</strong> A client discovers a public Agent Card indicating support for an authenticated extended card and wants to retrieve the full details.</p>
<ol>
<li><strong>Client fetches the public Agent Card:</strong></li>
</ol>
<div class="language-text highlight"><pre><span></span><code><span id="__span-87-1"><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a>GET https://example.com/.well-known/agent-card.json
</span></code></pre></div>
<p><em>Server responds with the public Agent Card (like the example in Section 5.6), including <code>supportsAuthenticatedExtendedCard: true</code> (at the root level) and <code>securitySchemes</code>.</em></p>
<ol>
<li>
<p><strong>Client identifies required authentication from the public card.</strong></p>
</li>
<li>
<p><strong>Client obtains necessary credentials out-of-band (e.g., performs OAuth 2.0 flow with Google, resulting in an access token).</strong></p>
</li>
<li>
<p><strong>Client fetches the authenticated extended Agent Card using <code>agent/getAuthenticatedExtendedCard</code> request:</strong></p>
</li>
</ol>
<div class="language-json highlight"><pre><span></span><code><span id="__span-88-1"><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a><span class="p">{</span>
</span><span id="__span-88-2"><a id="__codelineno-88-2" name="__codelineno-88-2" href="#__codelineno-88-2"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-88-3"><a id="__codelineno-88-3" name="__codelineno-88-3" href="#__codelineno-88-3"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-88-4"><a id="__codelineno-88-4" name="__codelineno-88-4" href="#__codelineno-88-4"></a><span class="w">  </span><span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;agent/getAuthenticatedExtendedCard&quot;</span>
</span><span id="__span-88-5"><a id="__codelineno-88-5" name="__codelineno-88-5" href="#__codelineno-88-5"></a><span class="p">}</span>
</span></code></pre></div>
<ol>
<li>
<p><strong>Server authenticates and authorizes the request.</strong></p>
</li>
<li>
<p><strong>Server responds with the full Agent Card as the JSON-RPC result:</strong></p>
</li>
</ol>
<h3 id="92-basic-execution-synchronous-polling-style">9.2. Basic Execution (Synchronous / Polling Style)<a class="headerlink" href="#92-basic-execution-synchronous-polling-style" title="Permanent link">&para;</a></h3>
<p><strong>Scenario:</strong> Client asks a simple question, and the agent responds quickly with a task</p>
<ol>
<li><strong>Client sends a message using <code>message/send</code>:</strong></li>
</ol>
<div class="language-json highlight"><pre><span></span><code><span id="__span-89-1"><a id="__codelineno-89-1" name="__codelineno-89-1" href="#__codelineno-89-1"></a><span class="p">{</span>
</span><span id="__span-89-2"><a id="__codelineno-89-2" name="__codelineno-89-2" href="#__codelineno-89-2"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-89-3"><a id="__codelineno-89-3" name="__codelineno-89-3" href="#__codelineno-89-3"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-89-4"><a id="__codelineno-89-4" name="__codelineno-89-4" href="#__codelineno-89-4"></a><span class="w">  </span><span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;message/send&quot;</span><span class="p">,</span>
</span><span id="__span-89-5"><a id="__codelineno-89-5" name="__codelineno-89-5" href="#__codelineno-89-5"></a><span class="w">  </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-89-6"><a id="__codelineno-89-6" name="__codelineno-89-6" href="#__codelineno-89-6"></a><span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-89-7"><a id="__codelineno-89-7" name="__codelineno-89-7" href="#__codelineno-89-7"></a><span class="w">      </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
</span><span id="__span-89-8"><a id="__codelineno-89-8" name="__codelineno-89-8" href="#__codelineno-89-8"></a><span class="w">      </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-89-9"><a id="__codelineno-89-9" name="__codelineno-89-9" href="#__codelineno-89-9"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-89-10"><a id="__codelineno-89-10" name="__codelineno-89-10" href="#__codelineno-89-10"></a><span class="w">          </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-89-11"><a id="__codelineno-89-11" name="__codelineno-89-11" href="#__codelineno-89-11"></a><span class="w">          </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tell me a joke&quot;</span>
</span><span id="__span-89-12"><a id="__codelineno-89-12" name="__codelineno-89-12" href="#__codelineno-89-12"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-89-13"><a id="__codelineno-89-13" name="__codelineno-89-13" href="#__codelineno-89-13"></a><span class="w">      </span><span class="p">],</span>
</span><span id="__span-89-14"><a id="__codelineno-89-14" name="__codelineno-89-14" href="#__codelineno-89-14"></a><span class="w">      </span><span class="nt">&quot;messageId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;9229e770-767c-417b-a0b0-f0741243c589&quot;</span>
</span><span id="__span-89-15"><a id="__codelineno-89-15" name="__codelineno-89-15" href="#__codelineno-89-15"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-89-16"><a id="__codelineno-89-16" name="__codelineno-89-16" href="#__codelineno-89-16"></a><span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-89-17"><a id="__codelineno-89-17" name="__codelineno-89-17" href="#__codelineno-89-17"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-89-18"><a id="__codelineno-89-18" name="__codelineno-89-18" href="#__codelineno-89-18"></a><span class="p">}</span>
</span></code></pre></div>
<ol>
<li><strong>Server processes the request, creates a task and responds (task completes quickly)</strong></li>
</ol>
<div class="language-json highlight"><pre><span></span><code><span id="__span-90-1"><a id="__codelineno-90-1" name="__codelineno-90-1" href="#__codelineno-90-1"></a><span class="p">{</span>
</span><span id="__span-90-2"><a id="__codelineno-90-2" name="__codelineno-90-2" href="#__codelineno-90-2"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-90-3"><a id="__codelineno-90-3" name="__codelineno-90-3" href="#__codelineno-90-3"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-90-4"><a id="__codelineno-90-4" name="__codelineno-90-4" href="#__codelineno-90-4"></a><span class="w">  </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-90-5"><a id="__codelineno-90-5" name="__codelineno-90-5" href="#__codelineno-90-5"></a><span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;363422be-b0f9-4692-a24d-278670e7c7f1&quot;</span><span class="p">,</span>
</span><span id="__span-90-6"><a id="__codelineno-90-6" name="__codelineno-90-6" href="#__codelineno-90-6"></a><span class="w">    </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c295ea44-7543-4f78-b524-7a38915ad6e4&quot;</span><span class="p">,</span>
</span><span id="__span-90-7"><a id="__codelineno-90-7" name="__codelineno-90-7" href="#__codelineno-90-7"></a><span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-90-8"><a id="__codelineno-90-8" name="__codelineno-90-8" href="#__codelineno-90-8"></a><span class="w">      </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span>
</span><span id="__span-90-9"><a id="__codelineno-90-9" name="__codelineno-90-9" href="#__codelineno-90-9"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-90-10"><a id="__codelineno-90-10" name="__codelineno-90-10" href="#__codelineno-90-10"></a><span class="w">    </span><span class="nt">&quot;artifacts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-90-11"><a id="__codelineno-90-11" name="__codelineno-90-11" href="#__codelineno-90-11"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-90-12"><a id="__codelineno-90-12" name="__codelineno-90-12" href="#__codelineno-90-12"></a><span class="w">        </span><span class="nt">&quot;artifactId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;9b6934dd-37e3-4eb1-8766-962efaab63a1&quot;</span><span class="p">,</span>
</span><span id="__span-90-13"><a id="__codelineno-90-13" name="__codelineno-90-13" href="#__codelineno-90-13"></a><span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;joke&quot;</span><span class="p">,</span>
</span><span id="__span-90-14"><a id="__codelineno-90-14" name="__codelineno-90-14" href="#__codelineno-90-14"></a><span class="w">        </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-90-15"><a id="__codelineno-90-15" name="__codelineno-90-15" href="#__codelineno-90-15"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-90-16"><a id="__codelineno-90-16" name="__codelineno-90-16" href="#__codelineno-90-16"></a><span class="w">            </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-90-17"><a id="__codelineno-90-17" name="__codelineno-90-17" href="#__codelineno-90-17"></a><span class="w">            </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Why did the chicken cross the road? To get to the other side!&quot;</span>
</span><span id="__span-90-18"><a id="__codelineno-90-18" name="__codelineno-90-18" href="#__codelineno-90-18"></a><span class="w">          </span><span class="p">}</span>
</span><span id="__span-90-19"><a id="__codelineno-90-19" name="__codelineno-90-19" href="#__codelineno-90-19"></a><span class="w">        </span><span class="p">]</span>
</span><span id="__span-90-20"><a id="__codelineno-90-20" name="__codelineno-90-20" href="#__codelineno-90-20"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-90-21"><a id="__codelineno-90-21" name="__codelineno-90-21" href="#__codelineno-90-21"></a><span class="w">    </span><span class="p">],</span>
</span><span id="__span-90-22"><a id="__codelineno-90-22" name="__codelineno-90-22" href="#__codelineno-90-22"></a><span class="w">    </span><span class="nt">&quot;history&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-90-23"><a id="__codelineno-90-23" name="__codelineno-90-23" href="#__codelineno-90-23"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-90-24"><a id="__codelineno-90-24" name="__codelineno-90-24" href="#__codelineno-90-24"></a><span class="w">        </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
</span><span id="__span-90-25"><a id="__codelineno-90-25" name="__codelineno-90-25" href="#__codelineno-90-25"></a><span class="w">        </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-90-26"><a id="__codelineno-90-26" name="__codelineno-90-26" href="#__codelineno-90-26"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-90-27"><a id="__codelineno-90-27" name="__codelineno-90-27" href="#__codelineno-90-27"></a><span class="w">            </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-90-28"><a id="__codelineno-90-28" name="__codelineno-90-28" href="#__codelineno-90-28"></a><span class="w">            </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tell me a joke&quot;</span>
</span><span id="__span-90-29"><a id="__codelineno-90-29" name="__codelineno-90-29" href="#__codelineno-90-29"></a><span class="w">          </span><span class="p">}</span>
</span><span id="__span-90-30"><a id="__codelineno-90-30" name="__codelineno-90-30" href="#__codelineno-90-30"></a><span class="w">        </span><span class="p">],</span>
</span><span id="__span-90-31"><a id="__codelineno-90-31" name="__codelineno-90-31" href="#__codelineno-90-31"></a><span class="w">        </span><span class="nt">&quot;messageId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;9229e770-767c-417b-a0b0-f0741243c589&quot;</span><span class="p">,</span>
</span><span id="__span-90-32"><a id="__codelineno-90-32" name="__codelineno-90-32" href="#__codelineno-90-32"></a><span class="w">        </span><span class="nt">&quot;taskId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;363422be-b0f9-4692-a24d-278670e7c7f1&quot;</span><span class="p">,</span>
</span><span id="__span-90-33"><a id="__codelineno-90-33" name="__codelineno-90-33" href="#__codelineno-90-33"></a><span class="w">        </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c295ea44-7543-4f78-b524-7a38915ad6e4&quot;</span>
</span><span id="__span-90-34"><a id="__codelineno-90-34" name="__codelineno-90-34" href="#__codelineno-90-34"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-90-35"><a id="__codelineno-90-35" name="__codelineno-90-35" href="#__codelineno-90-35"></a><span class="w">    </span><span class="p">],</span>
</span><span id="__span-90-36"><a id="__codelineno-90-36" name="__codelineno-90-36" href="#__codelineno-90-36"></a><span class="w">    </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;task&quot;</span><span class="p">,</span>
</span><span id="__span-90-37"><a id="__codelineno-90-37" name="__codelineno-90-37" href="#__codelineno-90-37"></a><span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-90-38"><a id="__codelineno-90-38" name="__codelineno-90-38" href="#__codelineno-90-38"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-90-39"><a id="__codelineno-90-39" name="__codelineno-90-39" href="#__codelineno-90-39"></a><span class="p">}</span>
</span></code></pre></div>
<p><em>If the task were longer-running, the server might initially respond with <code>status.state: "working"</code>. The client would then periodically call <code>tasks/get</code> with params: <code>{"id": "363422be-b0f9-4692-a24d-278670e7c7f1"}</code> until the task reaches a terminal state.</em></p>
<p><strong>Scenario:</strong> Client asks a simple question, and the agent responds quickly without a task</p>
<ol>
<li><strong>Client sends a message using <code>message/send</code>:</strong></li>
</ol>
<div class="language-json highlight"><pre><span></span><code><span id="__span-91-1"><a id="__codelineno-91-1" name="__codelineno-91-1" href="#__codelineno-91-1"></a><span class="p">{</span>
</span><span id="__span-91-2"><a id="__codelineno-91-2" name="__codelineno-91-2" href="#__codelineno-91-2"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-91-3"><a id="__codelineno-91-3" name="__codelineno-91-3" href="#__codelineno-91-3"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-91-4"><a id="__codelineno-91-4" name="__codelineno-91-4" href="#__codelineno-91-4"></a><span class="w">  </span><span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;message/send&quot;</span><span class="p">,</span>
</span><span id="__span-91-5"><a id="__codelineno-91-5" name="__codelineno-91-5" href="#__codelineno-91-5"></a><span class="w">  </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-91-6"><a id="__codelineno-91-6" name="__codelineno-91-6" href="#__codelineno-91-6"></a><span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-91-7"><a id="__codelineno-91-7" name="__codelineno-91-7" href="#__codelineno-91-7"></a><span class="w">      </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
</span><span id="__span-91-8"><a id="__codelineno-91-8" name="__codelineno-91-8" href="#__codelineno-91-8"></a><span class="w">      </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-91-9"><a id="__codelineno-91-9" name="__codelineno-91-9" href="#__codelineno-91-9"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-91-10"><a id="__codelineno-91-10" name="__codelineno-91-10" href="#__codelineno-91-10"></a><span class="w">          </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-91-11"><a id="__codelineno-91-11" name="__codelineno-91-11" href="#__codelineno-91-11"></a><span class="w">          </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tell me a joke&quot;</span>
</span><span id="__span-91-12"><a id="__codelineno-91-12" name="__codelineno-91-12" href="#__codelineno-91-12"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-91-13"><a id="__codelineno-91-13" name="__codelineno-91-13" href="#__codelineno-91-13"></a><span class="w">      </span><span class="p">],</span>
</span><span id="__span-91-14"><a id="__codelineno-91-14" name="__codelineno-91-14" href="#__codelineno-91-14"></a><span class="w">      </span><span class="nt">&quot;messageId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;9229e770-767c-417b-a0b0-f0741243c589&quot;</span>
</span><span id="__span-91-15"><a id="__codelineno-91-15" name="__codelineno-91-15" href="#__codelineno-91-15"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-91-16"><a id="__codelineno-91-16" name="__codelineno-91-16" href="#__codelineno-91-16"></a><span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-91-17"><a id="__codelineno-91-17" name="__codelineno-91-17" href="#__codelineno-91-17"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-91-18"><a id="__codelineno-91-18" name="__codelineno-91-18" href="#__codelineno-91-18"></a><span class="p">}</span>
</span></code></pre></div>
<ol>
<li><strong>Server processes the request, responds quickly without a task</strong></li>
</ol>
<div class="language-json highlight"><pre><span></span><code><span id="__span-92-1"><a id="__codelineno-92-1" name="__codelineno-92-1" href="#__codelineno-92-1"></a><span class="p">{</span>
</span><span id="__span-92-2"><a id="__codelineno-92-2" name="__codelineno-92-2" href="#__codelineno-92-2"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-92-3"><a id="__codelineno-92-3" name="__codelineno-92-3" href="#__codelineno-92-3"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-92-4"><a id="__codelineno-92-4" name="__codelineno-92-4" href="#__codelineno-92-4"></a><span class="w">  </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-92-5"><a id="__codelineno-92-5" name="__codelineno-92-5" href="#__codelineno-92-5"></a><span class="w">    </span><span class="nt">&quot;messageId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;363422be-b0f9-4692-a24d-278670e7c7f1&quot;</span><span class="p">,</span>
</span><span id="__span-92-6"><a id="__codelineno-92-6" name="__codelineno-92-6" href="#__codelineno-92-6"></a><span class="w">    </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c295ea44-7543-4f78-b524-7a38915ad6e4&quot;</span><span class="p">,</span>
</span><span id="__span-92-7"><a id="__codelineno-92-7" name="__codelineno-92-7" href="#__codelineno-92-7"></a><span class="w">    </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-92-8"><a id="__codelineno-92-8" name="__codelineno-92-8" href="#__codelineno-92-8"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-92-9"><a id="__codelineno-92-9" name="__codelineno-92-9" href="#__codelineno-92-9"></a><span class="w">        </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-92-10"><a id="__codelineno-92-10" name="__codelineno-92-10" href="#__codelineno-92-10"></a><span class="w">        </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Why did the chicken cross the road? To get to the other side!&quot;</span>
</span><span id="__span-92-11"><a id="__codelineno-92-11" name="__codelineno-92-11" href="#__codelineno-92-11"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-92-12"><a id="__codelineno-92-12" name="__codelineno-92-12" href="#__codelineno-92-12"></a><span class="w">    </span><span class="p">],</span>
</span><span id="__span-92-13"><a id="__codelineno-92-13" name="__codelineno-92-13" href="#__codelineno-92-13"></a><span class="w">    </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;message&quot;</span><span class="p">,</span>
</span><span id="__span-92-14"><a id="__codelineno-92-14" name="__codelineno-92-14" href="#__codelineno-92-14"></a><span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-92-15"><a id="__codelineno-92-15" name="__codelineno-92-15" href="#__codelineno-92-15"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-92-16"><a id="__codelineno-92-16" name="__codelineno-92-16" href="#__codelineno-92-16"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="93-streaming-task-execution-sse">9.3. Streaming Task Execution (SSE)<a class="headerlink" href="#93-streaming-task-execution-sse" title="Permanent link">&para;</a></h3>
<p><strong>Scenario:</strong> Client asks the agent to write a long paper describing an attached picture.</p>
<ol>
<li><strong>Client sends a message and subscribes using <code>message/stream</code>:</strong></li>
</ol>
<div class="language-json highlight"><pre><span></span><code><span id="__span-93-1"><a id="__codelineno-93-1" name="__codelineno-93-1" href="#__codelineno-93-1"></a><span class="p">{</span>
</span><span id="__span-93-2"><a id="__codelineno-93-2" name="__codelineno-93-2" href="#__codelineno-93-2"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-93-3"><a id="__codelineno-93-3" name="__codelineno-93-3" href="#__codelineno-93-3"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-93-4"><a id="__codelineno-93-4" name="__codelineno-93-4" href="#__codelineno-93-4"></a><span class="w">  </span><span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;message/stream&quot;</span><span class="p">,</span>
</span><span id="__span-93-5"><a id="__codelineno-93-5" name="__codelineno-93-5" href="#__codelineno-93-5"></a><span class="w">  </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-93-6"><a id="__codelineno-93-6" name="__codelineno-93-6" href="#__codelineno-93-6"></a><span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-93-7"><a id="__codelineno-93-7" name="__codelineno-93-7" href="#__codelineno-93-7"></a><span class="w">      </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
</span><span id="__span-93-8"><a id="__codelineno-93-8" name="__codelineno-93-8" href="#__codelineno-93-8"></a><span class="w">      </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-93-9"><a id="__codelineno-93-9" name="__codelineno-93-9" href="#__codelineno-93-9"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-93-10"><a id="__codelineno-93-10" name="__codelineno-93-10" href="#__codelineno-93-10"></a><span class="w">          </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-93-11"><a id="__codelineno-93-11" name="__codelineno-93-11" href="#__codelineno-93-11"></a><span class="w">          </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;write a long paper describing the attached pictures&quot;</span>
</span><span id="__span-93-12"><a id="__codelineno-93-12" name="__codelineno-93-12" href="#__codelineno-93-12"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-93-13"><a id="__codelineno-93-13" name="__codelineno-93-13" href="#__codelineno-93-13"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-93-14"><a id="__codelineno-93-14" name="__codelineno-93-14" href="#__codelineno-93-14"></a><span class="w">          </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">,</span>
</span><span id="__span-93-15"><a id="__codelineno-93-15" name="__codelineno-93-15" href="#__codelineno-93-15"></a><span class="w">          </span><span class="nt">&quot;file&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-93-16"><a id="__codelineno-93-16" name="__codelineno-93-16" href="#__codelineno-93-16"></a><span class="w">            </span><span class="nt">&quot;mimeType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;image/png&quot;</span><span class="p">,</span>
</span><span id="__span-93-17"><a id="__codelineno-93-17" name="__codelineno-93-17" href="#__codelineno-93-17"></a><span class="w">            </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;base64-encoded-content&gt;&quot;</span>
</span><span id="__span-93-18"><a id="__codelineno-93-18" name="__codelineno-93-18" href="#__codelineno-93-18"></a><span class="w">          </span><span class="p">}</span>
</span><span id="__span-93-19"><a id="__codelineno-93-19" name="__codelineno-93-19" href="#__codelineno-93-19"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-93-20"><a id="__codelineno-93-20" name="__codelineno-93-20" href="#__codelineno-93-20"></a><span class="w">      </span><span class="p">],</span>
</span><span id="__span-93-21"><a id="__codelineno-93-21" name="__codelineno-93-21" href="#__codelineno-93-21"></a><span class="w">      </span><span class="nt">&quot;messageId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bbb7dee1-cf5c-4683-8a6f-4114529da5eb&quot;</span>
</span><span id="__span-93-22"><a id="__codelineno-93-22" name="__codelineno-93-22" href="#__codelineno-93-22"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-93-23"><a id="__codelineno-93-23" name="__codelineno-93-23" href="#__codelineno-93-23"></a><span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-93-24"><a id="__codelineno-93-24" name="__codelineno-93-24" href="#__codelineno-93-24"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-93-25"><a id="__codelineno-93-25" name="__codelineno-93-25" href="#__codelineno-93-25"></a><span class="p">}</span>
</span></code></pre></div>
<ol>
<li><strong>Server responds with HTTP 200 OK, <code>Content-Type: text/event-stream</code>, and starts sending SSE events:</strong></li>
</ol>
<p><em>Event 1: Task status update - working</em></p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-94-1"><a id="__codelineno-94-1" name="__codelineno-94-1" href="#__codelineno-94-1"></a><span class="err">da</span><span class="kc">ta</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-94-2"><a id="__codelineno-94-2" name="__codelineno-94-2" href="#__codelineno-94-2"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-94-3"><a id="__codelineno-94-3" name="__codelineno-94-3" href="#__codelineno-94-3"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-94-4"><a id="__codelineno-94-4" name="__codelineno-94-4" href="#__codelineno-94-4"></a><span class="w">  </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-94-5"><a id="__codelineno-94-5" name="__codelineno-94-5" href="#__codelineno-94-5"></a><span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;225d6247-06ba-4cda-a08b-33ae35c8dcfa&quot;</span><span class="p">,</span>
</span><span id="__span-94-6"><a id="__codelineno-94-6" name="__codelineno-94-6" href="#__codelineno-94-6"></a><span class="w">    </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;05217e44-7e9f-473e-ab4f-2c2dde50a2b1&quot;</span><span class="p">,</span>
</span><span id="__span-94-7"><a id="__codelineno-94-7" name="__codelineno-94-7" href="#__codelineno-94-7"></a><span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-94-8"><a id="__codelineno-94-8" name="__codelineno-94-8" href="#__codelineno-94-8"></a><span class="w">      </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;submitted&quot;</span><span class="p">,</span>
</span><span id="__span-94-9"><a id="__codelineno-94-9" name="__codelineno-94-9" href="#__codelineno-94-9"></a><span class="w">      </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="s2">&quot;2025-04-02T16:59:25.331844&quot;</span>
</span><span id="__span-94-10"><a id="__codelineno-94-10" name="__codelineno-94-10" href="#__codelineno-94-10"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-94-11"><a id="__codelineno-94-11" name="__codelineno-94-11" href="#__codelineno-94-11"></a><span class="w">    </span><span class="nt">&quot;history&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-94-12"><a id="__codelineno-94-12" name="__codelineno-94-12" href="#__codelineno-94-12"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-94-13"><a id="__codelineno-94-13" name="__codelineno-94-13" href="#__codelineno-94-13"></a><span class="w">        </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
</span><span id="__span-94-14"><a id="__codelineno-94-14" name="__codelineno-94-14" href="#__codelineno-94-14"></a><span class="w">        </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-94-15"><a id="__codelineno-94-15" name="__codelineno-94-15" href="#__codelineno-94-15"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-94-16"><a id="__codelineno-94-16" name="__codelineno-94-16" href="#__codelineno-94-16"></a><span class="w">            </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-94-17"><a id="__codelineno-94-17" name="__codelineno-94-17" href="#__codelineno-94-17"></a><span class="w">            </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;write a long paper describing the attached pictures&quot;</span>
</span><span id="__span-94-18"><a id="__codelineno-94-18" name="__codelineno-94-18" href="#__codelineno-94-18"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-94-19"><a id="__codelineno-94-19" name="__codelineno-94-19" href="#__codelineno-94-19"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-94-20"><a id="__codelineno-94-20" name="__codelineno-94-20" href="#__codelineno-94-20"></a><span class="w">            </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">,</span>
</span><span id="__span-94-21"><a id="__codelineno-94-21" name="__codelineno-94-21" href="#__codelineno-94-21"></a><span class="w">            </span><span class="nt">&quot;file&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-94-22"><a id="__codelineno-94-22" name="__codelineno-94-22" href="#__codelineno-94-22"></a><span class="w">              </span><span class="nt">&quot;mimeType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;image/png&quot;</span><span class="p">,</span>
</span><span id="__span-94-23"><a id="__codelineno-94-23" name="__codelineno-94-23" href="#__codelineno-94-23"></a><span class="w">              </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;base64-encoded-content&gt;&quot;</span>
</span><span id="__span-94-24"><a id="__codelineno-94-24" name="__codelineno-94-24" href="#__codelineno-94-24"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-94-25"><a id="__codelineno-94-25" name="__codelineno-94-25" href="#__codelineno-94-25"></a><span class="w">          </span><span class="p">}</span>
</span><span id="__span-94-26"><a id="__codelineno-94-26" name="__codelineno-94-26" href="#__codelineno-94-26"></a><span class="w">        </span><span class="p">],</span>
</span><span id="__span-94-27"><a id="__codelineno-94-27" name="__codelineno-94-27" href="#__codelineno-94-27"></a><span class="w">        </span><span class="nt">&quot;messageId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bbb7dee1-cf5c-4683-8a6f-4114529da5eb&quot;</span><span class="p">,</span>
</span><span id="__span-94-28"><a id="__codelineno-94-28" name="__codelineno-94-28" href="#__codelineno-94-28"></a><span class="w">        </span><span class="nt">&quot;taskId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;225d6247-06ba-4cda-a08b-33ae35c8dcfa&quot;</span><span class="p">,</span>
</span><span id="__span-94-29"><a id="__codelineno-94-29" name="__codelineno-94-29" href="#__codelineno-94-29"></a><span class="w">        </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;05217e44-7e9f-473e-ab4f-2c2dde50a2b1&quot;</span>
</span><span id="__span-94-30"><a id="__codelineno-94-30" name="__codelineno-94-30" href="#__codelineno-94-30"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-94-31"><a id="__codelineno-94-31" name="__codelineno-94-31" href="#__codelineno-94-31"></a><span class="w">    </span><span class="p">],</span>
</span><span id="__span-94-32"><a id="__codelineno-94-32" name="__codelineno-94-32" href="#__codelineno-94-32"></a><span class="w">    </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;task&quot;</span><span class="p">,</span>
</span><span id="__span-94-33"><a id="__codelineno-94-33" name="__codelineno-94-33" href="#__codelineno-94-33"></a><span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-94-34"><a id="__codelineno-94-34" name="__codelineno-94-34" href="#__codelineno-94-34"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-94-35"><a id="__codelineno-94-35" name="__codelineno-94-35" href="#__codelineno-94-35"></a><span class="p">}</span>
</span><span id="__span-94-36"><a id="__codelineno-94-36" name="__codelineno-94-36" href="#__codelineno-94-36"></a>
</span><span id="__span-94-37"><a id="__codelineno-94-37" name="__codelineno-94-37" href="#__codelineno-94-37"></a><span class="err">da</span><span class="kc">ta</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-94-38"><a id="__codelineno-94-38" name="__codelineno-94-38" href="#__codelineno-94-38"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-94-39"><a id="__codelineno-94-39" name="__codelineno-94-39" href="#__codelineno-94-39"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-94-40"><a id="__codelineno-94-40" name="__codelineno-94-40" href="#__codelineno-94-40"></a><span class="w">  </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-94-41"><a id="__codelineno-94-41" name="__codelineno-94-41" href="#__codelineno-94-41"></a><span class="w">    </span><span class="nt">&quot;taskId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;225d6247-06ba-4cda-a08b-33ae35c8dcfa&quot;</span><span class="p">,</span>
</span><span id="__span-94-42"><a id="__codelineno-94-42" name="__codelineno-94-42" href="#__codelineno-94-42"></a><span class="w">    </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;05217e44-7e9f-473e-ab4f-2c2dde50a2b1&quot;</span><span class="p">,</span>
</span><span id="__span-94-43"><a id="__codelineno-94-43" name="__codelineno-94-43" href="#__codelineno-94-43"></a><span class="w">    </span><span class="nt">&quot;artifact&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-94-44"><a id="__codelineno-94-44" name="__codelineno-94-44" href="#__codelineno-94-44"></a><span class="w">      </span><span class="nt">&quot;artifactId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;9b6934dd-37e3-4eb1-8766-962efaab63a1&quot;</span><span class="p">,</span>
</span><span id="__span-94-45"><a id="__codelineno-94-45" name="__codelineno-94-45" href="#__codelineno-94-45"></a><span class="w">      </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-94-46"><a id="__codelineno-94-46" name="__codelineno-94-46" href="#__codelineno-94-46"></a><span class="w">        </span><span class="p">{</span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;section 1...&gt;&quot;</span><span class="p">}</span>
</span><span id="__span-94-47"><a id="__codelineno-94-47" name="__codelineno-94-47" href="#__codelineno-94-47"></a><span class="w">      </span><span class="p">]</span>
</span><span id="__span-94-48"><a id="__codelineno-94-48" name="__codelineno-94-48" href="#__codelineno-94-48"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-94-49"><a id="__codelineno-94-49" name="__codelineno-94-49" href="#__codelineno-94-49"></a><span class="w">    </span><span class="nt">&quot;append&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
</span><span id="__span-94-50"><a id="__codelineno-94-50" name="__codelineno-94-50" href="#__codelineno-94-50"></a><span class="w">    </span><span class="nt">&quot;lastChunk&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
</span><span id="__span-94-51"><a id="__codelineno-94-51" name="__codelineno-94-51" href="#__codelineno-94-51"></a><span class="w">    </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="s2">&quot;artifact-update&quot;</span>
</span><span id="__span-94-52"><a id="__codelineno-94-52" name="__codelineno-94-52" href="#__codelineno-94-52"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-94-53"><a id="__codelineno-94-53" name="__codelineno-94-53" href="#__codelineno-94-53"></a><span class="p">}</span>
</span><span id="__span-94-54"><a id="__codelineno-94-54" name="__codelineno-94-54" href="#__codelineno-94-54"></a>
</span><span id="__span-94-55"><a id="__codelineno-94-55" name="__codelineno-94-55" href="#__codelineno-94-55"></a><span class="err">da</span><span class="kc">ta</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-94-56"><a id="__codelineno-94-56" name="__codelineno-94-56" href="#__codelineno-94-56"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-94-57"><a id="__codelineno-94-57" name="__codelineno-94-57" href="#__codelineno-94-57"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-94-58"><a id="__codelineno-94-58" name="__codelineno-94-58" href="#__codelineno-94-58"></a><span class="w">  </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-94-59"><a id="__codelineno-94-59" name="__codelineno-94-59" href="#__codelineno-94-59"></a><span class="w">    </span><span class="nt">&quot;taskId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;225d6247-06ba-4cda-a08b-33ae35c8dcfa&quot;</span><span class="p">,</span>
</span><span id="__span-94-60"><a id="__codelineno-94-60" name="__codelineno-94-60" href="#__codelineno-94-60"></a><span class="w">    </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;05217e44-7e9f-473e-ab4f-2c2dde50a2b1&quot;</span><span class="p">,</span>
</span><span id="__span-94-61"><a id="__codelineno-94-61" name="__codelineno-94-61" href="#__codelineno-94-61"></a><span class="w">    </span><span class="nt">&quot;artifact&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-94-62"><a id="__codelineno-94-62" name="__codelineno-94-62" href="#__codelineno-94-62"></a><span class="w">      </span><span class="nt">&quot;artifactId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;9b6934dd-37e3-4eb1-8766-962efaab63a1&quot;</span><span class="p">,</span>
</span><span id="__span-94-63"><a id="__codelineno-94-63" name="__codelineno-94-63" href="#__codelineno-94-63"></a><span class="w">      </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-94-64"><a id="__codelineno-94-64" name="__codelineno-94-64" href="#__codelineno-94-64"></a><span class="w">        </span><span class="p">{</span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;section 2...&gt;&quot;</span><span class="p">}</span>
</span><span id="__span-94-65"><a id="__codelineno-94-65" name="__codelineno-94-65" href="#__codelineno-94-65"></a><span class="w">      </span><span class="p">],</span>
</span><span id="__span-94-66"><a id="__codelineno-94-66" name="__codelineno-94-66" href="#__codelineno-94-66"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-94-67"><a id="__codelineno-94-67" name="__codelineno-94-67" href="#__codelineno-94-67"></a><span class="w">    </span><span class="nt">&quot;append&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-94-68"><a id="__codelineno-94-68" name="__codelineno-94-68" href="#__codelineno-94-68"></a><span class="w">    </span><span class="nt">&quot;lastChunk&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
</span><span id="__span-94-69"><a id="__codelineno-94-69" name="__codelineno-94-69" href="#__codelineno-94-69"></a><span class="w">    </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="s2">&quot;artifact-update&quot;</span>
</span><span id="__span-94-70"><a id="__codelineno-94-70" name="__codelineno-94-70" href="#__codelineno-94-70"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-94-71"><a id="__codelineno-94-71" name="__codelineno-94-71" href="#__codelineno-94-71"></a><span class="p">}</span>
</span><span id="__span-94-72"><a id="__codelineno-94-72" name="__codelineno-94-72" href="#__codelineno-94-72"></a>
</span><span id="__span-94-73"><a id="__codelineno-94-73" name="__codelineno-94-73" href="#__codelineno-94-73"></a>
</span><span id="__span-94-74"><a id="__codelineno-94-74" name="__codelineno-94-74" href="#__codelineno-94-74"></a><span class="err">da</span><span class="kc">ta</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-94-75"><a id="__codelineno-94-75" name="__codelineno-94-75" href="#__codelineno-94-75"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-94-76"><a id="__codelineno-94-76" name="__codelineno-94-76" href="#__codelineno-94-76"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-94-77"><a id="__codelineno-94-77" name="__codelineno-94-77" href="#__codelineno-94-77"></a><span class="w">  </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-94-78"><a id="__codelineno-94-78" name="__codelineno-94-78" href="#__codelineno-94-78"></a><span class="w">    </span><span class="nt">&quot;taskId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;225d6247-06ba-4cda-a08b-33ae35c8dcfa&quot;</span><span class="p">,</span>
</span><span id="__span-94-79"><a id="__codelineno-94-79" name="__codelineno-94-79" href="#__codelineno-94-79"></a><span class="w">    </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;05217e44-7e9f-473e-ab4f-2c2dde50a2b1&quot;</span><span class="p">,</span>
</span><span id="__span-94-80"><a id="__codelineno-94-80" name="__codelineno-94-80" href="#__codelineno-94-80"></a><span class="w">    </span><span class="nt">&quot;artifact&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-94-81"><a id="__codelineno-94-81" name="__codelineno-94-81" href="#__codelineno-94-81"></a><span class="w">      </span><span class="nt">&quot;artifactId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;9b6934dd-37e3-4eb1-8766-962efaab63a1&quot;</span><span class="p">,</span>
</span><span id="__span-94-82"><a id="__codelineno-94-82" name="__codelineno-94-82" href="#__codelineno-94-82"></a><span class="w">      </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-94-83"><a id="__codelineno-94-83" name="__codelineno-94-83" href="#__codelineno-94-83"></a><span class="w">        </span><span class="p">{</span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;section 3...&gt;&quot;</span><span class="p">}</span>
</span><span id="__span-94-84"><a id="__codelineno-94-84" name="__codelineno-94-84" href="#__codelineno-94-84"></a><span class="w">      </span><span class="p">]</span>
</span><span id="__span-94-85"><a id="__codelineno-94-85" name="__codelineno-94-85" href="#__codelineno-94-85"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-94-86"><a id="__codelineno-94-86" name="__codelineno-94-86" href="#__codelineno-94-86"></a><span class="w">    </span><span class="nt">&quot;append&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-94-87"><a id="__codelineno-94-87" name="__codelineno-94-87" href="#__codelineno-94-87"></a><span class="w">    </span><span class="nt">&quot;lastChunk&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-94-88"><a id="__codelineno-94-88" name="__codelineno-94-88" href="#__codelineno-94-88"></a><span class="w">    </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="s2">&quot;artifact-update&quot;</span>
</span><span id="__span-94-89"><a id="__codelineno-94-89" name="__codelineno-94-89" href="#__codelineno-94-89"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-94-90"><a id="__codelineno-94-90" name="__codelineno-94-90" href="#__codelineno-94-90"></a><span class="p">}</span>
</span><span id="__span-94-91"><a id="__codelineno-94-91" name="__codelineno-94-91" href="#__codelineno-94-91"></a>
</span><span id="__span-94-92"><a id="__codelineno-94-92" name="__codelineno-94-92" href="#__codelineno-94-92"></a><span class="err">da</span><span class="kc">ta</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-94-93"><a id="__codelineno-94-93" name="__codelineno-94-93" href="#__codelineno-94-93"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-94-94"><a id="__codelineno-94-94" name="__codelineno-94-94" href="#__codelineno-94-94"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-94-95"><a id="__codelineno-94-95" name="__codelineno-94-95" href="#__codelineno-94-95"></a><span class="w">  </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-94-96"><a id="__codelineno-94-96" name="__codelineno-94-96" href="#__codelineno-94-96"></a><span class="w">    </span><span class="nt">&quot;taskId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;225d6247-06ba-4cda-a08b-33ae35c8dcfa&quot;</span><span class="p">,</span>
</span><span id="__span-94-97"><a id="__codelineno-94-97" name="__codelineno-94-97" href="#__codelineno-94-97"></a><span class="w">    </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;05217e44-7e9f-473e-ab4f-2c2dde50a2b1&quot;</span><span class="p">,</span>
</span><span id="__span-94-98"><a id="__codelineno-94-98" name="__codelineno-94-98" href="#__codelineno-94-98"></a><span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-94-99"><a id="__codelineno-94-99" name="__codelineno-94-99" href="#__codelineno-94-99"></a><span class="w">      </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
</span><span id="__span-94-100"><a id="__codelineno-94-100" name="__codelineno-94-100" href="#__codelineno-94-100"></a><span class="w">      </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="s2">&quot;2025-04-02T16:59:35.331844&quot;</span>
</span><span id="__span-94-101"><a id="__codelineno-94-101" name="__codelineno-94-101" href="#__codelineno-94-101"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-94-102"><a id="__codelineno-94-102" name="__codelineno-94-102" href="#__codelineno-94-102"></a><span class="w">    </span><span class="nt">&quot;final&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-94-103"><a id="__codelineno-94-103" name="__codelineno-94-103" href="#__codelineno-94-103"></a><span class="w">    </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="s2">&quot;status-update&quot;</span>
</span><span id="__span-94-104"><a id="__codelineno-94-104" name="__codelineno-94-104" href="#__codelineno-94-104"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-94-105"><a id="__codelineno-94-105" name="__codelineno-94-105" href="#__codelineno-94-105"></a><span class="p">}</span>
</span></code></pre></div>
<p><em>(Server closes the SSE connection after the <code>final:true</code> event).</em></p>
<h3 id="94-multi-turn-interaction-input-required">9.4. Multi-Turn Interaction (Input Required)<a class="headerlink" href="#94-multi-turn-interaction-input-required" title="Permanent link">&para;</a></h3>
<p><strong>Scenario:</strong> Client wants to book a flight, and the agent needs more information.</p>
<ol>
<li><strong>Client sends a message using <code>message/send</code>:</strong></li>
</ol>
<div class="language-json highlight"><pre><span></span><code><span id="__span-95-1"><a id="__codelineno-95-1" name="__codelineno-95-1" href="#__codelineno-95-1"></a><span class="p">{</span>
</span><span id="__span-95-2"><a id="__codelineno-95-2" name="__codelineno-95-2" href="#__codelineno-95-2"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-95-3"><a id="__codelineno-95-3" name="__codelineno-95-3" href="#__codelineno-95-3"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;req-003&quot;</span><span class="p">,</span>
</span><span id="__span-95-4"><a id="__codelineno-95-4" name="__codelineno-95-4" href="#__codelineno-95-4"></a><span class="w">  </span><span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;message/send&quot;</span><span class="p">,</span>
</span><span id="__span-95-5"><a id="__codelineno-95-5" name="__codelineno-95-5" href="#__codelineno-95-5"></a><span class="w">  </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-95-6"><a id="__codelineno-95-6" name="__codelineno-95-6" href="#__codelineno-95-6"></a><span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-95-7"><a id="__codelineno-95-7" name="__codelineno-95-7" href="#__codelineno-95-7"></a><span class="w">      </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
</span><span id="__span-95-8"><a id="__codelineno-95-8" name="__codelineno-95-8" href="#__codelineno-95-8"></a><span class="w">      </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;I&#39;d like to book a flight.&quot;</span><span class="w"> </span><span class="p">}]</span>
</span><span id="__span-95-9"><a id="__codelineno-95-9" name="__codelineno-95-9" href="#__codelineno-95-9"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-95-10"><a id="__codelineno-95-10" name="__codelineno-95-10" href="#__codelineno-95-10"></a><span class="w">    </span><span class="nt">&quot;messageId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c53ba666-3f97-433c-a87b-6084276babe2&quot;</span>
</span><span id="__span-95-11"><a id="__codelineno-95-11" name="__codelineno-95-11" href="#__codelineno-95-11"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-95-12"><a id="__codelineno-95-12" name="__codelineno-95-12" href="#__codelineno-95-12"></a><span class="p">}</span>
</span></code></pre></div>
<ol>
<li><strong>Server responds, task state is <code>input-required</code>:</strong></li>
</ol>
<div class="language-json highlight"><pre><span></span><code><span id="__span-96-1"><a id="__codelineno-96-1" name="__codelineno-96-1" href="#__codelineno-96-1"></a><span class="p">{</span>
</span><span id="__span-96-2"><a id="__codelineno-96-2" name="__codelineno-96-2" href="#__codelineno-96-2"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-96-3"><a id="__codelineno-96-3" name="__codelineno-96-3" href="#__codelineno-96-3"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;req-003&quot;</span><span class="p">,</span>
</span><span id="__span-96-4"><a id="__codelineno-96-4" name="__codelineno-96-4" href="#__codelineno-96-4"></a><span class="w">  </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-96-5"><a id="__codelineno-96-5" name="__codelineno-96-5" href="#__codelineno-96-5"></a><span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3f36680c-7f37-4a5f-945e-d78981fafd36&quot;</span><span class="p">,</span>
</span><span id="__span-96-6"><a id="__codelineno-96-6" name="__codelineno-96-6" href="#__codelineno-96-6"></a><span class="w">    </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c295ea44-7543-4f78-b524-7a38915ad6e4&quot;</span><span class="p">,</span>
</span><span id="__span-96-7"><a id="__codelineno-96-7" name="__codelineno-96-7" href="#__codelineno-96-7"></a><span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-96-8"><a id="__codelineno-96-8" name="__codelineno-96-8" href="#__codelineno-96-8"></a><span class="w">      </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;input-required&quot;</span><span class="p">,</span>
</span><span id="__span-96-9"><a id="__codelineno-96-9" name="__codelineno-96-9" href="#__codelineno-96-9"></a><span class="w">      </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-96-10"><a id="__codelineno-96-10" name="__codelineno-96-10" href="#__codelineno-96-10"></a><span class="w">        </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;agent&quot;</span><span class="p">,</span>
</span><span id="__span-96-11"><a id="__codelineno-96-11" name="__codelineno-96-11" href="#__codelineno-96-11"></a><span class="w">        </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-96-12"><a id="__codelineno-96-12" name="__codelineno-96-12" href="#__codelineno-96-12"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-96-13"><a id="__codelineno-96-13" name="__codelineno-96-13" href="#__codelineno-96-13"></a><span class="w">            </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-96-14"><a id="__codelineno-96-14" name="__codelineno-96-14" href="#__codelineno-96-14"></a><span class="w">            </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sure, I can help with that! Where would you like to fly to, and from where? Also, what are your preferred travel dates?&quot;</span>
</span><span id="__span-96-15"><a id="__codelineno-96-15" name="__codelineno-96-15" href="#__codelineno-96-15"></a><span class="w">          </span><span class="p">}</span>
</span><span id="__span-96-16"><a id="__codelineno-96-16" name="__codelineno-96-16" href="#__codelineno-96-16"></a><span class="w">        </span><span class="p">],</span>
</span><span id="__span-96-17"><a id="__codelineno-96-17" name="__codelineno-96-17" href="#__codelineno-96-17"></a><span class="w">        </span><span class="nt">&quot;messageId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c2e1b2dd-f200-4b04-bc22-1b0c65a1aad2&quot;</span><span class="p">,</span>
</span><span id="__span-96-18"><a id="__codelineno-96-18" name="__codelineno-96-18" href="#__codelineno-96-18"></a><span class="w">        </span><span class="nt">&quot;taskId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3f36680c-7f37-4a5f-945e-d78981fafd36&quot;</span><span class="p">,</span>
</span><span id="__span-96-19"><a id="__codelineno-96-19" name="__codelineno-96-19" href="#__codelineno-96-19"></a><span class="w">        </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c295ea44-7543-4f78-b524-7a38915ad6e4&quot;</span>
</span><span id="__span-96-20"><a id="__codelineno-96-20" name="__codelineno-96-20" href="#__codelineno-96-20"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-96-21"><a id="__codelineno-96-21" name="__codelineno-96-21" href="#__codelineno-96-21"></a><span class="w">      </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-03-15T10:10:00Z&quot;</span>
</span><span id="__span-96-22"><a id="__codelineno-96-22" name="__codelineno-96-22" href="#__codelineno-96-22"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-96-23"><a id="__codelineno-96-23" name="__codelineno-96-23" href="#__codelineno-96-23"></a><span class="w">    </span><span class="nt">&quot;history&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-96-24"><a id="__codelineno-96-24" name="__codelineno-96-24" href="#__codelineno-96-24"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-96-25"><a id="__codelineno-96-25" name="__codelineno-96-25" href="#__codelineno-96-25"></a><span class="w">        </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
</span><span id="__span-96-26"><a id="__codelineno-96-26" name="__codelineno-96-26" href="#__codelineno-96-26"></a><span class="w">        </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-96-27"><a id="__codelineno-96-27" name="__codelineno-96-27" href="#__codelineno-96-27"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-96-28"><a id="__codelineno-96-28" name="__codelineno-96-28" href="#__codelineno-96-28"></a><span class="w">            </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-96-29"><a id="__codelineno-96-29" name="__codelineno-96-29" href="#__codelineno-96-29"></a><span class="w">            </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;I&#39;d like to book a flight.&quot;</span>
</span><span id="__span-96-30"><a id="__codelineno-96-30" name="__codelineno-96-30" href="#__codelineno-96-30"></a><span class="w">          </span><span class="p">}</span>
</span><span id="__span-96-31"><a id="__codelineno-96-31" name="__codelineno-96-31" href="#__codelineno-96-31"></a><span class="w">        </span><span class="p">],</span>
</span><span id="__span-96-32"><a id="__codelineno-96-32" name="__codelineno-96-32" href="#__codelineno-96-32"></a><span class="w">        </span><span class="nt">&quot;messageId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c53ba666-3f97-433c-a87b-6084276babe2&quot;</span><span class="p">,</span>
</span><span id="__span-96-33"><a id="__codelineno-96-33" name="__codelineno-96-33" href="#__codelineno-96-33"></a><span class="w">        </span><span class="nt">&quot;taskId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3f36680c-7f37-4a5f-945e-d78981fafd36&quot;</span><span class="p">,</span>
</span><span id="__span-96-34"><a id="__codelineno-96-34" name="__codelineno-96-34" href="#__codelineno-96-34"></a><span class="w">        </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c295ea44-7543-4f78-b524-7a38915ad6e4&quot;</span>
</span><span id="__span-96-35"><a id="__codelineno-96-35" name="__codelineno-96-35" href="#__codelineno-96-35"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-96-36"><a id="__codelineno-96-36" name="__codelineno-96-36" href="#__codelineno-96-36"></a><span class="w">    </span><span class="p">],</span>
</span><span id="__span-96-37"><a id="__codelineno-96-37" name="__codelineno-96-37" href="#__codelineno-96-37"></a><span class="w">    </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;task&quot;</span>
</span><span id="__span-96-38"><a id="__codelineno-96-38" name="__codelineno-96-38" href="#__codelineno-96-38"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-96-39"><a id="__codelineno-96-39" name="__codelineno-96-39" href="#__codelineno-96-39"></a><span class="p">}</span>
</span></code></pre></div>
<ol>
<li><strong>Client <code>message/send</code> (providing the requested input, using the <em>same</em> task ID):</strong></li>
</ol>
<div class="language-json highlight"><pre><span></span><code><span id="__span-97-1"><a id="__codelineno-97-1" name="__codelineno-97-1" href="#__codelineno-97-1"></a><span class="p">{</span>
</span><span id="__span-97-2"><a id="__codelineno-97-2" name="__codelineno-97-2" href="#__codelineno-97-2"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-97-3"><a id="__codelineno-97-3" name="__codelineno-97-3" href="#__codelineno-97-3"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;req-004&quot;</span><span class="p">,</span>
</span><span id="__span-97-4"><a id="__codelineno-97-4" name="__codelineno-97-4" href="#__codelineno-97-4"></a><span class="w">  </span><span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;message/send&quot;</span><span class="p">,</span>
</span><span id="__span-97-5"><a id="__codelineno-97-5" name="__codelineno-97-5" href="#__codelineno-97-5"></a><span class="w">  </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-97-6"><a id="__codelineno-97-6" name="__codelineno-97-6" href="#__codelineno-97-6"></a><span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-97-7"><a id="__codelineno-97-7" name="__codelineno-97-7" href="#__codelineno-97-7"></a><span class="w">      </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
</span><span id="__span-97-8"><a id="__codelineno-97-8" name="__codelineno-97-8" href="#__codelineno-97-8"></a><span class="w">      </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-97-9"><a id="__codelineno-97-9" name="__codelineno-97-9" href="#__codelineno-97-9"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-97-10"><a id="__codelineno-97-10" name="__codelineno-97-10" href="#__codelineno-97-10"></a><span class="w">          </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-97-11"><a id="__codelineno-97-11" name="__codelineno-97-11" href="#__codelineno-97-11"></a><span class="w">          </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;I want to fly from New York (JFK) to London (LHR) around October 10th, returning October 17th.&quot;</span>
</span><span id="__span-97-12"><a id="__codelineno-97-12" name="__codelineno-97-12" href="#__codelineno-97-12"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-97-13"><a id="__codelineno-97-13" name="__codelineno-97-13" href="#__codelineno-97-13"></a><span class="w">      </span><span class="p">],</span>
</span><span id="__span-97-14"><a id="__codelineno-97-14" name="__codelineno-97-14" href="#__codelineno-97-14"></a><span class="w">      </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c295ea44-7543-4f78-b524-7a38915ad6e4&quot;</span><span class="p">,</span>
</span><span id="__span-97-15"><a id="__codelineno-97-15" name="__codelineno-97-15" href="#__codelineno-97-15"></a><span class="w">      </span><span class="nt">&quot;taskId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3f36680c-7f37-4a5f-945e-d78981fafd36&quot;</span><span class="p">,</span>
</span><span id="__span-97-16"><a id="__codelineno-97-16" name="__codelineno-97-16" href="#__codelineno-97-16"></a><span class="w">      </span><span class="nt">&quot;messageId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0db1d6c4-3976-40ed-b9b8-0043ea7a03d3&quot;</span>
</span><span id="__span-97-17"><a id="__codelineno-97-17" name="__codelineno-97-17" href="#__codelineno-97-17"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-97-18"><a id="__codelineno-97-18" name="__codelineno-97-18" href="#__codelineno-97-18"></a><span class="w">    </span><span class="nt">&quot;configuration&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-97-19"><a id="__codelineno-97-19" name="__codelineno-97-19" href="#__codelineno-97-19"></a><span class="w">      </span><span class="nt">&quot;blocking&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-97-20"><a id="__codelineno-97-20" name="__codelineno-97-20" href="#__codelineno-97-20"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-97-21"><a id="__codelineno-97-21" name="__codelineno-97-21" href="#__codelineno-97-21"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-97-22"><a id="__codelineno-97-22" name="__codelineno-97-22" href="#__codelineno-97-22"></a><span class="p">}</span>
</span></code></pre></div>
<ol>
<li><strong>Server processes the new input and responds (e.g., task completed or more input needed):</strong></li>
</ol>
<div class="language-json highlight"><pre><span></span><code><span id="__span-98-1"><a id="__codelineno-98-1" name="__codelineno-98-1" href="#__codelineno-98-1"></a><span class="p">{</span>
</span><span id="__span-98-2"><a id="__codelineno-98-2" name="__codelineno-98-2" href="#__codelineno-98-2"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-98-3"><a id="__codelineno-98-3" name="__codelineno-98-3" href="#__codelineno-98-3"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;req-004&quot;</span><span class="p">,</span>
</span><span id="__span-98-4"><a id="__codelineno-98-4" name="__codelineno-98-4" href="#__codelineno-98-4"></a><span class="w">  </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-98-5"><a id="__codelineno-98-5" name="__codelineno-98-5" href="#__codelineno-98-5"></a><span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3f36680c-7f37-4a5f-945e-d78981fafd36&quot;</span><span class="p">,</span>
</span><span id="__span-98-6"><a id="__codelineno-98-6" name="__codelineno-98-6" href="#__codelineno-98-6"></a><span class="w">    </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c295ea44-7543-4f78-b524-7a38915ad6e4&quot;</span><span class="p">,</span>
</span><span id="__span-98-7"><a id="__codelineno-98-7" name="__codelineno-98-7" href="#__codelineno-98-7"></a><span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-98-8"><a id="__codelineno-98-8" name="__codelineno-98-8" href="#__codelineno-98-8"></a><span class="w">      </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
</span><span id="__span-98-9"><a id="__codelineno-98-9" name="__codelineno-98-9" href="#__codelineno-98-9"></a><span class="w">      </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-98-10"><a id="__codelineno-98-10" name="__codelineno-98-10" href="#__codelineno-98-10"></a><span class="w">        </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;agent&quot;</span><span class="p">,</span>
</span><span id="__span-98-11"><a id="__codelineno-98-11" name="__codelineno-98-11" href="#__codelineno-98-11"></a><span class="w">        </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-98-12"><a id="__codelineno-98-12" name="__codelineno-98-12" href="#__codelineno-98-12"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-98-13"><a id="__codelineno-98-13" name="__codelineno-98-13" href="#__codelineno-98-13"></a><span class="w">            </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-98-14"><a id="__codelineno-98-14" name="__codelineno-98-14" href="#__codelineno-98-14"></a><span class="w">            </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Okay, I&#39;ve found a flight for you. Confirmation XYZ123. Details are in the artifact.&quot;</span>
</span><span id="__span-98-15"><a id="__codelineno-98-15" name="__codelineno-98-15" href="#__codelineno-98-15"></a><span class="w">          </span><span class="p">}</span>
</span><span id="__span-98-16"><a id="__codelineno-98-16" name="__codelineno-98-16" href="#__codelineno-98-16"></a><span class="w">        </span><span class="p">]</span>
</span><span id="__span-98-17"><a id="__codelineno-98-17" name="__codelineno-98-17" href="#__codelineno-98-17"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-98-18"><a id="__codelineno-98-18" name="__codelineno-98-18" href="#__codelineno-98-18"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-98-19"><a id="__codelineno-98-19" name="__codelineno-98-19" href="#__codelineno-98-19"></a><span class="w">    </span><span class="nt">&quot;artifacts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-98-20"><a id="__codelineno-98-20" name="__codelineno-98-20" href="#__codelineno-98-20"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-98-21"><a id="__codelineno-98-21" name="__codelineno-98-21" href="#__codelineno-98-21"></a><span class="w">        </span><span class="nt">&quot;artifactId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;9b6934dd-37e3-4eb1-8766-962efaab63a1&quot;</span><span class="p">,</span>
</span><span id="__span-98-22"><a id="__codelineno-98-22" name="__codelineno-98-22" href="#__codelineno-98-22"></a><span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;FlightItinerary.json&quot;</span><span class="p">,</span>
</span><span id="__span-98-23"><a id="__codelineno-98-23" name="__codelineno-98-23" href="#__codelineno-98-23"></a><span class="w">        </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-98-24"><a id="__codelineno-98-24" name="__codelineno-98-24" href="#__codelineno-98-24"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-98-25"><a id="__codelineno-98-25" name="__codelineno-98-25" href="#__codelineno-98-25"></a><span class="w">            </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;data&quot;</span><span class="p">,</span>
</span><span id="__span-98-26"><a id="__codelineno-98-26" name="__codelineno-98-26" href="#__codelineno-98-26"></a><span class="w">            </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-98-27"><a id="__codelineno-98-27" name="__codelineno-98-27" href="#__codelineno-98-27"></a><span class="w">              </span><span class="nt">&quot;confirmationId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;XYZ123&quot;</span><span class="p">,</span>
</span><span id="__span-98-28"><a id="__codelineno-98-28" name="__codelineno-98-28" href="#__codelineno-98-28"></a><span class="w">              </span><span class="nt">&quot;from&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JFK&quot;</span><span class="p">,</span>
</span><span id="__span-98-29"><a id="__codelineno-98-29" name="__codelineno-98-29" href="#__codelineno-98-29"></a><span class="w">              </span><span class="nt">&quot;to&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;LHR&quot;</span><span class="p">,</span>
</span><span id="__span-98-30"><a id="__codelineno-98-30" name="__codelineno-98-30" href="#__codelineno-98-30"></a><span class="w">              </span><span class="nt">&quot;departure&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-10T18:00:00Z&quot;</span><span class="p">,</span>
</span><span id="__span-98-31"><a id="__codelineno-98-31" name="__codelineno-98-31" href="#__codelineno-98-31"></a><span class="w">              </span><span class="nt">&quot;arrival&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-11T06:00:00Z&quot;</span><span class="p">,</span>
</span><span id="__span-98-32"><a id="__codelineno-98-32" name="__codelineno-98-32" href="#__codelineno-98-32"></a><span class="w">              </span><span class="nt">&quot;returnDeparture&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span>
</span><span id="__span-98-33"><a id="__codelineno-98-33" name="__codelineno-98-33" href="#__codelineno-98-33"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-98-34"><a id="__codelineno-98-34" name="__codelineno-98-34" href="#__codelineno-98-34"></a><span class="w">          </span><span class="p">}</span>
</span><span id="__span-98-35"><a id="__codelineno-98-35" name="__codelineno-98-35" href="#__codelineno-98-35"></a><span class="w">        </span><span class="p">]</span>
</span><span id="__span-98-36"><a id="__codelineno-98-36" name="__codelineno-98-36" href="#__codelineno-98-36"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-98-37"><a id="__codelineno-98-37" name="__codelineno-98-37" href="#__codelineno-98-37"></a><span class="w">    </span><span class="p">],</span>
</span><span id="__span-98-38"><a id="__codelineno-98-38" name="__codelineno-98-38" href="#__codelineno-98-38"></a><span class="w">    </span><span class="nt">&quot;history&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-98-39"><a id="__codelineno-98-39" name="__codelineno-98-39" href="#__codelineno-98-39"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-98-40"><a id="__codelineno-98-40" name="__codelineno-98-40" href="#__codelineno-98-40"></a><span class="w">        </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
</span><span id="__span-98-41"><a id="__codelineno-98-41" name="__codelineno-98-41" href="#__codelineno-98-41"></a><span class="w">        </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-98-42"><a id="__codelineno-98-42" name="__codelineno-98-42" href="#__codelineno-98-42"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-98-43"><a id="__codelineno-98-43" name="__codelineno-98-43" href="#__codelineno-98-43"></a><span class="w">            </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-98-44"><a id="__codelineno-98-44" name="__codelineno-98-44" href="#__codelineno-98-44"></a><span class="w">            </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;I&#39;d like to book a flight.&quot;</span>
</span><span id="__span-98-45"><a id="__codelineno-98-45" name="__codelineno-98-45" href="#__codelineno-98-45"></a><span class="w">          </span><span class="p">}</span>
</span><span id="__span-98-46"><a id="__codelineno-98-46" name="__codelineno-98-46" href="#__codelineno-98-46"></a><span class="w">        </span><span class="p">],</span>
</span><span id="__span-98-47"><a id="__codelineno-98-47" name="__codelineno-98-47" href="#__codelineno-98-47"></a><span class="w">        </span><span class="nt">&quot;messageId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c53ba666-3f97-433c-a87b-6084276babe2&quot;</span><span class="p">,</span>
</span><span id="__span-98-48"><a id="__codelineno-98-48" name="__codelineno-98-48" href="#__codelineno-98-48"></a><span class="w">        </span><span class="nt">&quot;taskId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3f36680c-7f37-4a5f-945e-d78981fafd36&quot;</span><span class="p">,</span>
</span><span id="__span-98-49"><a id="__codelineno-98-49" name="__codelineno-98-49" href="#__codelineno-98-49"></a><span class="w">        </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c295ea44-7543-4f78-b524-7a38915ad6e4&quot;</span>
</span><span id="__span-98-50"><a id="__codelineno-98-50" name="__codelineno-98-50" href="#__codelineno-98-50"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-98-51"><a id="__codelineno-98-51" name="__codelineno-98-51" href="#__codelineno-98-51"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-98-52"><a id="__codelineno-98-52" name="__codelineno-98-52" href="#__codelineno-98-52"></a><span class="w">        </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;agent&quot;</span><span class="p">,</span>
</span><span id="__span-98-53"><a id="__codelineno-98-53" name="__codelineno-98-53" href="#__codelineno-98-53"></a><span class="w">        </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-98-54"><a id="__codelineno-98-54" name="__codelineno-98-54" href="#__codelineno-98-54"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-98-55"><a id="__codelineno-98-55" name="__codelineno-98-55" href="#__codelineno-98-55"></a><span class="w">            </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-98-56"><a id="__codelineno-98-56" name="__codelineno-98-56" href="#__codelineno-98-56"></a><span class="w">            </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sure, I can help with that! Where would you like to fly to, and from where? Also, what are your preferred travel dates?&quot;</span>
</span><span id="__span-98-57"><a id="__codelineno-98-57" name="__codelineno-98-57" href="#__codelineno-98-57"></a><span class="w">          </span><span class="p">}</span>
</span><span id="__span-98-58"><a id="__codelineno-98-58" name="__codelineno-98-58" href="#__codelineno-98-58"></a><span class="w">        </span><span class="p">],</span>
</span><span id="__span-98-59"><a id="__codelineno-98-59" name="__codelineno-98-59" href="#__codelineno-98-59"></a><span class="w">        </span><span class="nt">&quot;messageId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c2e1b2dd-f200-4b04-bc22-1b0c65a1aad2&quot;</span><span class="p">,</span>
</span><span id="__span-98-60"><a id="__codelineno-98-60" name="__codelineno-98-60" href="#__codelineno-98-60"></a><span class="w">        </span><span class="nt">&quot;taskId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3f36680c-7f37-4a5f-945e-d78981fafd36&quot;</span><span class="p">,</span>
</span><span id="__span-98-61"><a id="__codelineno-98-61" name="__codelineno-98-61" href="#__codelineno-98-61"></a><span class="w">        </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c295ea44-7543-4f78-b524-7a38915ad6e4&quot;</span>
</span><span id="__span-98-62"><a id="__codelineno-98-62" name="__codelineno-98-62" href="#__codelineno-98-62"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-98-63"><a id="__codelineno-98-63" name="__codelineno-98-63" href="#__codelineno-98-63"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-98-64"><a id="__codelineno-98-64" name="__codelineno-98-64" href="#__codelineno-98-64"></a><span class="w">        </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
</span><span id="__span-98-65"><a id="__codelineno-98-65" name="__codelineno-98-65" href="#__codelineno-98-65"></a><span class="w">        </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-98-66"><a id="__codelineno-98-66" name="__codelineno-98-66" href="#__codelineno-98-66"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-98-67"><a id="__codelineno-98-67" name="__codelineno-98-67" href="#__codelineno-98-67"></a><span class="w">            </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-98-68"><a id="__codelineno-98-68" name="__codelineno-98-68" href="#__codelineno-98-68"></a><span class="w">            </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;I want to fly from New York (JFK) to London (LHR) around October 10th, returning October 17th.&quot;</span>
</span><span id="__span-98-69"><a id="__codelineno-98-69" name="__codelineno-98-69" href="#__codelineno-98-69"></a><span class="w">          </span><span class="p">}</span>
</span><span id="__span-98-70"><a id="__codelineno-98-70" name="__codelineno-98-70" href="#__codelineno-98-70"></a><span class="w">        </span><span class="p">],</span>
</span><span id="__span-98-71"><a id="__codelineno-98-71" name="__codelineno-98-71" href="#__codelineno-98-71"></a><span class="w">        </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c295ea44-7543-4f78-b524-7a38915ad6e4&quot;</span><span class="p">,</span>
</span><span id="__span-98-72"><a id="__codelineno-98-72" name="__codelineno-98-72" href="#__codelineno-98-72"></a><span class="w">        </span><span class="nt">&quot;taskId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3f36680c-7f37-4a5f-945e-d78981fafd36&quot;</span><span class="p">,</span>
</span><span id="__span-98-73"><a id="__codelineno-98-73" name="__codelineno-98-73" href="#__codelineno-98-73"></a><span class="w">        </span><span class="nt">&quot;messageId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0db1d6c4-3976-40ed-b9b8-0043ea7a03d3&quot;</span>
</span><span id="__span-98-74"><a id="__codelineno-98-74" name="__codelineno-98-74" href="#__codelineno-98-74"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-98-75"><a id="__codelineno-98-75" name="__codelineno-98-75" href="#__codelineno-98-75"></a><span class="w">    </span><span class="p">],</span>
</span><span id="__span-98-76"><a id="__codelineno-98-76" name="__codelineno-98-76" href="#__codelineno-98-76"></a><span class="w">    </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;task&quot;</span><span class="p">,</span>
</span><span id="__span-98-77"><a id="__codelineno-98-77" name="__codelineno-98-77" href="#__codelineno-98-77"></a><span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-98-78"><a id="__codelineno-98-78" name="__codelineno-98-78" href="#__codelineno-98-78"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-98-79"><a id="__codelineno-98-79" name="__codelineno-98-79" href="#__codelineno-98-79"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="95-push-notification-setup-and-usage">9.5. Push Notification Setup and Usage<a class="headerlink" href="#95-push-notification-setup-and-usage" title="Permanent link">&para;</a></h3>
<p><strong>Scenario:</strong> Client requests a long-running report generation and wants to be notified via webhook when it's done.</p>
<ol>
<li><strong>Client <code>message/send</code> with <code>pushNotification</code> config:</strong></li>
</ol>
<div class="language-json highlight"><pre><span></span><code><span id="__span-99-1"><a id="__codelineno-99-1" name="__codelineno-99-1" href="#__codelineno-99-1"></a><span class="p">{</span>
</span><span id="__span-99-2"><a id="__codelineno-99-2" name="__codelineno-99-2" href="#__codelineno-99-2"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-99-3"><a id="__codelineno-99-3" name="__codelineno-99-3" href="#__codelineno-99-3"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;req-005&quot;</span><span class="p">,</span>
</span><span id="__span-99-4"><a id="__codelineno-99-4" name="__codelineno-99-4" href="#__codelineno-99-4"></a><span class="w">  </span><span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;message/send&quot;</span><span class="p">,</span>
</span><span id="__span-99-5"><a id="__codelineno-99-5" name="__codelineno-99-5" href="#__codelineno-99-5"></a><span class="w">  </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-99-6"><a id="__codelineno-99-6" name="__codelineno-99-6" href="#__codelineno-99-6"></a><span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-99-7"><a id="__codelineno-99-7" name="__codelineno-99-7" href="#__codelineno-99-7"></a><span class="w">      </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
</span><span id="__span-99-8"><a id="__codelineno-99-8" name="__codelineno-99-8" href="#__codelineno-99-8"></a><span class="w">      </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-99-9"><a id="__codelineno-99-9" name="__codelineno-99-9" href="#__codelineno-99-9"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-99-10"><a id="__codelineno-99-10" name="__codelineno-99-10" href="#__codelineno-99-10"></a><span class="w">          </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-99-11"><a id="__codelineno-99-11" name="__codelineno-99-11" href="#__codelineno-99-11"></a><span class="w">          </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Generate the Q1 sales report. This usually takes a while. Notify me when it&#39;s ready.&quot;</span>
</span><span id="__span-99-12"><a id="__codelineno-99-12" name="__codelineno-99-12" href="#__codelineno-99-12"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-99-13"><a id="__codelineno-99-13" name="__codelineno-99-13" href="#__codelineno-99-13"></a><span class="w">      </span><span class="p">],</span>
</span><span id="__span-99-14"><a id="__codelineno-99-14" name="__codelineno-99-14" href="#__codelineno-99-14"></a><span class="w">      </span><span class="nt">&quot;messageId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;6dbc13b5-bd57-4c2b-b503-24e381b6c8d6&quot;</span>
</span><span id="__span-99-15"><a id="__codelineno-99-15" name="__codelineno-99-15" href="#__codelineno-99-15"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-99-16"><a id="__codelineno-99-16" name="__codelineno-99-16" href="#__codelineno-99-16"></a><span class="w">    </span><span class="nt">&quot;configuration&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-99-17"><a id="__codelineno-99-17" name="__codelineno-99-17" href="#__codelineno-99-17"></a><span class="w">      </span><span class="nt">&quot;pushNotificationConfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-99-18"><a id="__codelineno-99-18" name="__codelineno-99-18" href="#__codelineno-99-18"></a><span class="w">        </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://client.example.com/webhook/a2a-notifications&quot;</span><span class="p">,</span>
</span><span id="__span-99-19"><a id="__codelineno-99-19" name="__codelineno-99-19" href="#__codelineno-99-19"></a><span class="w">        </span><span class="nt">&quot;token&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;secure-client-token-for-task-aaa&quot;</span><span class="p">,</span>
</span><span id="__span-99-20"><a id="__codelineno-99-20" name="__codelineno-99-20" href="#__codelineno-99-20"></a><span class="w">        </span><span class="nt">&quot;authentication&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-99-21"><a id="__codelineno-99-21" name="__codelineno-99-21" href="#__codelineno-99-21"></a><span class="w">          </span><span class="nt">&quot;schemes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Bearer&quot;</span><span class="p">]</span>
</span><span id="__span-99-22"><a id="__codelineno-99-22" name="__codelineno-99-22" href="#__codelineno-99-22"></a><span class="w">          </span><span class="c1">// Assuming server knows how to get a Bearer token for this webhook audience,</span>
</span><span id="__span-99-23"><a id="__codelineno-99-23" name="__codelineno-99-23" href="#__codelineno-99-23"></a><span class="w">          </span><span class="c1">// or this implies the webhook is public/uses the &#39;token&#39; for auth.</span>
</span><span id="__span-99-24"><a id="__codelineno-99-24" name="__codelineno-99-24" href="#__codelineno-99-24"></a><span class="w">          </span><span class="c1">// &#39;credentials&#39; could provide more specifics if needed by the server.</span>
</span><span id="__span-99-25"><a id="__codelineno-99-25" name="__codelineno-99-25" href="#__codelineno-99-25"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-99-26"><a id="__codelineno-99-26" name="__codelineno-99-26" href="#__codelineno-99-26"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-99-27"><a id="__codelineno-99-27" name="__codelineno-99-27" href="#__codelineno-99-27"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-99-28"><a id="__codelineno-99-28" name="__codelineno-99-28" href="#__codelineno-99-28"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-99-29"><a id="__codelineno-99-29" name="__codelineno-99-29" href="#__codelineno-99-29"></a><span class="p">}</span>
</span></code></pre></div>
<ol>
<li><strong>Server acknowledges the task (e.g., status <code>submitted</code> or <code>working</code>):</strong></li>
</ol>
<div class="language-json highlight"><pre><span></span><code><span id="__span-100-1"><a id="__codelineno-100-1" name="__codelineno-100-1" href="#__codelineno-100-1"></a><span class="p">{</span>
</span><span id="__span-100-2"><a id="__codelineno-100-2" name="__codelineno-100-2" href="#__codelineno-100-2"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-100-3"><a id="__codelineno-100-3" name="__codelineno-100-3" href="#__codelineno-100-3"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;req-005&quot;</span><span class="p">,</span>
</span><span id="__span-100-4"><a id="__codelineno-100-4" name="__codelineno-100-4" href="#__codelineno-100-4"></a><span class="w">  </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-100-5"><a id="__codelineno-100-5" name="__codelineno-100-5" href="#__codelineno-100-5"></a><span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;43667960-d455-4453-b0cf-1bae4955270d&quot;</span><span class="p">,</span>
</span><span id="__span-100-6"><a id="__codelineno-100-6" name="__codelineno-100-6" href="#__codelineno-100-6"></a><span class="w">    </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c295ea44-7543-4f78-b524-7a38915ad6e4&quot;</span><span class="p">,</span>
</span><span id="__span-100-7"><a id="__codelineno-100-7" name="__codelineno-100-7" href="#__codelineno-100-7"></a><span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;submitted&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-03-15T11:00:00Z&quot;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-100-8"><a id="__codelineno-100-8" name="__codelineno-100-8" href="#__codelineno-100-8"></a><span class="w">    </span><span class="c1">// ... other fields ...</span>
</span><span id="__span-100-9"><a id="__codelineno-100-9" name="__codelineno-100-9" href="#__codelineno-100-9"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-100-10"><a id="__codelineno-100-10" name="__codelineno-100-10" href="#__codelineno-100-10"></a><span class="p">}</span>
</span></code></pre></div>
<ol>
<li>
<p><strong>(Later) A2A Server completes the task and POSTs a notification to <code>https://client.example.com/webhook/a2a-notifications</code>:</strong></p>
</li>
<li>
<p><strong>HTTP Headers might include:</strong></p>
<ul>
<li><code>Authorization: Bearer &lt;server_jwt_for_webhook_audience&gt;</code> (if server authenticates to webhook)</li>
<li><code>Content-Type: application/json</code></li>
<li><code>X-A2A-Notification-Token: secure-client-token-for-task-aaa</code></li>
</ul>
</li>
<li><strong>HTTP Body (Task object is sent as JSON payload):</strong></li>
</ol>
<div class="language-json highlight"><pre><span></span><code><span id="__span-101-1"><a id="__codelineno-101-1" name="__codelineno-101-1" href="#__codelineno-101-1"></a><span class="p">{</span>
</span><span id="__span-101-2"><a id="__codelineno-101-2" name="__codelineno-101-2" href="#__codelineno-101-2"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;43667960-d455-4453-b0cf-1bae4955270d&quot;</span><span class="p">,</span>
</span><span id="__span-101-3"><a id="__codelineno-101-3" name="__codelineno-101-3" href="#__codelineno-101-3"></a><span class="w">  </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c295ea44-7543-4f78-b524-7a38915ad6e4&quot;</span><span class="p">,</span>
</span><span id="__span-101-4"><a id="__codelineno-101-4" name="__codelineno-101-4" href="#__codelineno-101-4"></a><span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-03-15T18:30:00Z&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-101-5"><a id="__codelineno-101-5" name="__codelineno-101-5" href="#__codelineno-101-5"></a><span class="w">  </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;task&quot;</span>
</span><span id="__span-101-6"><a id="__codelineno-101-6" name="__codelineno-101-6" href="#__codelineno-101-6"></a><span class="w">  </span><span class="c1">// ... other fields ...</span>
</span><span id="__span-101-7"><a id="__codelineno-101-7" name="__codelineno-101-7" href="#__codelineno-101-7"></a><span class="p">}</span>
</span></code></pre></div>
<ol>
<li>
<p><strong>Client's Webhook Service:</strong></p>
</li>
<li>
<p>Receives the POST.</p>
</li>
<li>Validates the <code>Authorization</code> header (if applicable).</li>
<li>Validates the <code>X-A2A-Notification-Token</code>.</li>
<li>Internally processes the notification (e.g., updates application state, notifies end user).</li>
</ol>
<h3 id="96-file-exchange-upload-and-download">9.6. File Exchange (Upload and Download)<a class="headerlink" href="#96-file-exchange-upload-and-download" title="Permanent link">&para;</a></h3>
<p><strong>Scenario:</strong> Client sends an image for analysis, and the agent returns a modified image.</p>
<ol>
<li><strong>Client <code>message/send</code> with a <code>FilePart</code> (uploading image bytes):</strong></li>
</ol>
<div class="language-json highlight"><pre><span></span><code><span id="__span-102-1"><a id="__codelineno-102-1" name="__codelineno-102-1" href="#__codelineno-102-1"></a><span class="p">{</span>
</span><span id="__span-102-2"><a id="__codelineno-102-2" name="__codelineno-102-2" href="#__codelineno-102-2"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-102-3"><a id="__codelineno-102-3" name="__codelineno-102-3" href="#__codelineno-102-3"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;req-007&quot;</span><span class="p">,</span>
</span><span id="__span-102-4"><a id="__codelineno-102-4" name="__codelineno-102-4" href="#__codelineno-102-4"></a><span class="w">  </span><span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;message/send&quot;</span><span class="p">,</span>
</span><span id="__span-102-5"><a id="__codelineno-102-5" name="__codelineno-102-5" href="#__codelineno-102-5"></a><span class="w">  </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-102-6"><a id="__codelineno-102-6" name="__codelineno-102-6" href="#__codelineno-102-6"></a><span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-102-7"><a id="__codelineno-102-7" name="__codelineno-102-7" href="#__codelineno-102-7"></a><span class="w">      </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
</span><span id="__span-102-8"><a id="__codelineno-102-8" name="__codelineno-102-8" href="#__codelineno-102-8"></a><span class="w">      </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-102-9"><a id="__codelineno-102-9" name="__codelineno-102-9" href="#__codelineno-102-9"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-102-10"><a id="__codelineno-102-10" name="__codelineno-102-10" href="#__codelineno-102-10"></a><span class="w">          </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-102-11"><a id="__codelineno-102-11" name="__codelineno-102-11" href="#__codelineno-102-11"></a><span class="w">          </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Analyze this image and highlight any faces.&quot;</span>
</span><span id="__span-102-12"><a id="__codelineno-102-12" name="__codelineno-102-12" href="#__codelineno-102-12"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-102-13"><a id="__codelineno-102-13" name="__codelineno-102-13" href="#__codelineno-102-13"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-102-14"><a id="__codelineno-102-14" name="__codelineno-102-14" href="#__codelineno-102-14"></a><span class="w">          </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">,</span>
</span><span id="__span-102-15"><a id="__codelineno-102-15" name="__codelineno-102-15" href="#__codelineno-102-15"></a><span class="w">          </span><span class="nt">&quot;file&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-102-16"><a id="__codelineno-102-16" name="__codelineno-102-16" href="#__codelineno-102-16"></a><span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;input_image.png&quot;</span><span class="p">,</span>
</span><span id="__span-102-17"><a id="__codelineno-102-17" name="__codelineno-102-17" href="#__codelineno-102-17"></a><span class="w">            </span><span class="nt">&quot;mimeType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;image/png&quot;</span><span class="p">,</span>
</span><span id="__span-102-18"><a id="__codelineno-102-18" name="__codelineno-102-18" href="#__codelineno-102-18"></a><span class="w">            </span><span class="nt">&quot;bytes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;iVBORw0KGgoAAAANSUhEUgAAAAUA...&quot;</span><span class="w"> </span><span class="c1">// Base64 encoded image data</span>
</span><span id="__span-102-19"><a id="__codelineno-102-19" name="__codelineno-102-19" href="#__codelineno-102-19"></a><span class="w">          </span><span class="p">}</span>
</span><span id="__span-102-20"><a id="__codelineno-102-20" name="__codelineno-102-20" href="#__codelineno-102-20"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-102-21"><a id="__codelineno-102-21" name="__codelineno-102-21" href="#__codelineno-102-21"></a><span class="w">      </span><span class="p">],</span>
</span><span id="__span-102-22"><a id="__codelineno-102-22" name="__codelineno-102-22" href="#__codelineno-102-22"></a><span class="w">      </span><span class="nt">&quot;messageId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;6dbc13b5-bd57-4c2b-b503-24e381b6c8d6&quot;</span>
</span><span id="__span-102-23"><a id="__codelineno-102-23" name="__codelineno-102-23" href="#__codelineno-102-23"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-102-24"><a id="__codelineno-102-24" name="__codelineno-102-24" href="#__codelineno-102-24"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-102-25"><a id="__codelineno-102-25" name="__codelineno-102-25" href="#__codelineno-102-25"></a><span class="p">}</span>
</span></code></pre></div>
<ol>
<li><strong>Server processes the image and responds with a <code>FilePart</code> in an artifact (e.g., providing a URI to the modified image):</strong></li>
</ol>
<div class="language-json highlight"><pre><span></span><code><span id="__span-103-1"><a id="__codelineno-103-1" name="__codelineno-103-1" href="#__codelineno-103-1"></a><span class="p">{</span>
</span><span id="__span-103-2"><a id="__codelineno-103-2" name="__codelineno-103-2" href="#__codelineno-103-2"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-103-3"><a id="__codelineno-103-3" name="__codelineno-103-3" href="#__codelineno-103-3"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;req-007&quot;</span><span class="p">,</span>
</span><span id="__span-103-4"><a id="__codelineno-103-4" name="__codelineno-103-4" href="#__codelineno-103-4"></a><span class="w">  </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-103-5"><a id="__codelineno-103-5" name="__codelineno-103-5" href="#__codelineno-103-5"></a><span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;43667960-d455-4453-b0cf-1bae4955270d&quot;</span><span class="p">,</span>
</span><span id="__span-103-6"><a id="__codelineno-103-6" name="__codelineno-103-6" href="#__codelineno-103-6"></a><span class="w">    </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c295ea44-7543-4f78-b524-7a38915ad6e4&quot;</span><span class="p">,</span>
</span><span id="__span-103-7"><a id="__codelineno-103-7" name="__codelineno-103-7" href="#__codelineno-103-7"></a><span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-03-15T12:05:00Z&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-103-8"><a id="__codelineno-103-8" name="__codelineno-103-8" href="#__codelineno-103-8"></a><span class="w">    </span><span class="nt">&quot;artifacts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-103-9"><a id="__codelineno-103-9" name="__codelineno-103-9" href="#__codelineno-103-9"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-103-10"><a id="__codelineno-103-10" name="__codelineno-103-10" href="#__codelineno-103-10"></a><span class="w">        </span><span class="nt">&quot;artifactId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;9b6934dd-37e3-4eb1-8766-962efaab63a1&quot;</span><span class="p">,</span>
</span><span id="__span-103-11"><a id="__codelineno-103-11" name="__codelineno-103-11" href="#__codelineno-103-11"></a><span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;processed_image_with_faces.png&quot;</span><span class="p">,</span>
</span><span id="__span-103-12"><a id="__codelineno-103-12" name="__codelineno-103-12" href="#__codelineno-103-12"></a><span class="w">        </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-103-13"><a id="__codelineno-103-13" name="__codelineno-103-13" href="#__codelineno-103-13"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-103-14"><a id="__codelineno-103-14" name="__codelineno-103-14" href="#__codelineno-103-14"></a><span class="w">            </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">,</span>
</span><span id="__span-103-15"><a id="__codelineno-103-15" name="__codelineno-103-15" href="#__codelineno-103-15"></a><span class="w">            </span><span class="nt">&quot;file&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-103-16"><a id="__codelineno-103-16" name="__codelineno-103-16" href="#__codelineno-103-16"></a><span class="w">              </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;output.png&quot;</span><span class="p">,</span>
</span><span id="__span-103-17"><a id="__codelineno-103-17" name="__codelineno-103-17" href="#__codelineno-103-17"></a><span class="w">              </span><span class="nt">&quot;mimeType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;image/png&quot;</span><span class="p">,</span>
</span><span id="__span-103-18"><a id="__codelineno-103-18" name="__codelineno-103-18" href="#__codelineno-103-18"></a><span class="w">              </span><span class="c1">// Server might provide a URI to a temporary storage location</span>
</span><span id="__span-103-19"><a id="__codelineno-103-19" name="__codelineno-103-19" href="#__codelineno-103-19"></a><span class="w">              </span><span class="nt">&quot;uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://storage.example.com/processed/task-bbb/output.png?token=xyz&quot;</span>
</span><span id="__span-103-20"><a id="__codelineno-103-20" name="__codelineno-103-20" href="#__codelineno-103-20"></a><span class="w">              </span><span class="c1">// Or, alternatively, it could return bytes directly:</span>
</span><span id="__span-103-21"><a id="__codelineno-103-21" name="__codelineno-103-21" href="#__codelineno-103-21"></a><span class="w">              </span><span class="c1">// &quot;bytes&quot;: &quot;ASEDGhw0KGgoAAAANSUhEUgAA...&quot;</span>
</span><span id="__span-103-22"><a id="__codelineno-103-22" name="__codelineno-103-22" href="#__codelineno-103-22"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-103-23"><a id="__codelineno-103-23" name="__codelineno-103-23" href="#__codelineno-103-23"></a><span class="w">          </span><span class="p">}</span>
</span><span id="__span-103-24"><a id="__codelineno-103-24" name="__codelineno-103-24" href="#__codelineno-103-24"></a><span class="w">        </span><span class="p">]</span>
</span><span id="__span-103-25"><a id="__codelineno-103-25" name="__codelineno-103-25" href="#__codelineno-103-25"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-103-26"><a id="__codelineno-103-26" name="__codelineno-103-26" href="#__codelineno-103-26"></a><span class="w">    </span><span class="p">],</span>
</span><span id="__span-103-27"><a id="__codelineno-103-27" name="__codelineno-103-27" href="#__codelineno-103-27"></a><span class="w">    </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;task&quot;</span>
</span><span id="__span-103-28"><a id="__codelineno-103-28" name="__codelineno-103-28" href="#__codelineno-103-28"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-103-29"><a id="__codelineno-103-29" name="__codelineno-103-29" href="#__codelineno-103-29"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="97-structured-data-exchange-requesting-and-providing-json">9.7. Structured Data Exchange (Requesting and Providing JSON)<a class="headerlink" href="#97-structured-data-exchange-requesting-and-providing-json" title="Permanent link">&para;</a></h3>
<p><strong>Scenario:</strong> Client asks for a list of open support tickets in a specific JSON format.</p>
<ol>
<li><strong>Client <code>message/send</code>, <code>Part.metadata</code> hints at desired output schema/Media Type:</strong>
   <em>(Note: A2A doesn't formally standardize schema negotiation in v0.2.0, but <code>metadata</code> can be used for such hints by convention between client/server).</em></li>
</ol>
<div class="language-json highlight"><pre><span></span><code><span id="__span-104-1"><a id="__codelineno-104-1" name="__codelineno-104-1" href="#__codelineno-104-1"></a><span class="p">{</span>
</span><span id="__span-104-2"><a id="__codelineno-104-2" name="__codelineno-104-2" href="#__codelineno-104-2"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-104-3"><a id="__codelineno-104-3" name="__codelineno-104-3" href="#__codelineno-104-3"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span>
</span><span id="__span-104-4"><a id="__codelineno-104-4" name="__codelineno-104-4" href="#__codelineno-104-4"></a><span class="w">  </span><span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;message/send&quot;</span><span class="p">,</span>
</span><span id="__span-104-5"><a id="__codelineno-104-5" name="__codelineno-104-5" href="#__codelineno-104-5"></a><span class="w">  </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-104-6"><a id="__codelineno-104-6" name="__codelineno-104-6" href="#__codelineno-104-6"></a><span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-104-7"><a id="__codelineno-104-7" name="__codelineno-104-7" href="#__codelineno-104-7"></a><span class="w">      </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
</span><span id="__span-104-8"><a id="__codelineno-104-8" name="__codelineno-104-8" href="#__codelineno-104-8"></a><span class="w">      </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-104-9"><a id="__codelineno-104-9" name="__codelineno-104-9" href="#__codelineno-104-9"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-104-10"><a id="__codelineno-104-10" name="__codelineno-104-10" href="#__codelineno-104-10"></a><span class="w">          </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-104-11"><a id="__codelineno-104-11" name="__codelineno-104-11" href="#__codelineno-104-11"></a><span class="w">          </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Show me a list of my open IT tickets&quot;</span><span class="p">,</span>
</span><span id="__span-104-12"><a id="__codelineno-104-12" name="__codelineno-104-12" href="#__codelineno-104-12"></a><span class="w">          </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-104-13"><a id="__codelineno-104-13" name="__codelineno-104-13" href="#__codelineno-104-13"></a><span class="w">            </span><span class="nt">&quot;mimeType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
</span><span id="__span-104-14"><a id="__codelineno-104-14" name="__codelineno-104-14" href="#__codelineno-104-14"></a><span class="w">            </span><span class="nt">&quot;schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-104-15"><a id="__codelineno-104-15" name="__codelineno-104-15" href="#__codelineno-104-15"></a><span class="w">              </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span><span class="p">,</span>
</span><span id="__span-104-16"><a id="__codelineno-104-16" name="__codelineno-104-16" href="#__codelineno-104-16"></a><span class="w">              </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-104-17"><a id="__codelineno-104-17" name="__codelineno-104-17" href="#__codelineno-104-17"></a><span class="w">                </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span id="__span-104-18"><a id="__codelineno-104-18" name="__codelineno-104-18" href="#__codelineno-104-18"></a><span class="w">                </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-104-19"><a id="__codelineno-104-19" name="__codelineno-104-19" href="#__codelineno-104-19"></a><span class="w">                  </span><span class="nt">&quot;ticketNumber&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-104-20"><a id="__codelineno-104-20" name="__codelineno-104-20" href="#__codelineno-104-20"></a><span class="w">                  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-104-21"><a id="__codelineno-104-21" name="__codelineno-104-21" href="#__codelineno-104-21"></a><span class="w">                </span><span class="p">}</span>
</span><span id="__span-104-22"><a id="__codelineno-104-22" name="__codelineno-104-22" href="#__codelineno-104-22"></a><span class="w">              </span><span class="p">}</span>
</span><span id="__span-104-23"><a id="__codelineno-104-23" name="__codelineno-104-23" href="#__codelineno-104-23"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-104-24"><a id="__codelineno-104-24" name="__codelineno-104-24" href="#__codelineno-104-24"></a><span class="w">          </span><span class="p">}</span>
</span><span id="__span-104-25"><a id="__codelineno-104-25" name="__codelineno-104-25" href="#__codelineno-104-25"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-104-26"><a id="__codelineno-104-26" name="__codelineno-104-26" href="#__codelineno-104-26"></a><span class="w">      </span><span class="p">],</span>
</span><span id="__span-104-27"><a id="__codelineno-104-27" name="__codelineno-104-27" href="#__codelineno-104-27"></a><span class="w">      </span><span class="nt">&quot;messageId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;85b26db5-ffbb-4278-a5da-a7b09dea1b47&quot;</span>
</span><span id="__span-104-28"><a id="__codelineno-104-28" name="__codelineno-104-28" href="#__codelineno-104-28"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-104-29"><a id="__codelineno-104-29" name="__codelineno-104-29" href="#__codelineno-104-29"></a><span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-104-30"><a id="__codelineno-104-30" name="__codelineno-104-30" href="#__codelineno-104-30"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-104-31"><a id="__codelineno-104-31" name="__codelineno-104-31" href="#__codelineno-104-31"></a><span class="p">}</span>
</span></code></pre></div>
<ol>
<li><strong>Server responds with structured JSON data:</strong></li>
</ol>
<div class="language-json highlight"><pre><span></span><code><span id="__span-105-1"><a id="__codelineno-105-1" name="__codelineno-105-1" href="#__codelineno-105-1"></a><span class="p">{</span>
</span><span id="__span-105-2"><a id="__codelineno-105-2" name="__codelineno-105-2" href="#__codelineno-105-2"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-105-3"><a id="__codelineno-105-3" name="__codelineno-105-3" href="#__codelineno-105-3"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span>
</span><span id="__span-105-4"><a id="__codelineno-105-4" name="__codelineno-105-4" href="#__codelineno-105-4"></a><span class="w">  </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-105-5"><a id="__codelineno-105-5" name="__codelineno-105-5" href="#__codelineno-105-5"></a><span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;d8c6243f-5f7a-4f6f-821d-957ce51e856c&quot;</span><span class="p">,</span>
</span><span id="__span-105-6"><a id="__codelineno-105-6" name="__codelineno-105-6" href="#__codelineno-105-6"></a><span class="w">    </span><span class="nt">&quot;contextId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c295ea44-7543-4f78-b524-7a38915ad6e4&quot;</span><span class="p">,</span>
</span><span id="__span-105-7"><a id="__codelineno-105-7" name="__codelineno-105-7" href="#__codelineno-105-7"></a><span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-105-8"><a id="__codelineno-105-8" name="__codelineno-105-8" href="#__codelineno-105-8"></a><span class="w">      </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
</span><span id="__span-105-9"><a id="__codelineno-105-9" name="__codelineno-105-9" href="#__codelineno-105-9"></a><span class="w">      </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-04-17T17:47:09.680794&quot;</span>
</span><span id="__span-105-10"><a id="__codelineno-105-10" name="__codelineno-105-10" href="#__codelineno-105-10"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-105-11"><a id="__codelineno-105-11" name="__codelineno-105-11" href="#__codelineno-105-11"></a><span class="w">    </span><span class="nt">&quot;artifacts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-105-12"><a id="__codelineno-105-12" name="__codelineno-105-12" href="#__codelineno-105-12"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-105-13"><a id="__codelineno-105-13" name="__codelineno-105-13" href="#__codelineno-105-13"></a><span class="w">        </span><span class="nt">&quot;artifactId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c5e0382f-b57f-4da7-87d8-b85171fad17c&quot;</span><span class="p">,</span>
</span><span id="__span-105-14"><a id="__codelineno-105-14" name="__codelineno-105-14" href="#__codelineno-105-14"></a><span class="w">        </span><span class="nt">&quot;parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-105-15"><a id="__codelineno-105-15" name="__codelineno-105-15" href="#__codelineno-105-15"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-105-16"><a id="__codelineno-105-16" name="__codelineno-105-16" href="#__codelineno-105-16"></a><span class="w">            </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-105-17"><a id="__codelineno-105-17" name="__codelineno-105-17" href="#__codelineno-105-17"></a><span class="w">            </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;[{\&quot;ticketNumber\&quot;:\&quot;REQ12312\&quot;,\&quot;description\&quot;:\&quot;request for VPN access\&quot;},{\&quot;ticketNumber\&quot;:\&quot;REQ23422\&quot;,\&quot;description\&quot;:\&quot;Add to DL - team-gcp-onboarding\&quot;}]&quot;</span>
</span><span id="__span-105-18"><a id="__codelineno-105-18" name="__codelineno-105-18" href="#__codelineno-105-18"></a><span class="w">          </span><span class="p">}</span>
</span><span id="__span-105-19"><a id="__codelineno-105-19" name="__codelineno-105-19" href="#__codelineno-105-19"></a><span class="w">        </span><span class="p">]</span>
</span><span id="__span-105-20"><a id="__codelineno-105-20" name="__codelineno-105-20" href="#__codelineno-105-20"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-105-21"><a id="__codelineno-105-21" name="__codelineno-105-21" href="#__codelineno-105-21"></a><span class="w">    </span><span class="p">],</span>
</span><span id="__span-105-22"><a id="__codelineno-105-22" name="__codelineno-105-22" href="#__codelineno-105-22"></a><span class="w">    </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;task&quot;</span>
</span><span id="__span-105-23"><a id="__codelineno-105-23" name="__codelineno-105-23" href="#__codelineno-105-23"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-105-24"><a id="__codelineno-105-24" name="__codelineno-105-24" href="#__codelineno-105-24"></a><span class="p">}</span>
</span></code></pre></div>
<p>These examples illustrate the flexibility of A2A in handling various interaction patterns and data types. Implementers should refer to the detailed object definitions for all fields and constraints.</p>
<h2 id="10-appendices">10. Appendices<a class="headerlink" href="#10-appendices" title="Permanent link">&para;</a></h2>
<h3 id="101-relationship-to-mcp-model-context-protocol">10.1. Relationship to MCP (Model Context Protocol)<a class="headerlink" href="#101-relationship-to-mcp-model-context-protocol" title="Permanent link">&para;</a></h3>
<p>A2A and MCP are complementary protocols designed for different aspects of agentic systems:</p>
<ul>
<li><strong><a href="https://modelcontextprotocol.io/">Model Context Protocol (MCP)</a>:</strong> Focuses on standardizing how AI models and agents connect to and interact with <strong>tools, APIs, data sources, and other external resources.</strong> It defines structured ways to describe tool capabilities (like function calling in LLMs), pass inputs, and receive structured outputs. Think of MCP as the "how-to" for an agent to <em>use</em> a specific capability or access a resource.</li>
<li><strong>Agent2Agent Protocol (A2A):</strong> Focuses on standardizing how independent, often opaque, <strong>AI agents communicate and collaborate with each other as peers.</strong> A2A provides an application-level protocol for agents to discover each other, negotiate interaction modalities, manage shared tasks, and exchange conversational context or complex results. It's about how agents <em>partner</em> or <em>delegate</em> work.</li>
</ul>
<p><strong>How they work together:</strong>
An A2A Client agent might request an A2A Server agent to perform a complex task. The Server agent, in turn, might use MCP to interact with several underlying tools, APIs, or data sources to gather information or perform actions necessary to fulfill the A2A task.</p>
<p>For a more detailed comparison, see the <a href="../topics/a2a-and-mcp/">A2A and MCP guide</a>.</p>
<h3 id="102-security-considerations-summary">10.2. Security Considerations Summary<a class="headerlink" href="#102-security-considerations-summary" title="Permanent link">&para;</a></h3>
<p>Security is a paramount concern in A2A. Key considerations include:</p>
<ul>
<li><strong>Transport Security:</strong> Always use HTTPS with strong TLS configurations in production environments.</li>
<li><strong>Authentication:</strong><ul>
<li>Handled via standard HTTP mechanisms (e.g., <code>Authorization</code> header with Bearer tokens, API keys).</li>
<li>Requirements are declared in the <code>AgentCard</code>.</li>
<li>Credentials MUST be obtained out-of-band by the client.</li>
<li>A2A Servers MUST authenticate every request.</li>
</ul>
</li>
<li><strong>Authorization:</strong><ul>
<li>A server-side responsibility based on the authenticated identity.</li>
<li>Implement the principle of least privilege.</li>
<li>Can be granular, based on skills, actions, or data.</li>
</ul>
</li>
<li><strong>Push Notification Security:</strong><ul>
<li>Webhook URL validation (by the A2A Server sending notifications) is crucial to prevent SSRF.</li>
<li>Authentication of the A2A Server to the client's webhook is essential.</li>
<li>Authentication of the notification by the client's webhook receiver (verifying it came from the legitimate A2A Server and is relevant) is critical.</li>
<li>See the <a href="../topics/streaming-and-async/#security-considerations-for-push-notifications">Streaming &amp; Asynchronous Operations guide</a> for detailed push notification security.</li>
</ul>
</li>
<li><strong>Input Validation:</strong> Servers MUST rigorously validate all RPC parameters and the content/structure of data in <code>Message</code> and <code>Artifact</code> parts to prevent injection attacks or processing errors.</li>
<li><strong>Resource Management:</strong> Implement rate limiting, concurrency controls, and resource limits to protect agents from abuse or overload.</li>
<li><strong>Data Privacy:</strong> Adhere to all applicable privacy regulations for data exchanged in <code>Message</code> and <code>Artifact</code> parts. Minimize sensitive data transfer.</li>
</ul>
<p>For a comprehensive discussion, refer to the <a href="../topics/enterprise-ready/">Enterprise-Ready Features guide</a>.</p>
<h2 id="11-a2a-compliance-requirements">11. A2A Compliance Requirements<a class="headerlink" href="#11-a2a-compliance-requirements" title="Permanent link">&para;</a></h2>
<p>This section defines the normative requirements for A2A-compliant implementations.</p>
<h3 id="111-agent-compliance">11.1. Agent Compliance<a class="headerlink" href="#111-agent-compliance" title="Permanent link">&para;</a></h3>
<p>For an agent to be considered <strong>A2A-compliant</strong>, it <strong>MUST</strong>:</p>
<h4 id="1111-transport-support-requirements">11.1.1. Transport Support Requirements<a class="headerlink" href="#1111-transport-support-requirements" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Support at least one transport</strong>: Agents <strong>MUST</strong> implement at least one transport protocols as defined in <a href="#32-supported-transport-protocols">Section 3.2</a>.</li>
<li><strong>Expose Agent Card</strong>: <strong>MUST</strong> provide a valid <code>AgentCard</code> document as defined in <a href="#5-agent-discovery-the-agent-card">Section 5</a>.</li>
<li><strong>Declare transport capabilities</strong>: <strong>MUST</strong> accurately declare all supported transports in the <code>AgentCard</code> using <code>preferredTransport</code> and <code>additionalInterfaces</code> fields following the requirements in <a href="#56-transport-declaration-and-url-relationships">Section 5.6</a>.</li>
</ul>
<h4 id="1112-core-method-implementation">11.1.2. Core Method Implementation<a class="headerlink" href="#1112-core-method-implementation" title="Permanent link">&para;</a></h4>
<p><strong>MUST</strong> implement all of the following core methods via at least one supported transport:</p>
<ul>
<li><code>message/send</code> - Send messages and initiate tasks</li>
<li><code>tasks/get</code> - Retrieve task status and results</li>
<li><code>tasks/cancel</code> - Request task cancellation</li>
</ul>
<h4 id="1113-optional-method-implementation">11.1.3. Optional Method Implementation<a class="headerlink" href="#1113-optional-method-implementation" title="Permanent link">&para;</a></h4>
<p><strong>MAY</strong> implement the following optional methods:</p>
<ul>
<li><code>message/stream</code> - Streaming message interaction (requires <code>capabilities.streaming: true</code>)</li>
<li><code>tasks/resubscribe</code> - Resume streaming for existing tasks (requires <code>capabilities.streaming: true</code>)</li>
<li><code>tasks/pushNotificationConfig/set</code> - Configure push notifications (requires <code>capabilities.pushNotifications: true</code>)</li>
<li><code>tasks/pushNotificationConfig/get</code> - Retrieve push notification config (requires <code>capabilities.pushNotifications: true</code>)</li>
<li><code>tasks/pushNotificationConfig/list</code> - List push notification configs (requires <code>capabilities.pushNotifications: true</code>)</li>
<li><code>tasks/pushNotificationConfig/delete</code> - Delete push notification config (requires <code>capabilities.pushNotifications: true</code>)</li>
<li><code>agent/authenticatedExtendedCard</code> - Retrieve authenticated agent card (requires <code>supportsAuthenticatedExtendedCard: true</code>)</li>
</ul>
<h4 id="1114-multi-transport-compliance">11.1.4. Multi-Transport Compliance<a class="headerlink" href="#1114-multi-transport-compliance" title="Permanent link">&para;</a></h4>
<p>If an agent supports additional transports (gRPC, HTTP+JSON), it <strong>MUST</strong>:</p>
<ul>
<li><strong>Functional equivalence</strong>: Provide identical functionality across all supported transports.</li>
<li><strong>Consistent behavior</strong>: Return semantically equivalent results for the same operations.</li>
<li><strong>Transport-specific requirements</strong>: Conform to all requirements defined in <a href="#32-supported-transport-protocols">Section 3.2</a> for each supported transport.</li>
<li><strong>Method mapping compliance</strong>: Use the standard method mappings defined in <a href="#35-method-mapping-and-naming-conventions">Section 3.5</a> for all supported transports.</li>
</ul>
<h4 id="1115-data-format-compliance">11.1.5. Data Format Compliance<a class="headerlink" href="#1115-data-format-compliance" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>JSON-RPC structure</strong>: <strong>MUST</strong> use valid JSON-RPC 2.0 request/response objects as defined in <a href="#611-json-rpc-structures">Section 6.11</a>.</li>
<li><strong>A2A data objects</strong>: <strong>MUST</strong> use the data structures defined in <a href="#6-protocol-data-objects">Section 6</a> for all protocol entities.</li>
<li><strong>Error handling</strong>: <strong>MUST</strong> use the error codes defined in <a href="#8-error-handling">Section 8</a>.</li>
</ul>
<h3 id="112-client-compliance">11.2. Client Compliance<a class="headerlink" href="#112-client-compliance" title="Permanent link">&para;</a></h3>
<p>For a client to be considered <strong>A2A-compliant</strong>, it <strong>MUST</strong>:</p>
<h4 id="1121-transport-support">11.2.1. Transport Support<a class="headerlink" href="#1121-transport-support" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Multi-transport capability</strong>: <strong>MUST</strong> be able to communicate with agents using at least one transport protocols.</li>
<li><strong>Agent Card processing</strong>: <strong>MUST</strong> be able to parse and interpret <code>AgentCard</code> documents.</li>
<li><strong>Transport selection</strong>: <strong>MUST</strong> be able to select an appropriate transport from the agent's declared capabilities following the rules defined in <a href="#563-client-transport-selection-rules">Section 5.6.3</a>.</li>
</ul>
<h4 id="1122-protocol-implementation">11.2.2. Protocol Implementation<a class="headerlink" href="#1122-protocol-implementation" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Core method usage</strong>: <strong>MUST</strong> properly construct requests for at least <code>message/send</code> and <code>tasks/get</code> methods.</li>
<li><strong>Error handling</strong>: <strong>MUST</strong> properly handle all A2A error codes defined in <a href="#82-a2a-specific-errors">Section 8.2</a>.</li>
<li><strong>Authentication</strong>: <strong>MUST</strong> support at least one authentication method when interacting with agents that require authentication.</li>
</ul>
<h4 id="1123-optional-client-features">11.2.3. Optional Client Features<a class="headerlink" href="#1123-optional-client-features" title="Permanent link">&para;</a></h4>
<p>Clients <strong>MAY</strong> implement:</p>
<ul>
<li><strong>Multi-transport support</strong>: Support for gRPC and/or HTTP+JSON transports.</li>
<li><strong>Streaming support</strong>: Handle streaming methods and Server-Sent Events.</li>
<li><strong>Push notification handling</strong>: Serve as webhook endpoints for push notifications.</li>
<li><strong>Extended Agent Cards</strong>: Retrieve and use authenticated extended agent cards.</li>
</ul>
<h3 id="113-compliance-testing">11.3. Compliance Testing<a class="headerlink" href="#113-compliance-testing" title="Permanent link">&para;</a></h3>
<p>Implementations <strong>SHOULD</strong> validate compliance through:</p>
<ul>
<li><strong>Transport interoperability</strong>: Test communication with agents using different transport implementations.</li>
<li><strong>Method mapping verification</strong>: Verify that all supported transports use the correct method names and URL patterns as defined in <a href="#35-method-mapping-and-naming-conventions">Section 3.5</a>.</li>
<li><strong>Error handling</strong>: Verify proper handling of all defined error conditions.</li>
<li><strong>Data format validation</strong>: Ensure JSON schemas match the TypeScript type definitions in <a href="https://github.com/a2aproject/A2A/blob/main/types/src/types.ts"><code>types/src/types.ts</code></a>.</li>
<li><strong>Multi-transport consistency</strong>: For multi-transport agents, verify functional equivalence across all supported transports.</li>
</ul>









  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../tutorials/python/8-next-steps/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Next Steps">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Next Steps
              </div>
            </div>
          </a>
        
        
          
          <a href="../sdk/" class="md-footer__link md-footer__link--next" aria-label="Next: A2A SDK">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                A2A SDK
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright 2025 The Linux Foundation. Licensed under the Apache License, Version 2.0.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["announce.dismiss", "content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.progress", "navigation.path", "navigation.top", "navigation.tracking", "toc.follow", {"versioning": {"provider": "mike"}}], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>